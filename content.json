{"meta":{"title":"OI-Cheatsheet","subtitle":"Hello, the cruel world.","description":"","author":"ret2libc-pwned","url":"https://ret2libc-pwned.github.io","root":"/"},"pages":[{"title":"tags","date":"2021-10-16T12:54:16.000Z","updated":"2021-10-16T13:10:08.000Z","comments":false,"path":"categories/index.html","permalink":"https://ret2libc-pwned.github.io/categories/index.html","excerpt":"","text":""},{"title":"ç•™è¨€æ¿","date":"2023-05-27T02:32:30.000Z","updated":"2023-05-27T02:39:28.819Z","comments":true,"path":"msg-board/index.html","permalink":"https://ret2libc-pwned.github.io/msg-board/index.html","excerpt":"","text":"åœ¨ä¸‹é¢ç•…æ‰€æ¬²è¨€å§ï¼"},{"title":"å…³äºæˆ‘","date":"2021-10-16T14:14:36.000Z","updated":"2023-05-27T02:39:41.118Z","comments":false,"path":"about/index.html","permalink":"https://ret2libc-pwned.github.io/about/index.html","excerpt":"","text":"è‡ªæˆ‘ä»‹ç» ä½ å¥½, æˆ‘æ˜¯ ret2libc-pwned@github, æ­£åœ¨ é›¶åŸºç¡€ å…¥é—¨OI . è¿™æ˜¯æˆ‘çš„ä¸€æœ¬å°æŠ„, å¦‚æœä½ æ°å¥½æ‰¾åˆ°äº†è¿™é‡Œ, æˆ‘å¾ˆå¸Œæœ›å®ƒèƒ½å¸®åŠ©åˆ°ä½ ! è”ç³»æ–¹å¼ QQ 2184016258, æ¬¢è¿å’Œæˆ‘äº¤æœ‹å‹, æˆ–è€…æ•™æ•™æˆ‘æ€ä¹ˆé›¶åŸºç¡€å…¥é—¨ç®—æ³•! è¿™ä¸ªåå­—æœ‰ä»€ä¹ˆå«ä¹‰? ret2libc æ˜¯ pwn (äºŒè¿›åˆ¶å®‰å…¨, binary exploitation)é‡Œçš„ä¸€ä¸ªåˆ©ç”¨æŠ€å·§."},{"title":"åŸåˆ›æ•°å­¦è®²ä¹‰ä¸è¯•é¢˜","date":"2022-07-02T08:20:04.000Z","updated":"2022-07-02T08:34:12.000Z","comments":true,"path":"math-notebook/index.html","permalink":"https://ret2libc-pwned.github.io/math-notebook/index.html","excerpt":"","text":"## æ¬¢è¿ä½¿ç”¨ æ‚¨å¥½, æ„Ÿè°¢é˜…è¯»åšä¸»åŸåˆ›çš„æ•°å­¦è®²ä¹‰ä¸éƒ¨åˆ†åŸåˆ›çš„ä¹ é¢˜. å…³äºè®²ä¹‰ è¿™å¥—è®²ä¹‰ä½¿ç”¨ Typora è½¯ä»¶ç¼–å†™, å…¬å¼ä½¿ç”¨ LaTeX\\LaTeXLATEâ€‹X ç¼–è¾‘. ç»ƒä¹ é¢˜æŒ‰ç…§å­¦æ ¡è¯•å·æ ·å¼å¯¼å‡ºåˆ° Wordè½¯ä»¶å†æ¬¡æ’ç‰ˆ. è®²ä¹‰å’Œç»ƒä¹ çš„æ•´ä½“éš¾åº¦ç•¥é«˜äºè¯¾å†…çŸ¥è¯†, å¯ä»¥æ ¹æ®æ‚¨çš„éœ€è¦è¿›è¡Œæ‹“å±•å»¶ä¼¸. è®²ä¹‰é¡µçœ‰ä¼šæ ‡æ˜ release date å’Œ ä½œè€…è”ç³»æ–¹å¼ , å¯ä»¥é€šè¿‡ä¸‹æ–¹é€”å¾„åé¦ˆ, åé¦ˆæ—¶éœ€æä¾›è®²ä¹‰çš„æˆªå›¾ æˆ– release date. åé¦ˆä¸å‹˜è¯¯ è¯¥å¥—è®²ä¹‰æ˜¯åšä¸»è‡ªå·± ä¸ªäººä½¿ç”¨ çš„, æš‚æ—¶ä¸å¼€è®¾è¯»è€…è®ºå›ç­‰é€”å¾„è¿›è¡Œäº¤æµåé¦ˆ. æ¬¢è¿æ‚¨å°†è®²ä¹‰åˆ†äº«ç»™å…¶ä»–äºº, æˆ–æ˜¯äºŒæ¬¡ç¼–è¾‘è¿›è¡Œ éç›ˆåˆ© æ´»åŠ¨ (æºæ–‡ä»¶å¯åŠ QQç´¢è¦). å¸Œæœ›å¯ä»¥å¸®åŠ©æ›´å¤šå¯¹æƒ³è¦æå‡æ•°å­¦èƒ½åŠ›æˆ–è€…å¯¹æ•°å­¦æ„Ÿå…´è¶£åŒå­¦! **æ³¨: å¦‚æœæ‚¨ä¸èƒ½é€šè¿‡è®²ä¹‰ä¸Šçš„è”ç³»æ–¹å¼æ‰¾åˆ°æˆ‘, å¯ä»¥åœ¨é¡µé¢ä¸‹æ–¹ç•™è¨€! **"},{"title":"tags","date":"2021-10-16T13:18:16.000Z","updated":"2021-10-17T03:36:04.000Z","comments":false,"path":"tags/index.html","permalink":"https://ret2libc-pwned.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ç»„åˆç¬”è®°","slug":"ç»„åˆç¬”è®°","date":"2024-06-01T14:05:15.000Z","updated":"2024-06-12T10:17:50.220Z","comments":true,"path":"2024/06/01/ç»„åˆç¬”è®°/","link":"","permalink":"https://ret2libc-pwned.github.io/2024/06/01/%E7%BB%84%E5%90%88%E7%AC%94%E8%AE%B0/","excerpt":"","text":"ç»„åˆç¬”è®° å‰è¨€ è¯¾å†…åœ¨å­¦ç»„åˆï¼Œæ— å¥ˆç¬”è€…ä¸€ç‚¹éƒ½ä¸ä¼šï¼Œåªèƒ½æ¶è¡¥ä¸€ä¸‹äº†ğŸ˜­ å¦‚æœä½ ä¸ç¬”è€…ä¸€æ ·ï¼Œæ²¡æœ‰å­¦è¿‡â€œå°å¥¥â€ï¼Œå¸Œæœ›ç”¨ä¸­å­¦çŸ¥è¯†å…¨é¢åœ°å­¦ä¹ ç»„åˆï¼Œè¿™ç¯‡ç¬”è®°å€¼å¾—ä¸€çœ‹ï¼ æœ¬æ–‡ç”¨å·²ç»è®¤è¯†åˆ°çš„æ•°å­¦å¯¹è±¡ï¼šé›†åˆä¸æœ‰åºå¯¹ï¼Œå…¨é¢ã€ç³»ç»Ÿåœ°å¤ä¹ æœŸæœ«è¦è€ƒçš„ç»„åˆçŸ¥è¯†ç‚¹ã€‚ ä¸¤ä¸ªåŸºæœ¬è®¡æ•°åŸç† åŠ æ³•åŸç† å·²çŸ¥é›†åˆ SSS çš„ nnn ä¸ªåˆ’åˆ†[1] S1,S2,â‹¯ ,SnS_1, S_2, \\cdots, S_nS1â€‹,S2â€‹,â‹¯,Snâ€‹ çš„å…ƒç´ ä¸ªæ•°ï¼Œåˆ™ âˆ£Sâˆ£=âˆ‘i=1nâˆ£Siâˆ£|S| = \\sum_{i=1}^n |S_i| âˆ£Sâˆ£=i=1âˆ‘nâ€‹âˆ£Siâ€‹âˆ£ â˜… åŠ æ³•åŸç†ä¸€èˆ¬ç”¨æ¥ä¸ºå¦‚ä¸‹é—®é¢˜å»ºæ¨¡ï¼š ä¾‹é¢˜ 1. æŸå·ç‹ä¸€å¤©åš nnn ä»½è¯•å·ï¼Œæ¯ä»½è¯•å·æœ‰ aia_iaiâ€‹ é¢˜ï¼Œå¥¹ä¸€å¤©è¦å®Œæˆ âˆ‘ai\\sum a_iâˆ‘aiâ€‹ é¢˜ã€‚ SSSï¼šå¥¹éœ€è¦å®Œæˆçš„æ‰€æœ‰é¢˜ç›® SiS_iSiâ€‹ï¼šæŸå¼ è¯•å·ä¸­å¥¹éœ€è¦å®Œæˆçš„é¢˜ç›® ä¾‹é¢˜ 2. ä»ç”²å•†åº—è´­ä¹°ä¸€ä»¶è¡£æœæœ‰ mmm ç§æ–¹æ¡ˆï¼Œä»ä¹™å•†åº—è´­ä¹°ä¸€æ¡è£¤å­æœ‰ nnn ç§ï¼Œä¹°ä¸€ä»¶ä¸Šè¡£ä¸ä¸€æ¡è£¤å­çš„æ–¹æ¡ˆæœ‰ m+nm + nm+n ç§ã€‚ SSSï¼šä¹°ä¸€ä»¶ä¸Šè¡£ä¸ä¸€æ¡è£¤å­çš„æ‰€æœ‰æ–¹æ¡ˆ S1S_1S1â€‹ï¼šä»ç”²å•†åº—è´­ä¹°ä¸€ä»¶è¡£æœçš„æ‰€æœ‰æ–¹æ¡ˆ S2S_2S2â€‹ï¼šä»ä¹™å•†åº—è´­ä¹°ä¸€ä»¶è¡£æœçš„æ‰€æœ‰æ–¹æ¡ˆ ä¹˜æ³•åŸç† ä»¤é›†åˆ SSS ä¸ºæœ‰åºå¯¹ (a1,â‹¯ ,an)(a_1, \\cdots, a_n)(a1â€‹,â‹¯,anâ€‹) æ„æˆçš„é›†åˆ S={(a1,a2,â‹¯ ,an):aiâˆˆAi}S = \\{(a_1, a_2, \\cdots, a_n): a_i\\in A_i\\} S={(a1â€‹,a2â€‹,â‹¯,anâ€‹):aiâ€‹âˆˆAiâ€‹} å…¶ä¸­ï¼Œaia_iaiâ€‹ å–é AiA_iAiâ€‹ã€‚ é‚£ä¹ˆï¼Œ âˆ£Sâˆ£=âˆi=1nâˆ£Aiâˆ£|S| = \\prod_{i=1}^{n} |A_i| âˆ£Sâˆ£=i=1âˆnâ€‹âˆ£Aiâ€‹âˆ£ æ¢å¥è¯è¯´ï¼Œnnn å…ƒæœ‰åºå¯¹ (a1,â‹¯ ,an)(a_1, \\cdots, a_n)(a1â€‹,â‹¯,anâ€‹)â€‹â€‹ çš„å–å€¼æ–¹æ¡ˆæ•°ç­‰äºå…¶æ¯ä¸ªå…ƒç´ çš„å–å€¼æ–¹æ¡ˆæ•°ä¹‹ç§¯ã€‚ ä¹˜æ³•åŸç†æ˜¯åŠ æ³•åŸç†çš„æ¨è®ºã€‚ ä¾‹é¢˜ 1. åšä¸€ä»¶äº‹æœ‰ nnnâ€‹ æ­¥ï¼Œæ¯æ­¥æœ‰ aia_iaiâ€‹â€‹ ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå®Œæˆè¿™ä»¶äº‹å…±æœ‰ âˆai\\prod a_iâˆaiâ€‹â€‹â€‹ ç§æ–¹æ³•ã€‚ å®Œæˆè¿™ä»¶äº‹çš„ä¸€ç§æ–¹æ³•å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ª nnn å…ƒæœ‰åºå¯¹ï¼Œè¿™ä¸ªæœ‰åºå¯¹çš„æ¯ä¸ªå…ƒç´ æœ‰ aia_iaiâ€‹ ç§å–å€¼ã€‚ é‚£ä¹ˆï¼Œå®Œæˆè¿™ä»¶äº‹çš„æ‰€æœ‰æ–¹æ³•æ˜¯æ‰€æœ‰è¿™äº›æœ‰åºå¯¹æ„æˆçš„é›†åˆ SSS æ˜¾ç„¶ï¼ŒS=âˆaiS = \\prod a_iS=âˆaiâ€‹ã€‚ æ€»ç»“ åŠ æ³•åŸç†ã€ä¹˜æ³•åŸç†çš„æœ¬è´¨åŒºåˆ«ä¸ºå»ºæ¨¡æ—¶é€‰å–çš„æ•°å­¦å¯¹è±¡åˆ†åˆ«æ˜¯é›†åˆ(æ— åº)ä¸æœ‰åºå¯¹(æœ‰åº)ã€‚ è¿™å¯ç¤ºäº†æˆ‘ä»¬åº”è¯¥æœ‰ç±»ä¼¼è¿™æ ·çš„æ„Ÿæ€§è®¤è¯†ï¼š è‹¥äº‹ä»¶é—´ä¸¤ä¸¤ç‹¬ç«‹ã€äº’ä¸å¹²æ‰°ï¼Œåˆ™åº”è¯¥ä½¿ç”¨åŠ æ³•åŸç† è‹¥åä¸€é¡¹äº‹ä»¶ä¾èµ–äºå‰ä¸€é¡¹äº‹ä»¶ï¼Œåˆ™åº”è¯¥ä½¿ç”¨ä¹˜æ³•åŸç† å½“ç„¶ï¼Œç»è¿‡å¤§é‡ç»ƒä¹ åå¯ä»¥å¤§å¤§å‡å°‘è€ƒè™‘â€œä½¿ç”¨ä½•ç§æ¨¡å‹ä¸ç»“è®ºâ€çš„æ—¶é—´ã€‚ ä¸¤ä¸ªé‡è¦æ€æƒ³ è¡¥é›†è½¬åŒ– (å‡æ³•åŸç†) ä»¤ UUU ä¸ºå…¨é›†ï¼ŒSË‰=Uâˆ–S\\bar S = U \\setminus SSË‰=Uâˆ–Sï¼Œåˆ™ âˆ£Sâˆ£=âˆ£Uâˆ£âˆ’âˆ£SË‰âˆ£|S| = |U| - \\left|\\bar S\\right| âˆ£Sâˆ£=âˆ£Uâˆ£âˆ’â€‹SË‰â€‹ â˜… è¿™ä¸ªæ€æƒ³è‡³å…³é‡è¦ã€‚å®ƒæé†’æˆ‘ä»¬åœ¨è€ƒè™‘æ²¡æœ‰é‚£ä¹ˆå®¹æ˜“ç›´æ¥æ±‚å¾—æ»¡è¶³æ¡ä»¶çš„å¯¹è±¡æ•°ç›®æ—¶ï¼Œå°†é—®é¢˜è½¬æ¢ä¸ºä»æ›´æ˜“è®¡æ•°çš„å…¨é›† UUU ä¸­é™¤å»ä¸ç¬¦åˆæ¡ä»¶çš„å¯¹è±¡æ„æˆçš„é›†åˆå¾—åˆ°æ¬²æ±‚é›†åˆ (å…ƒç´ çš„ä¸ªæ•°)ã€‚ é™¤æ³•åŸç† ä¸€ä¸ªåˆ’åˆ†ç»™å‡ºé›†åˆ SSS çš„ kkk éƒ¨åˆ†ï¼Œä¸”æ¯éƒ¨åˆ†çš„å…ƒç´ ä¸ªæ•°ç›¸åŒã€‚åˆ™æ¯éƒ¨åˆ†çš„å…ƒç´ ä¸ªæ•°ä¸º âˆ£Sâˆ£/k|S|/kâˆ£Sâˆ£/kã€‚ ä¾‹é¢˜ 1. ä»¤ C(n,r)C(n,r)C(n,r) è¡¨ç¤ºä» nnn å…ƒé›†åˆä¸­å–å‡º rrr å…ƒå­é›†çš„æ–¹æ¡ˆæ•°ã€P(n,r)P(n,r)P(n,r) è¡¨ç¤ºä» nnn å…ƒé›†åˆä¸­å–å‡º rrr å…ƒæœ‰åºå¯¹çš„æ–¹æ¡ˆæ•°ã€‚åˆ™ C(n,r)=P(n,r)P(r,r)C(n,r) = \\frac{P(n,r)}{P(r,r)} C(n,r)=P(r,r)P(n,r)â€‹ P(r,r)P(r,r)P(r,r) ä¸ªæœ‰åºå¯¹çš„æ‰€æœ‰å…ƒç´ å¯ä»¥è¡¨è¾¾ä¸ºåŒä¸€ä¸ª rrrâ€‹ å…ƒé›†åˆã€‚é‚£ä¹ˆï¼Œåªéœ€å°†è¿™ P(r,r)P(r,r)P(r,r) ä¸ªæœ‰åºå¯¹ä¸­çš„ä¸€ä¸ªç®—ä½œæ˜¯é›†åˆå³å¯ã€‚åˆ’åˆ†éƒ¨åˆ†çš„æ•°é‡ kkk ä¸º P(r,r)P(r,r)P(r,r)â€‹â€‹ã€‚ â˜… è¯¥ä¾‹å¯ç¤ºæˆ‘ä»¬ï¼Œè®¡ç®—æ–¹æ¡ˆæ•°æ—¶ï¼Œé›†åˆä¸æœ‰åºå¯¹çš„è½¬æ¢å¸¸ç”¨ä¹˜æ³•åŸç†ã€é™¤æ³•åŸç†ã€‚æˆ‘ä»¬åœ¨åé¢ä¼šåå¤ç”¨åˆ°è¿™ä¸ªç»éªŒã€‚ æ’åˆ—æ•°å’Œç»„åˆæ•° æœ¬æ–‡çº¦å®š nâ‰¥r&gt;0n \\ge r &gt; 0nâ‰¥r&gt;0ã€‚ ä¸ºè¾“å…¥æ–¹ä¾¿ï¼Œæˆ‘ä»¬çº¦å®šæœ¬æ–‡ä¸­çš„è®°å·å‡ä¸ºç¾å¼è®°æ³•ã€‚ åç§° ç¾å¼è®°æ³• è‹å¼è®°æ³• æ’åˆ—æ•° P(n,r)P(n,r)P(n,r) Pnr\\mathrm P_n^rPnrâ€‹ ç»„åˆæ•° (nr)\\binom{n}{r}(rnâ€‹) Cnr\\mathrm C_n^rCnrâ€‹ â˜… å¦‚ä½•ä¸åœ¨æ··ç”¨ç¾å¼ã€è‹å¼è®°æ³•çš„æ—¶å€™å¼„é”™ï¼Ÿå»ºè®®ä½¿ç”¨è¾ƒä¸ºè§„èŒƒçš„è¯»æ³•ã€‚ ç¬”è€…ä¹ æƒ¯ç§°ï¼š P(n,r)P(n,r)P(n,r)ã€Pnr\\mathrm P_n^rPnrâ€‹ ä¸º nnn å…ƒé›†çš„ rrr æ’åˆ—ï¼› (nr)\\binom{n}{r}(rnâ€‹)ã€Cnr\\mathrm C_n^rCnrâ€‹ ä¸º nnn å…ƒé›†çš„ rrr å­é›†ã€‚ æ’åˆ— ä» nnn å…ƒé›†åˆä¸­å–å‡º rrr å…ƒæœ‰åºå¯¹çš„æ–¹æ¡ˆæ•°ä¸º P(n,r)=nÃ—(nâˆ’1)Ã—(nâˆ’2)Ã—â‹¯Ã—(nâˆ’r+1)=n!(nâˆ’r)!\\boxed{P(n,r) = n \\times (n - 1) \\times (n - 2) \\times \\cdots \\times (n - r + 1) = \\frac{n!}{(n-r)!}} P(n,r)=nÃ—(nâˆ’1)Ã—(nâˆ’2)Ã—â‹¯Ã—(nâˆ’r+1)=(nâˆ’r)!n!â€‹â€‹ è€ƒè™‘å°† nnn å…ƒé›†åˆçš„ rrr ä¸ªå…ƒç´ å¡«å……è¿›è¿™ä¸ªæœ‰åºå¯¹ï¼Œç¬¬ iii ä¸ªä½ç½®æœ‰ (nâˆ’i+1)(n - i + 1)(nâˆ’i+1)â€‹ ç§å¡«æ³•ï¼Œæ ¹æ®ä¹˜æ³•åŸç†å¾—åˆ°ä¸Šå¼ã€‚ ç»„åˆ ä» nnn å…ƒé›†åˆä¸­å–å‡º rrr å…ƒå­é›†çš„æ–¹æ¡ˆæ•°ä¸º (nr)=P(n,r)P(r,r)=n!r!(nâˆ’r)!\\boxed{\\binom{n}{r} = \\frac{P(n,r)}{P(r,r)}=\\frac{n!}{r!(n-r)!}} (rnâ€‹)=P(r,r)P(n,r)â€‹=r!(nâˆ’r)!n!â€‹â€‹ è§é™¤æ³•åŸç†ä¾‹é¢˜ 1ã€‚ä¸å†èµ˜è¿°ã€‚ æ€»ç»“ æ’åˆ—æ•°ä¸ç»„åˆæ•°çš„æœ¬è´¨åŒºåˆ«åœ¨äºï¼šåˆ’åˆ†åçš„æ¯ä¸ªéƒ¨åˆ†æ˜¯æœ‰åºå¯¹ (ä¸é¡ºåºæ— å…³) è¿˜æ˜¯é›†åˆ (ä¸é¡ºåºæœ‰å…³)ã€‚ æ’åˆ—æ•°ä¸ç»„åˆæ•°å¯ä»¥æ ¹æ®ä¹˜æ³•åŸç†ä¸é™¤æ³•ç›¸äº’è½¬åŒ–ã€‚ ä¹ é¢˜ï¼šåµŒå¥—æ’åˆ—ç»„åˆã€æ’ç©ºä¸æ†ç»‘ã€éš”æ¿æ³• ç‰ˆæƒå£°æ˜ï¼šéƒ¨åˆ†é¢˜ç›®æ¥è‡ªå­¦æ ¡è¯¾ä»¶ã€‚ (åµŒå¥—æ’åˆ—ç»„åˆ) åˆ† 6 æœ¬ä¸åŒçš„ä¹¦ï¼Œæ±‚æ–¹æ¡ˆæ•°ã€‚ (1) åˆ†ç»™ç”²ã€ä¹™ã€ä¸™ä¸‰äººï¼Œæ¯äºº 2 æœ¬ï¼› (2) åˆ†æˆä¸‰å †ï¼Œæ¯å † 2 æœ¬ï¼› (3) åˆ†æˆä¸‰å †ï¼Œä¸€å † 1 æœ¬ã€ä¸€å † 2 æœ¬ã€ä¸€å † 3 æœ¬ï¼› (4) åˆ†ç»™ç”²ã€ä¹™ã€ä¸™ä¸‰äººï¼Œä¸€å † 1 æœ¬ã€ä¸€å † 2 æœ¬ã€ä¸€å † 3 æœ¬ï¼› (5) åˆ†ç»™ç”²ã€ä¹™ã€ä¸™ä¸‰äººï¼Œä¸€äºº 4 æœ¬ã€ä¸€äºº 1 æœ¬ã€ä¸€äºº 1 æœ¬. è§£ç­”ï¼š æˆ‘ä»¬å…ˆå¯¹é—®é¢˜å»ºæ¨¡ï¼Œç„¶åå¥—ç”¨ç»“è®ºæ±‚è§£ã€‚é—®é¢˜æœ€åçš„æ‹¬å·é‡Œæ˜¯ç­”æ¡ˆã€‚ (1) åˆ†ç»™ç”²ã€ä¹™ã€ä¸™ä¸‰äººï¼Œæ¯äºº 2 æœ¬ï¼›(90) è¿™ä¸ªé—®é¢˜å¯ä»¥å°†æ¯ä¸€ç§æ–¹æ¡ˆæŠ½è±¡æˆç”±ä¸‰ä¸ªä¸¤å…ƒé›†æ„æˆçš„æœ‰åºå¯¹ã€‚(â€œæœ‰åºå¯¹å¥—é›†åˆâ€) ({a1,b1},{a2,b2},{a3,b3})\\left(\\{a_1,b_1\\},\\{a_2,b_2\\},\\{a_3, b_3\\}\\right) ({a1â€‹,b1â€‹},{a2â€‹,b2â€‹},{a3â€‹,b3â€‹}) è§£æ³• 1ï¼šç›´æ¥é€ä¸ªå…ƒç´ åœ°æ„é€ è¿™ä¸ªé›†åˆã€‚ç­”æ¡ˆä¸º (62)Ã—(42)Ã—(22)\\binom 62 \\times \\binom 42 \\times \\binom 22(26â€‹)Ã—(24â€‹)Ã—(22â€‹)â€‹ã€‚ è§£æ³• 2ï¼šâ€œå…ˆåˆ†ç»„ï¼Œå†åˆ†é…â€ã€‚ç­”æ¡ˆä¸ºï¼š(62)Ã—P(3,3)\\binom 62 \\times P(3,3)(26â€‹)Ã—P(3,3)â€‹ã€‚â€‹ â˜… å…³äºè¿™ä¸¤ç§æ–¹æ³•çš„è§£é‡Šè¯·è§æœ¬é¢˜æœ€ä¸‹é¢çš„äº”è§’æ˜Ÿã€‚ (2) åˆ†æˆä¸‰å †ï¼Œæ¯å † 2 æœ¬ï¼›(15) è¿™ä¸ªé—®é¢˜å¯ä»¥å°†æ¯ä¸€ç§æ–¹æ¡ˆæŠ½è±¡æˆç”±ä¸‰ä¸ªä¸¤å…ƒé›†æ„æˆçš„é›†åˆã€‚(â€œé›†åˆå¥—é›†åˆâ€) {{a1,b1},{a2,b2},{a3,b3}}\\left\\{\\{a_1,b_1\\},\\{a_2,b_2\\},\\{a_3, b_3\\}\\right\\} {{a1â€‹,b1â€‹},{a2â€‹,b2â€‹},{a3â€‹,b3â€‹}} è¿™ç­‰ä»·äºæ±‚ 6 å…ƒé›†å– 2 å…ƒå­é›†çš„æ–¹æ¡ˆæ•°ã€‚ç­”æ¡ˆä¸ºï¼š(62)\\binom 62(26â€‹)ã€‚ (3) åˆ†æˆä¸‰å †ï¼Œä¸€å † 1 æœ¬ã€ä¸€å † 2 æœ¬ã€ä¸€å † 3 æœ¬ï¼›(60) è¿™ä¸ªé—®é¢˜å¯ä»¥å°†æ¯ä¸€ç§æ–¹æ¡ˆæŠ½è±¡æˆç”±ä¸€ä¸ªä¸€å…ƒé›†ã€ä¸€ä¸ªä¸¤å…ƒé›†ã€ä¸€ä¸ªä¸‰å…ƒé›†æ„æˆçš„é›†åˆã€‚(â€œé›†åˆå¥—é›†åˆâ€) {{a1},{a2,b2},{a3,b3,c3}}\\left\\{\\{a_1\\},\\{a_2,b_2\\},\\{a_3, b_3,c_3\\}\\right\\} {{a1â€‹},{a2â€‹,b2â€‹},{a3â€‹,b3â€‹,c3â€‹}} æˆ‘ä»¬ç›´æ¥é€ä¸ªå…ƒç´ åœ°æ„é€ è¿™ä¸ªé›†åˆã€‚ç­”æ¡ˆä¸ºï¼š(63)Ã—(32)Ã—(11)\\binom 6 3 \\times \\binom 3 2 \\times \\binom 1 1(36â€‹)Ã—(23â€‹)Ã—(11â€‹)ã€‚ (4) åˆ†ç»™ç”²ã€ä¹™ã€ä¸™ä¸‰äººï¼Œä¸€å † 1 æœ¬ã€ä¸€å † 2 æœ¬ã€ä¸€å † 3 æœ¬ï¼›(360) è¿™ä¸ªé—®é¢˜å¯ä»¥å°†æ¯ä¸€ç§æ–¹æ¡ˆæŠ½è±¡æˆç”±ä¸€ä¸ªä¸€å…ƒé›†ã€ä¸€ä¸ªä¸¤å…ƒé›†ã€ä¸€ä¸ªä¸‰å…ƒé›†æ„æˆçš„æœ‰åºå¯¹ã€‚(â€œæœ‰åºå¯¹å¥—é›†åˆâ€) ({a1},{a2,b2},{a3,b3,c3})\\left(\\{a_1\\},\\{a_2,b_2\\},\\{a_3, b_3,c_3\\}\\right) ({a1â€‹},{a2â€‹,b2â€‹},{a3â€‹,b3â€‹,c3â€‹}) (63)Ã—(32)Ã—(11)Ã—P(3,3)\\binom 6 3 \\times \\binom 3 2 \\times \\binom 1 1\\times P(3,3)(36â€‹)Ã—(23â€‹)Ã—(11â€‹)Ã—P(3,3) (5) åˆ†ç»™ç”²ã€ä¹™ã€ä¸™ä¸‰äººï¼Œä¸€äºº 4 æœ¬ã€ä¸€äºº 1 æœ¬ã€ä¸€äºº 1 æœ¬. (90) è¿™ä¸ªé—®é¢˜å¯ä»¥å°†æ¯ä¸€ç§æ–¹æ¡ˆæŠ½è±¡æˆç”±ä¸€ä¸ªä¸€å…ƒé›†ã€å¦ä¸€ä¸ªä¸€å…ƒé›†ã€ä¸€ä¸ªå››å…ƒé›†æ„æˆçš„æœ‰åºå¯¹ã€‚(â€œæœ‰åºå¯¹å¥—é›†åˆâ€) éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸€é¢˜å¾®å¦™çš„è¯­è¨€è¡¨è¾¾ï¼šâ€œä¸€äºº 1 æœ¬ã€ä¸€äºº 1 æœ¬â€ã€‚è¿™å°±æ˜¯è¯´ä¸¤ä¸ªä¸€å…ƒé›†åœ°ä½ç›¸åŒã€‚å®ƒä»¬å®é™…ä¸Šæ„æˆäº†ä¸€ä¸ªé›†åˆ {{a1},{a2}}\\left\\{\\{a_1\\},\\{a_2\\}\\right\\}{{a1â€‹},{a2â€‹}}ã€‚å› æ­¤ï¼Œç­”æ¡ˆéœ€è¦é™¤å»äº¤æ¢ {a1},{a2}\\{a_1\\},\\{a_2\\}{a1â€‹},{a2â€‹} äº§ç”Ÿçš„ P(2,2)P(2,2)P(2,2) å€æ–¹æ¡ˆæ•°ã€‚ ({a1},{a2},{a3,b3,c3,d3})\\left(\\{a_1\\},\\{a_2\\},\\{a_3, b_3,c_3,d_3\\}\\right) ({a1â€‹},{a2â€‹},{a3â€‹,b3â€‹,c3â€‹,d3â€‹}) ç­”æ¡ˆä¸ºï¼š(64)Ã—(21)Ã—(11)Ã—P(3,3)/P(2,2)\\binom 6 4 \\times \\binom 2 1 \\times \\binom 11 \\times P(3,3) / P(2,2)(46â€‹)Ã—(12â€‹)Ã—(11â€‹)Ã—P(3,3)/P(2,2)â€‹ã€‚â€‹â€‹â€‹ â˜… å¦‚ä½•ç†è§£â€œç»„åˆæ•°ç›¸ä¹˜â€æ˜¯â€œé€ä¸ªå…ƒç´ æ„é€ é›†åˆâ€çš„æ–¹æ³•ï¼Ÿç­”ï¼šæ ¹æ®ä¹˜æ³•äº¤æ¢å¾‹ï¼Œæ¯ä¸ªå…ƒç´ åœ°ä½ç›¸åŒ (å³äº’æ¢ä½ç½®ä¸ä¼šå¯¹ç­”æ¡ˆäº§ç”Ÿå½±å“)ã€‚ â˜… ä»€ä¹ˆæ˜¯â€œå…ˆåˆ†ç»„ï¼Œå†åˆ†é…â€ï¼Œä½•æ—¶éœ€è¦ä½¿ç”¨è¯¥æ–¹æ³•ï¼Ÿç­”ï¼šå…ˆæ„é€ é›†åˆï¼Œå†å°†é›†åˆè½¬æ¢ä¸ºæœ‰åºå¯¹ã€‚é€‚ç”¨äºå¤–å±‚æ˜¯æœ‰åºå¯¹çš„æƒ…å†µã€‚ æ¨å¹¿ï¼Œå‡å¦‚æ¯ä¸ªäººå¯ä»¥é€‰æ‹©å°†è‡ªå·±æ‰‹ä¸Šçš„è‹¥å¹²æœ¬ä¹¦ä»¥æŸç§é¡ºåºæ”¾åœ¨ä¹¦æ¶ä¸Šï¼Œæ±‚ä¹¦æ¶ä¸Šæ”¾ä¹¦çš„æ–¹æ¡ˆæ•°ã€‚(â€œé›†åˆå¥—æœ‰åºå¯¹â€â€œæœ‰åºå¯¹å¥—æœ‰åºå¯¹â€) TODO. (æ’ç©ºæ³•) è¯·è¯»è€…è‡ªè¡Œæƒ³ä¸€ä¸ªä¾‹å­ï¼Œç•™åšä¹ é¢˜ã€‚æç¤ºï¼šå¯¹è±¡ç”²ã€ä¹™å¿…é¡»åˆ†å¼€ã€‚ (æ†ç»‘æ³•) è¯·è¯»è€…è‡ªè¡Œæƒ³ä¸€ä¸ªä¾‹å­ï¼Œç•™åšä¹ é¢˜ã€‚æç¤ºï¼šå¯¹è±¡ç”²ã€ä¹™å¿…é¡»æ’åœ¨ä¸€èµ·ã€‚ (éš”æ¿æ³•) æ±‚æ–¹ç¨‹ x1+x2+x3+x4=10x_1 + x_2 + x_3 + x_4 = 10 x1â€‹+x2â€‹+x3â€‹+x4â€‹=10 çš„æ­£æ•´æ•°è§£ã€è‡ªç„¶æ•°è§£çš„ç»„æ•°ï¼Ÿ ä½œé™åˆ¶ xiâ‰¥ix_i \\ge ixiâ€‹â‰¥iï¼Œæ­£æ•´æ•°è§£çš„ç»„æ•°å‘¢ï¼Ÿ è§£ç­”ï¼šç¬¬ä¸€ä¸ªé—®é¢˜ç­‰ä»·äºå°†æ’æˆä¸€æ’çš„ 10 å—å·§å…‹åŠ›ç”¨ 4âˆ’1=34 - 1 = 34âˆ’1=3 æ ¹ç­·å­åŒºåˆ†åœ¨ 4 ä¸ªåŒºåŸŸå†…ã€‚æ˜¾ç„¶ï¼Œæœ‰ 9 ä¸ªâ€œç©ºéš™â€å¯ä»¥æ’å…¥ç­·å­ï¼Œå› æ­¤ç­”æ¡ˆä¸º (93)=84\\binom{9}{3} = 84(39â€‹)=84ã€‚ ç¬¬äºŒä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ç¬¬ä¸€ä¸ªé—®é¢˜ä½œé€‚å½“è½¬åŒ–å¾—åˆ°ã€‚å¯¹äºæ¯ä¸€ä¸ªåŒºåŸŸï¼Œæˆ‘ä»¬æå‰æ”¾å…¥ä¸€å—å·§å…‹åŠ›ã€‚å› æ­¤æœ‰ 14 å—å·§å…‹åŠ› (i.e. 13 ä¸ªèƒ½æ’å…¥ç­·å­çš„ç©ºéš™) å¾…åˆ†éš”ã€‚ç­”æ¡ˆä¸º (133)=286\\binom{13}{3} = 286(313â€‹)=286ã€‚ ç¬¬ä¸‰ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡åœ¨ç¬¬ iii ä¸ªåŒºåŸŸå†…æå‰æ”¾å…¥ (iâˆ’1)(i - 1)(iâˆ’1)â€‹ ä¸ªç‰©å“è¿›è¡Œè½¬åŒ–ï¼Œç­”æ¡ˆä¸º (10âˆ’0âˆ’1âˆ’2âˆ’33)=(43)=4\\binom{10-0-1-2-3}{3}= \\binom{4}{3} = 4(310âˆ’0âˆ’1âˆ’2âˆ’3â€‹)=(34â€‹)=4â€‹ã€‚ â˜… è¿™ç±»é—®é¢˜äº‹å®ä¸Šå°†åŒºåˆ†å·§å…‹åŠ›çš„æ–¹æ¡ˆæ•°è½¬æ¢ä¸ºäº†æ”¾ç½®ç­·å­çš„æ–¹æ¡ˆæ•°ï¼Œä¸¤ä¸ªé—®é¢˜æ˜¾ç„¶ç­‰ä»·ã€‚ â˜… è¿™ä¸ªæ¨¡å‹å€¼å¾—æ¨å¹¿ã€‚ ä¸å®šæ–¹ç¨‹ âˆ‘i=1nxi=C\\sum_{i=1}^n x_i = C i=1âˆ‘nâ€‹xiâ€‹=C å…¶ä¸­ CâˆˆN+C\\in \\N_+CâˆˆN+â€‹ã€‚ æ­£æ•´æ•°è§£çš„ç»„æ•°ä¸º (Câˆ’1nâˆ’1)\\boxed{\\binom{C-1}{n-1}} (nâˆ’1Câˆ’1â€‹)â€‹ è‡ªç„¶æ•°è§£çš„ç»„æ•°ä¸º (C+nâˆ’1nâˆ’1)\\boxed{\\binom{C + n - 1}{n-1}} (nâˆ’1C+nâˆ’1â€‹)â€‹ æ’åˆ—æ•°ä¸ç»„åˆæ•°çš„æ€§è´¨ è¾¹ç•Œæ€§è´¨ P(n,1)=nP(n,1)=nP(n,1)=n P(n,n)=n!P(n,n) = n!P(n,n)=n! (n1)=n\\binom{n}{1}=n(1nâ€‹)=n (nn)=1\\binom{n}{n} = 1(nnâ€‹)=1â€‹ ç¬”è€…è®¤ä¸ºåœ¨å®é™…ç”Ÿæ´»ä¸­è¯¸å¦‚ (n0)=1\\binom{n}{0}=1(0nâ€‹)=1 çš„ç»“è®ºæ²¡æœ‰æ„ä¹‰ï¼Œä½†è‹¥æ˜¯æ¨å¹¿åˆ°è‡ªç„¶æ•°é›†ä¸Šè¿™äº›ç»“è®ºæ˜¯æˆç«‹çš„ã€‚ è¡¥é›†è½¬åŒ–æ€§è´¨ é€‰å– rrr ä¸ªå…ƒç´ ç­‰ä»·äºæ”¾ä¸‹ (nâˆ’r)(n-r)(nâˆ’r) ä¸ªå…ƒç´ ä¸é€‰ï¼Œè¿™äº‹å®ä¸Šç­‰ä»·äºé€‰æ‹© (nâˆ’r)(n-r)(nâˆ’r)â€‹ ä¸ªå…ƒç´ ã€‚ P(n,r)=P(n,nâˆ’r)P(n,r)=P(n,n-r)P(n,r)=P(n,nâˆ’r) (nr)=(nnâˆ’r)\\binom{n}{r} = \\binom{n}{n-r}(rnâ€‹)=(nâˆ’rnâ€‹)â€‹ é€’æ¨æ€§è´¨ (å¸•æ–¯å¡å…¬å¼) (n+1r)=(nr)+(nrâˆ’1)\\boxed{\\binom{n+1}{r} = \\binom{n}{r} + \\binom{n}{r - 1}}(rn+1â€‹)=(rnâ€‹)+(râˆ’1nâ€‹)â€‹â€‹ ä» (n+1)(n + 1)(n+1) å…ƒé›†ä¸­é€‰ rrr å…ƒå­é›†çš„æ–¹æ¡ˆæ•°æ¯”ä» nnn å…ƒé›†ä¸­é€‰å¤šäº† (nrâˆ’1)\\binom{n}{r - 1} (râˆ’1nâ€‹) å› ä¸ºå¤šå‡ºæ¥çš„æ–¹æ¡ˆéƒ½é€‰äº†å¤šå‡ºæ¥çš„é‚£ä¸€ä¸ªå…ƒç´ ï¼Œå‰©ä¸‹ (râˆ’1)(r - 1)(râˆ’1) å…ƒå¯é€‰ã€‚ æ¯”ä¾‹æ€§è´¨ (nâˆ’1râˆ’1)(nr)=rn\\frac{\\binom{n - 1}{r - 1}}{\\binom{n}{r}} = \\frac{r}{n} (rnâ€‹)(râˆ’1nâˆ’1â€‹)â€‹=nrâ€‹ ä¸Šå¼ç­‰ä»·äº (n1)(nâˆ’1râˆ’1)=(nr)(r1)\\binom{n}{1}\\binom{n - 1}{r - 1} = \\binom{n}{r}\\binom{r}{1} (1nâ€‹)(râˆ’1nâˆ’1â€‹)=(rnâ€‹)(1râ€‹) æ ¹æ®è¡¥é›†è½¬åŒ–æ€§è´¨ï¼Œ RHS=(nr)(rrâˆ’1)RHS = \\binom{n}{r}\\binom{r}{r-1} RHS=(rnâ€‹)(râˆ’1râ€‹) é€†ç”¨ä¹˜æ³•åŸç†ã€‚LHSLHSLHS è¡¨ç¤º nnn å…ƒé›†é‡Œå…ˆé€‰ 111 ä¸ªä¸¢æ‰ï¼Œå†ä»å‰©ä¸‹çš„ (nâˆ’1)(n - 1)(nâˆ’1) å…ƒé›†é‡Œé¢é€‰å– (râˆ’1)(r - 1)(râˆ’1) ä¸ªå…ƒç´ ï¼›RHSRHSRHS è¡¨ç¤º nnn å…ƒé›†é‡Œå…ˆé€‰ rrr ä¸ªï¼Œå†ä» rrr å…ƒé›†å†…é€‰æ‹© (râˆ’1)(r - 1)(râˆ’1) ä¸ªå…ƒç´ ã€‚ä¸¤è€…æ˜¾ç„¶ç­‰ä»·ã€‚ åº”ç”¨ äºŒé¡¹å¼å®šç† (a+b)n=âˆ‘k=0n(nk)anâˆ’kbk\\boxed{(a+b)^n = \\sum_{k=0}^n \\binom{n}{k}a^{n-k}b^{k}} (a+b)n=k=0âˆ‘nâ€‹(knâ€‹)anâˆ’kbkâ€‹ é€šè¿‡ä¸Šå¼ï¼Œæˆ‘ä»¬çŸ¥é“ (a+b)n(a + b)^n(a+b)n çš„å±•å¼€å¼æœ€å¤š[2]æœ‰ (n+1)(n + 1)(n+1)â€‹ é¡¹ã€‚å…¶ä¸­å»æ‰æ±‚å’Œå·çš„å³å¼è¡¨ç¤ºå±•å¼€å¼çš„ç¬¬ (k+1)(k + 1)(k+1) é¡¹ã€‚å…¶ç³»æ•°ä¸ºè¯¥é¡¹é™¤å»å«è‡ªå˜é‡ xxx çš„å¹‚çš„å› å­ã€‚ æˆ‘ä»¬ç§° (nk)\\binom{n}{k}(knâ€‹) ä¸ºå±•å¼€å¼ç¬¬ kkkâ€‹â€‹â€‹ é¡¹çš„äºŒé¡¹å¼ç³»æ•°ã€‚ â˜… å¦‚æœè®¤ä¸ºå…¬å¼æ˜¯æ­»çš„ï¼Œå¥—ç”¨ä¸Šå¼å (a+b)n(a + b)^n(a+b)n ä¸ (b+a)n(b + a) ^ n(b+a)n å±•å¼€å¼çš„ç¬¬ kkk é¡¹å°±ä¸ä¸€å®šç›¸åŒã€‚æˆ‘ä»¬éœ€è¦æ”¹å˜ä¸€ä¸‹å…¬å¼ä¸­ aaaã€bbb çš„é¡ºåºã€‚ è¿™æ¡å®šç†å¯ä»¥æ–½æ•°å­¦å½’çº³æ³•è¯æ˜ã€‚ç•™ä½œä¹ é¢˜ã€‚ æ›´åŠ æ˜¾ç„¶çš„è¯æ³•æ˜¯ç›´æ¥å°† (a+b)n(a + b)^n(a+b)n å†™æˆ (a+b)(a+b)â‹¯(a+b)(a + b) (a + b) \\cdots(a + b)(a+b)(a+b)â‹¯(a+b)ã€‚ç„¶åè€ƒè™‘å±•å¼€å¼ä¸­çš„æŸä¸€é¡¹ Ckanâˆ’kbkC_ka^{n-k} b^{k} Ckâ€‹anâˆ’kbk (å…¶ä¸­ CkC_kCkâ€‹â€‹ ä¸ºæˆ‘ä»¬æƒ³æ±‚çš„äºŒé¡¹å¼ç³»æ•°) æ˜¾ç„¶ï¼ŒCkC_kCkâ€‹ æ˜¯æœªåˆå¹¶çš„å±•å¼€å¼ä¸­ anâˆ’kbka^{n-k}b^{k}anâˆ’kbk é¡¹çš„æ•°é‡ã€‚ç­”æ¡ˆä¸º (nk)\\binom{n}{k}(knâ€‹)ã€‚è¯æ¯•ã€‚ Remark. ç‰›é¡¿ 17 å²å‘æ˜äºŒé¡¹å¼å®šç†ï¼Œå¤ªå¼ºäº†ï¼ æ¨å¹¿ï¼Œæ±‚ (a+b+c)n(a + b + c)^n(a+b+c)n çš„å±•å¼€å¼ï¼Ÿ(âˆ‘i=1mai)n\\left(\\sum_{i=1}^m a_i\\right)^n(âˆ‘i=1mâ€‹aiâ€‹)n çš„å±•å¼€å¼ï¼ŸTODO åœ†æ’åˆ— ä¸è€ƒã€‚ é”™ä½æ’åˆ— å»å¹´æœŸæœ«è€ƒäº†ï¼Ÿå¥½å®³æ€•ï¼ï¼ Catalan æ•° ä¸è€ƒã€‚ æ‚é¡¹ä¸æŠ€å·§ ä¼˜å…ˆè€ƒè™‘é™åˆ¶æœ€å¤šçš„å¯¹è±¡ å¦‚é¢˜ã€‚TODOã€‚ åˆ’åˆ†æŒ‡çš„æ˜¯å°†é›†åˆ SSS åˆ†æˆè‹¥å¹²ä¸ªä¸ç›¸äº¤å­é›† SiS_iSiâ€‹ ä½¿å¾—å®ƒä»¬çš„å¹¶æ˜¯é›†åˆ SSS è‡ªèº«ã€‚i.e. â‹ƒi=1nSi=S\\bigcup_{i=1}^n S_i = Sâ‹ƒi=1nâ€‹Siâ€‹=S ä¸” âˆ€1â‰¤i&lt;jâ‰¤n\\forall 1\\le i &lt; j \\le nâˆ€1â‰¤i&lt;jâ‰¤n, Siâˆ©Sj=âˆ…S_i \\cap S_j = \\varnothingSiâ€‹âˆ©Sjâ€‹=âˆ…ã€‚ â†©è¿™é‡Œè¯´â€œæœ€å¤šâ€æ˜¯è€ƒè™‘åˆ°å¯èƒ½ä¼šæœ‰ aaaã€bbb ä¸ºå¸¸æ•°ä»è€Œæœ‰é¡¹è¢«åˆå¹¶çš„æƒ…å†µã€‚ â†©","categories":[{"name":"æ–‡åŒ–è¯¾","slug":"æ–‡åŒ–è¯¾","permalink":"https://ret2libc-pwned.github.io/categories/%E6%96%87%E5%8C%96%E8%AF%BE/"}],"tags":[{"name":"è¯¾å†…æ•°å­¦","slug":"è¯¾å†…æ•°å­¦","permalink":"https://ret2libc-pwned.github.io/tags/%E8%AF%BE%E5%86%85%E6%95%B0%E5%AD%A6/"}]},{"title":"OIä¸­çš„æ•°å­¦çŸ¥è¯†","slug":"OIä¸­çš„æ•°å­¦çŸ¥è¯†","date":"2022-10-15T15:32:08.000Z","updated":"2022-10-18T05:35:32.313Z","comments":true,"path":"2022/10/15/OIä¸­çš„æ•°å­¦çŸ¥è¯†/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/10/15/OI%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86/","excerpt":"","text":"è¿™ä¹Ÿæ˜¯æš‘å‡æ²¡å¡«çš„å‘â€¦â€¦ æ•°å­¦å¤ä¹  è¿ç®—ä¼˜åŒ– å¿«é€Ÿå¹‚ æ•´æ•°å¯ä»¥è¡¨è¾¾ä¸ºè‹¥å¹²ä¸ª 2 çš„æ•´æ•°æ¬¡å¹‚ä¹‹å’Œ, å³ å¯ä»¥\"äºŒè¿›åˆ¶æ‹†åˆ†\". (è¯¥æ€§è´¨åº”ç”¨å¹¿æ³›, ä¾‹å¦‚æ ‘çŠ¶æ•°ç»„). åŒæ ·çš„é“ç†, æˆ‘ä»¬ä¹Ÿèƒ½æ‹†åˆ†æŒ‡æ•°, å®ç°å¿«é€Ÿå¹‚. å½¢å¼åŒ–åœ°è¯´: $a^b=\\sum _{i=0} ^{k-1} a^{{c_i}\\cdot 2i}\\ \\ \\ (k = \\lceil\\log (b + 1)\\rceil). (Hexoæ¸²æŸ“ä¸äº†ï¼Œè¯·è‡ªè¡Œå¤åˆ¶åˆ°å¯ä»¥æ¸²æŸ“ LaTeX\\LaTeXLATEâ€‹X çš„åœ°æ–¹æŸ¥çœ‹) å®ç°è¿‡ç¨‹ä¸ºä»ä½åˆ°é«˜å– bbb äºŒè¿›åˆ¶ä¸­çš„æ¯ä¸€ä½ cic_iciâ€‹ , è‹¥å½“å‰ä½æ˜¯ 111 åˆ™å°†æœ€ç»ˆç­”æ¡ˆä¹˜ä¸Š aaa (å¯ä»¥ç†è§£ä¸ºæŠŠè½å•çš„ aaa ä¹˜ä¸Šå»), ç„¶åå°† aaa å¹³æ–¹. 12345678const int mod = 1e9 + 7;int pow(int x, int k) { int res = 1 % mod; for(; k; x = (long long)x * x % mod, k &gt;&gt;= 1) { if(k &amp; 1) res = (long long)res * x; } return res;} å¿«é€Ÿä¹˜ ç±»æ¯”å¿«é€Ÿå¹‚çš„äºŒè¿›åˆ¶æ‹†åˆ†æ€æƒ³, æŠŠç´¯\"ä¹˜\"å˜æˆç´¯åŠ å³å¯. æ³¨æ„å®ƒä»¬çš„åŒºåˆ«!!! ä¾‹å¦‚ res åº”åˆå§‹ä¸º 000 ç­‰. 12345678LL mul(LL a, LL b, LL p) { // a*b mod p LL res = 0; for(; b; a = (a &lt;&lt; 1) % p, b &gt;&gt;= 1) { if(b &amp; 1) res = ((LL)res + a) % p; } return res;} æ•°è®º Todo. çº¿æ€§ä»£æ•° å¯¹äºçŸ©é˜µ AAA, ä¸»å¯¹è§’çº¿ æŒ‡çš„æ˜¯ Ai,iA_{i,i}Ai,iâ€‹ çš„å…ƒç´ . ä¸»å¯¹è§’çº¿ä¸º 111, å…¶ä»–å…ƒç´ ä¸º 000 çš„çŸ©é˜µç§°ä¸º å•ä½çŸ©é˜µ. ä»»ä½•ä¸€ä¸ªçŸ©é˜µä¹˜ä»¥å•ä½çŸ©é˜µçš„ç»“æœæ˜¯è‡ªå·±æœ¬èº«, ç±»ä¼¼äºæ•°å­—ä¹˜æ³•ä¸­ 111 çš„ä½œç”¨. çŸ©é˜µè¿ç®— åŠ æ³• è®¾çŸ©é˜µ AAA æ˜¯ MMM è¡Œ NNN åˆ—çš„çŸ©é˜µ, BBB æ˜¯ MMM è¡Œ NNN åˆ—çš„çŸ©é˜µ, C=A+BC = A + BC=A+B. (CCC æœ‰ MMM è¡Œ NNN åˆ—) åˆ™: Ci,j=Ai,j+Bi,jC_{i,j} = A_{i, j} + B_{i, j} Ci,jâ€‹=Ai,jâ€‹+Bi,jâ€‹ ä¹˜æ³• è®¾çŸ©é˜µ AAA æ˜¯ MMM è¡Œ NNN åˆ—çš„çŸ©é˜µ, BBB æ˜¯ NNN è¡Œ QQQ åˆ—çš„çŸ©é˜µ, C=Aâ‹…BC = A \\cdot BC=Aâ‹…B. (CCC æœ‰ MMM è¡Œ QQQ åˆ—) åˆ™: Ci,j=âˆ‘k=1NAi,kâ‹…Bk,jC_{i,j} = \\sum_{k=1}^{N} A_{i, k} \\cdot B_{k, j} Ci,jâ€‹=k=1âˆ‘Nâ€‹Ai,kâ€‹â‹…Bk,jâ€‹ ä¾‹å¦‚: [214011&nbsp;]â‹…[63âˆ’101104âˆ’2502]=[527âˆ’212âˆ’1606]\\begin{bmatrix} 2 &amp; 1 &amp; 4\\\\ 0 &amp; 1 &amp; 1\\ \\end{bmatrix} \\cdot \\begin{bmatrix} 6 &amp; 3 &amp; -1 &amp; 0\\\\ 1 &amp; 1 &amp; 0 &amp; 4\\\\ -2 &amp; 5 &amp; 0 &amp; 2 \\end{bmatrix} = \\begin{bmatrix} 5 &amp; 27 &amp; -2 &amp; 12 \\\\ -1 &amp; 6 &amp; 0 &amp; 6 \\end{bmatrix} [20â€‹11â€‹41&nbsp;â€‹]â‹…â€‹61âˆ’2â€‹315â€‹âˆ’100â€‹042â€‹â€‹=[5âˆ’1â€‹276â€‹âˆ’20â€‹126â€‹] çŸ©é˜µä¹˜æ³•æ»¡è¶³ç»“åˆå¾‹, ä¸æ»¡è¶³äº¤æ¢å¾‹. (å› ä¸ºè¦ä¿è¯ç¬¬ä¸€ä¸ªçŸ©é˜µçš„åˆ—æ•°ç­‰äºç¬¬äºŒä¸ªçŸ©é˜µçš„è¡Œæ•°). æ¨¡æ¿ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N = 1e6 + 10;using LL = long long;const int SIZ = 18, MOD = 1e9 + 7;struct Matrix { int a[SIZ][SIZ]; Matrix() { memset(a, 0, sizeof a); } Matrix operator +(const Matrix&amp; B) { Matrix res; for(int i = 1; i &lt;= SIZ; ++i) { for(int j = 1; j = SIZ; ++j) { res.a[i][j] = (a[i][j] + B.a[i][j]) % MOD; } } return res; } Matrix operator -(const Matrix&amp; B) { Matrix res; for(int i = 1; i &lt;= SIZ; ++i) { for(int j = 1; j = SIZ; ++j) { res.a[i][j] = (a[i][j] - B.a[i][j]) % MOD; } } return res; } Matrix operator *(const Matrix&amp; B) { Matrix res; for(int i = 1; i &lt;= SIZ; ++i) { for(int j = 1; j &lt;= SIZ; ++j) { for(int k = 1; k &lt;= SIZ; ++k) { res.a[i][j] += (LL)(a[i][k] * B.a[k][j]); res.a[i][j] %= MOD; } } } return res; }};Matrix pow(Matrix x, int k) { Matrix res; for(int i = 1; i &lt;= SIZ; ++i) res.a[i][i] = 1; for(int i = 1; i &lt;= SIZ; ++i) { for(int j = 1; j &lt;= SIZ; ++j) { x.a[i][j] %= MOD; } } for(; k; k &gt;&gt;= 1) { if(k &amp; 1) res = res * x; x = x * x; } return res;}int main() { // a * b Matrix a, b; int n, m, q; cin &gt;&gt; n &gt;&gt; m &gt;&gt; q; for(int i = 1; i &lt;= n; ++i) { for(int j = 1; j &lt;= m; ++j) { cin &gt;&gt; a.a[i][j]; } } for(int i = 1; i &lt;= m; ++i) { for(int j = 1; j &lt;= q; ++j) { cin &gt;&gt; b.a[i][j]; } } Matrix c = a * b; for(int i = 1; i &lt;= m; ++i) { for(int j = 1; j &lt;= q; ++j) { cout &lt;&lt; c.a[i][j] &lt;&lt; ' '; } puts(\"\"); } return 0;} çŸ©é˜µåŠ é€Ÿé€’æ¨ çŸ©é˜µå˜æ¢ åˆç­‰è¡Œå˜æ¢ åˆç­‰è¡Œå˜æ¢åŒ…å«: äº’æ¢æŸä¸¤è¡Œ; å°†æŸä¸€è¡Œå‘é‡ä¹˜ä¸Šéé›¶å®æ•° Î»\\lambdaÎ» ; å°†æŸä¸€è¡Œå‘é‡ä¸å¦ä¸€è¡Œå‘é‡ç›¸åŠ . é«˜æ–¯æ¶ˆå…ƒ æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ æ±‚è§£å¼‚æˆ–æ–¹ç¨‹ç»„","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://ret2libc-pwned.github.io/tags/%E6%95%B0%E5%AD%A6/"}]},{"title":"æ ‘å½¢DP","slug":"æ ‘å½¢DP","date":"2022-08-30T05:29:18.930Z","updated":"2022-10-18T05:35:48.138Z","comments":true,"path":"2022/08/30/æ ‘å½¢DP/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/08/30/%E6%A0%91%E5%BD%A2DP/","excerpt":"","text":"æ ‘å½¢DP ä¾‹é¢˜ æ²¡æœ‰ä¸Šå¸çš„èˆä¼š ä½¿ç”¨dp(u,0/1)dp(u, 0/1)dp(u,0/1)è¡¨ç¤ºä»¥uuuæ¥æˆ–ä¸æ¥æ—¶uuuä¸ºæ ¹ç»“ç‚¹å­æ ‘çš„å¿«ä¹æŒ‡æ•°æ€»å’Œ. åˆ™: dp(u,0)=âˆ‘maxâ¡vâˆˆu.son{dp(v,0),dp(v,1)}dp(u,1)=dp(v,0)dp(u, 0) = \\sum \\max_{v \\in u.\\mathrm{son}} \\{dp(v, 0), dp(v, 1)\\}\\\\ dp(u, 1) = dp(v, 0) dp(u,0)=âˆ‘vâˆˆu.sonmaxâ€‹{dp(v,0),dp(v,1)}dp(u,1)=dp(v,0) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;iostream&gt;#include &lt;cstring&gt;const int N = 1e6 + 10;using namespace std;int head[N], to[N], nxt[N], tot, n, r[N], Root = 1, dp[N][2];bool haveFa[N];inline void initGraph() { memset(head, -1, sizeof head); tot = -1;}void addEdge(int u, int v) { nxt[++tot] = head[u], head[u] = tot, to[tot] = v;}void calc(int u) { for(int i = head[u]; ~i; i = nxt[i]) { int v = to[i]; calc(v); dp[u][0] += max(dp[v][0], dp[v][1]); dp[u][1] += dp[v][0]; }}int main() { initGraph(); cin &gt;&gt; n; for(int i = 1; i &lt;= n; ++i) { cin &gt;&gt; dp[i][1]; } for(int i = 1; i &lt; n; ++i) { int u, v; cin &gt;&gt; u &gt;&gt; v; addEdge(v, u); haveFa[u] = true; } while(haveFa[Root]) { Root++; } calc(Root); cout &lt;&lt; max(dp[Root][0], dp[Root][1]) &lt;&lt; endl; return 0;} æˆ˜ç•¥æ¸¸æˆ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;iostream&gt;#include &lt;cstring&gt;const int N = 1e6 + 10;using namespace std;int head[N], to[N], nxt[N], tot, dp[N][2], n, Root;inline void initGraph() { memset(head, -1, sizeof head); tot = -1;}void addEdge(int u, int v) { nxt[++tot] = head[u], head[u] = tot, to[tot] = v;}void calc(int u) { dp[u][1] = 1, dp[u][0] = 0; for(int i = head[u]; ~i; i = nxt[i]) { int v = to[i]; calc(v); dp[u][0] += dp[v][1]; dp[u][1] += min(dp[v][0], dp[v][1]); }}int main() { initGraph(); cin &gt;&gt; n; for(int i = 1; i &lt;= n; ++i) { int u, k; cin &gt;&gt; u &gt;&gt; k; for(int j = 1; j &lt;= k; ++j) { int v; cin &gt;&gt; v; addEdge(u, v); } } calc(0); cout &lt;&lt; min(dp[0][0], dp[0][1]) &lt;&lt; endl; return 0;} DPæ±‚æ ‘çš„ç›´å¾„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;queue&gt;const int N = 1e6 + 10, INF = 0x3f3f3f3f;using namespace std;int n;int head[N], to[N], nxt[N], tot, Root, d1[N], d2[N];bool vis[N];inline void initGraph() { memset(head, -1, sizeof head); tot = -1;}void addEdge(int u, int v) { nxt[++tot] = head[u], head[u] = tot, to[tot] = v;}int getDiam(int u) { int ret = -INF; d1[u] = d2[u] = 0; for(int i = head[u]; ~i; i = nxt[i]) { int v = to[i]; getDiam(v); int t = d1[v] + 1; if(t &gt; d1[u]) { d2[u] = d1[u], d1[u] = t; } else if(t &gt; d2[u]) { d2[u] = t; } } ret = max(ret, d1[u] + d2[u]); return ret;}int main() { initGraph(); cin &gt;&gt; n; for(int i = 0; i &lt; n - 1; ++i) { int u, v; cin &gt;&gt; u &gt;&gt; v; addEdge(u, v); } int ans = getDiam(1); cout &lt;&lt; ans &lt;&lt; endl; return 0;} æ¶ˆé˜²å±€çš„è®¾ç«‹","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://ret2libc-pwned.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"https://ret2libc-pwned.github.io/tags/%E5%9B%BE%E8%AE%BA/"}]},{"title":"å­—å…¸æ ‘","slug":"trie","date":"2022-08-30T05:29:18.460Z","updated":"2022-05-03T11:12:30.000Z","comments":true,"path":"2022/08/30/trie/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/08/30/trie/","excerpt":"","text":"å­—å…¸æ ‘ å®šä¹‰ åº”ç”¨ åƒæŸ¥å­—å…¸ä¸€æ ·\"æ£€ç´¢\"å­—ç¬¦ä¸² 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;iostream&gt;#include &lt;string&gt;const int N = 1e6;using namespace std;struct Trie { int nxt[N][26], tot = 0; bool ed[N]; void insert(string s) { int p = 0; for(char ch: s) { int key = ch - 'a'; if(nxt[p][key] == 0) { nxt[p][key] = ++tot; } p = nxt[p][key]; } ed[p] = true; } bool isExist(string s) { int p = 0; for(char ch: s) { int key = ch - 'a'; if(nxt[p][key] == 0) { return false; } p = nxt[p][key]; } return ed[p]; }};Trie tr; //Allocateint main() { int cas; cin &gt;&gt; cas; while(cas--) { string s; cin &gt;&gt; s; tr.insert(s); } puts(\"Inserted!!!!!!\\n\\nAsk Me!!!!!!!\"); cin &gt;&gt; cas; while(cas--) { string s; cin &gt;&gt; s; puts(tr.isExist(s) ? \"Exist.\" : \"Not Exist.\"); } return 0;} å¼‚æˆ–æå€¼é—®é¢˜","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://ret2libc-pwned.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"Hello World","slug":"hello-world","date":"2022-08-30T05:29:18.130Z","updated":"2022-05-03T11:05:34.000Z","comments":true,"path":"2022/08/30/hello-world/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/08/30/hello-world/","excerpt":"","text":"å¦‚é¢˜, è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« .","categories":[{"name":"éšè®°","slug":"éšè®°","permalink":"https://ret2libc-pwned.github.io/categories/%E9%9A%8F%E8%AE%B0/"}],"tags":[]},{"title":"çŠ¶æ€å‹ç¼©æŠ€å·§","slug":"çŠ¶æ€å‹ç¼©æŠ€å·§","date":"2022-07-29T08:53:54.000Z","updated":"2023-05-27T01:19:37.671Z","comments":true,"path":"2022/07/29/çŠ¶æ€å‹ç¼©æŠ€å·§/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/07/29/%E7%8A%B6%E6%80%81%E5%8E%8B%E7%BC%A9%E6%8A%80%E5%B7%A7/","excerpt":"","text":"çŠ¶æ€å‹ç¼© çŠ¶æ€å‹ç¼©, æ˜¯å°† 0/1 çŠ¶æ€æ„æˆçš„é›†åˆç”¨ç©ºé—´å ç”¨è¾ƒå°çš„è½½ä½“ (å¦‚æ•´æ•°ã€bitset) è¡¨ç¤ºçš„æŠ€å·§. ä¾‹å¦‚åœ¨æ•°ç»„ [1, 8, 7, 2, 5, 3] ä¸­, ä¸€ä¸ªçŠ¶æ€è¡¨ç¤ºé€‰å–å­åºåˆ— [1, 7, 5] , å®ƒå°±å¯ä»¥è¡¨ç¤ºä¸º 0b10100 . æ³¨æ„äº‹é¡¹ xxxxxxxxxx120&nbsp;1// æœ€çŸ­è·¯æ¨¡æ¿ä¸‰åˆä¸€2// TODO: SPFA3#include 4#include 5#include 6#include 7#include 8#include 9enum Algo { DIJKSTRA = 0, FLOYD = 1, BELLMAN_FORD = 2 };10const int N = 1e6 + 10, INF = 0x3f3f3f3f;11using namespace std;12int h[N], e[N], to[N], ne[N], tot = -1;13int n, m, s;14inline void add(int u, int v, int w) {15 ne[++tot] = h[u], h[u] = tot, e[tot] = w, to[tot] = v;16}17namespace Dijkstra {18 int dis[N], head, tail;19 bool vis[N];20 struct Node {21 int u, dis;22 inline bool operator &gt;(const Node&amp; b) const {23 return dis &gt; b.dis;24 }25 };26 priority_queue&lt;Node, vector, greater &gt; q;27 void work(int n, int s) {28 memset(dis, INF, sizeof dis); dis[s] = 0;29 q.push({s, n});30 while(!q.empty()) {31 int u = q.top().u; q.pop();32 if(vis[u]) continue;33 vis[u] = true;34 for(int i = h[u]; ~i; i = ne[i]) {35 int v = to[i], w = e[i];36 if(dis[v] &gt; dis[u] + w) {37 dis[v] = dis[u] + w; q.push({v, dis[v]});38 }39 }40 }41 }42} // namespace Dijkstra43namespace Floyd {44 int dis[1001][1001], n, m;45 void pre(int _n, int _m) {46 n = _n, m = _m;47 memset(dis, INF, sizeof dis);48 for(int i = 1; i &lt;= n; ++i) dis[i][i] = 0;49 }50 void read() {51 for(int i = 1; i &lt;= m; ++i) {52 int u, v, w; cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;53 dis[u][v] = min(dis[u][v], w);54 }55 }56 void work() {57 for(int k = 1; k &lt;= n; ++k) {58 for(int i = 1; i &lt;= n; ++i) {59 for(int j = 1; j &lt;= n; ++j) {60 dis[i][j] = min(dis[i][j], dis[i][k] + dis[k][j]);61 }62 }63 }64 }65} // namespace Floyd66namespace Bellman_Ford {67 int dis[N];68 bool work(int n, int s) { // åˆ¤å®šsä¸ºæºç‚¹è·¯å¾„æ˜¯å¦æœ‰è´Ÿç¯69 memset(dis, INF, sizeof dis);70 dis[s] = 0;71 bool fl;72 for(int i = 1; i &lt;= n; ++i) {73 fl = false;74 for(int u = 1; u &lt;= n; ++u) {75 if(dis[u] == INF) continue;76 for(int j = h[u]; ~j; j = ne[j]) {77 int v = to[j], w = e[j];78 if(dis[v] &gt; dis[u] + w) {79 dis[v] = dis[u] + w; fl = true;80 }81 }82 }83 if(!fl) break;84 }85 return fl; 86 }87} // namespace Bellman_Ford88int main() {89 srand((unsigned)time(0)); memset(h, -1, sizeof h);90 cin &gt;&gt; n &gt;&gt; m &gt;&gt; s;91 enum Algo magic = (enum Algo)(rand() % 3);92 // printf(â€œMagic = %d\\nâ€, magic);93 if(magic == FLOYD) {94 Floyd::pre(n, m); Floyd::read(); Floyd::work();95 for(int i = 1; i &lt;= n; ++i) cout &lt;&lt; Floyd::dis[s][i] &lt;&lt; \" â€œ;96 puts(â€â€œ);97 } else {98 for(int i = 1; i &lt;= m; ++i) {99 int u, v, w; cin &gt;&gt; u &gt;&gt; v &gt;&gt; w; 100 add(u, v, w);101 }102 switch(magic) {103 case DIJKSTRA:104 Dijkstra::work(n, s);105 for(int i = 1; i &lt;= n; ++i) {106 cout &lt;&lt; Dijkstra::dis[i] &lt;&lt; \" â€œ;107 }108 puts(â€â€);109 break;110 case BELLMAN_FORD:111 bool neg_ring = Bellman_Ford::work(n, s);112 for(int i = 1; i &lt;= n; ++i) {113 cout &lt;&lt; Bellman_Ford::dis[i] &lt;&lt; \" â€œ;114 }115 puts(â€\");116 break;117 }118 }119 return 0;120}cpp å¯¹äºä¸Šæ–‡æ‰€è¯´çš„çŠ¶æ€é›†åˆ, ä¸ºä»€ä¹ˆä¸å¼€ä¸€ä¸ªbool ç±»å‹çš„æ•°ç»„å­˜å‚¨å‘¢? å¦‚æœæ˜¯é‚£æ ·å¤šæ–¹ä¾¿! ç­”æ¡ˆæ˜¯: è´¹ç©ºé—´ . æ³¨æ„åˆ°, ä¸€ä¸ª bool ç±»å‹çš„å˜é‡å ç”¨ 1 å­—èŠ‚ (8 bit) çš„ç©ºé—´, è€Œä¸æ˜¯ 1 bit. è¿™æ˜¯å› ä¸ºéœ€è¦æ–¹ä¾¿è®¡ç®—æœºå¯»å€. (åœ¨è¾ƒæ—©çš„ C è¯­è¨€æ ‡å‡†ä¸­ç”šè‡³æ²¡æœ‰å¼•å…¥ bool ç±»å‹, éœ€è¦ç¨‹åºå‘˜æ ¹æ®ä¹ æƒ¯ä½¿ç”¨ unsigned short æˆ–è€… char ç­‰è¿›è¡Œå®å®šä¹‰). çŠ¶æ€é›†åˆå¯èƒ½ä¼šå¾ˆå¤§, æ‰€ä»¥, ç›´æ¥ç”¨ bool æ•°ç»„å­˜å‚¨è¿™ä¸ªé›†åˆä¸å¤ªåˆé€‚. åŒæ—¶, bool æ•°ç»„ä¸æ–¹ä¾¿è¿›è¡Œæ•°å­¦ä¸ä½è¿ç®—. æ•…éœ€è¦å°†è¿™äº›çŠ¶æ€å‹ç¼©åˆ°æ›´åˆé€‚çš„è½½ä½“ä¸­å­˜å‚¨. æ•´æ•°çŠ¶æ€å‹ç¼© å°† 0/1 çŠ¶æ€é›†åˆå‹ç¼©åˆ°äºŒè¿›åˆ¶æ•´æ•°ä¸­. ä¼˜åŠ¿ å¯ä½œä¸ºæ•°ç»„ä¸‹æ ‡è®¿é—®æ•°ç»„å…ƒç´ (éœ€è¦åœ¨ size_t èŒƒå›´å†…). ä¾‹å¦‚åœ¨çŠ¶å‹ DP æ—¶å°† 0/1 çŠ¶æ€é›†åˆå‹ç¼©æˆçš„æ•´æ•°ä½œä¸ºè®¿é—®ç­”æ¡ˆçš„å…¶ä¸­ä¸€ä¸ªå…³é”®å­—, èƒ½é€šè¿‡å½“å‰å±€é¢è¿›è¡Œé€’æ¨è®¡ç®—ç­”æ¡ˆ. å¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—. ç¼ºé™· é›†åˆçš„å¤§å°æœ‰é™åˆ¶( 2çŠ¶æ€æ•°é‡2^{çŠ¶æ€æ•°é‡}2çŠ¶æ€æ•°é‡ ä¸èƒ½è¶…è¿‡å½“å‰ç±»å‹æ•°æ®èŒƒå›´). æ“ä½œè¾ƒä¸ºç¹ç; è¿‡å¤šä½¿ç”¨ä½è¿ç®—ä¼šä½¿ä»£ç å¯è¯»æ€§è¾ƒå·®. std::bitset ä¼˜åŠ¿ æ”¯æŒä½è¿ç®—. åƒä¸€ä¸ªæ•°ç»„ä¸€æ ·, æ“ä½œè¾ƒä¸ºç®€ä¾¿. é•¿åº¦ä¸å—é™åˆ¶. ç¼ºé™· ä¸æ”¯æŒæ•°å­¦è¿ç®—. ä¸èƒ½è®¿é—®æ•°ç»„å…ƒç´ . åº”ç”¨ å­é›†æšä¸¾ ä¾‹é¢˜ (åŠ¨æ€è§„åˆ’ä¸­) è¡¨ç¤ºçŠ¶æ€","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æŠ€å·§","slug":"æŠ€å·§","permalink":"https://ret2libc-pwned.github.io/tags/%E6%8A%80%E5%B7%A7/"}]},{"title":"æœç´¢ç®—æ³•å…¥é—¨","slug":"æœç´¢ç®—æ³•å…¥é—¨","date":"2022-06-24T06:04:12.000Z","updated":"2023-07-31T11:11:57.045Z","comments":true,"path":"2022/06/24/æœç´¢ç®—æ³•å…¥é—¨/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/06/24/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/","excerpt":"","text":"æ·±åº¦ä¼˜å…ˆæœç´¢ (DFS) æœ¬è´¨æ˜¯å°†çŠ¶æ€çš„é›†åˆè¡¨è¾¾ä¸ºä¸€æ£µæœç´¢æ ‘, è‡ªé¡¶å‘ä¸‹åœ°é€’å½’æ±‚è§£å­é—®é¢˜ (æŠ½è±¡ä¸ºå›¾å°±æ˜¯: æ¯ä¸€å±‚ä¸ºä¸€ä¸ªé˜¶æ®µ, æ¯ä¸€ä¸ªç»“ç‚¹è¡¨ç¤ºä¸€ä¸ªå†³ç­–. æ·±åº¦ä¼˜å…ˆéå†æ¯ä¸€æ£µå­æ ‘). è¯¥æ–¹æ³•å¯èƒ½ä¼šå¤šæ¬¡é‡å¤é€’å½’æ±‚è§£ç›¸åŒå­é—®é¢˜ (è¡¨ç°ä¸º dfs å‡½æ•°å¤šæ¬¡åœ¨è°ƒç”¨æ—¶ä¼ å…¥ç›¸åŒå‚æ•°) , æ•ˆç‡è¾ƒä½. æ­¤æ—¶å¯ä»¥ä½¿ç”¨ è®°å¿†åŒ–æœç´¢ (è‡ªé¡¶å‘ä¸‹ã€å¸¦å¤‡å¿˜å½•çš„æ–¹æ³•) æˆ– åŠ¨æ€è§„åˆ’ (è‡ªåº•å‘ä¸Šæ–¹æ³•). å‡ ä¸ªç®€å•ä¾‹å­ æ•°çš„åˆ†è§£ å°† nnn åˆ†è§£æˆä¸å¤šäº kkk çš„æ•°ç›¸åŠ çš„å½¢å¼. 123456789101112131415161718192021#include &lt;iostream&gt;const int N = 1e6 + 10;using namespace std;int n, k, ans[N];void dfs(int idx, int lst, int left) { // å¡«å…¥ç¬¬ idx é¡¹, ä¸Šä¸€ä¸ªæ•°ä¸º lst, è¿˜å‰©ä¸‹çš„æ€»å’Œä¸º lst if(left == 0 &amp;&amp; idx == k + 1) { // Output; for(int i = 1; i &lt;= idx - 1; ++i) cout &lt;&lt; ans[i] &lt;&lt; ' '; puts(\"\"); } for(int i = lst; i &lt;= left; ++i) { ans[idx] = i; dfs(idx + 1, i, left - i); }}int main() { cin &gt;&gt; n &gt;&gt; k; dfs(1, 1, n); return 0;} è¾“å‡ºå…¨æ’åˆ—æ–¹æ¡ˆ è¾“å‡ºç¼–å·ä¸º 1â‹¯n1\\cdots n1â‹¯n å…ƒç´ çš„å…¨æ’åˆ—. 12345678910111213141516171819202122232425#include &lt;iostream&gt;#include &lt;iomanip&gt;using namespace std;int n, ans[21];bool vis[21];void dfs(int idx) { if(idx == n + 1) { for(int i = 1; i &lt;= idx - 1; ++i) { cout &lt;&lt; setw(5) &lt;&lt; ans[i]; } puts(\"\"); return; } for(int i = 1; i &lt;= n; ++i) { if(vis[i]) continue; ans[idx] = i; vis[i] = 1; dfs(idx + 1); vis[i] = 0; // å›æº¯ }}int main() { cin &gt;&gt; n; dfs(1); return 0;} è¾“å‡ºç»„åˆæ–¹æ¡ˆ è¾“å‡ºç¼–å·ä¸º 1â‹¯n1\\cdots n1â‹¯n å…ƒç´ ä¸­å– kkk ä¸ªå…ƒç´ çš„ç»„åˆæ–¹æ¡ˆ. 123456789101112131415161718192021222324#include &lt;iostream&gt;#include &lt;iomanip&gt;const int N = 33;using namespace std;int n, k, ans[23];bool vis[23];void dfs(int idx, int lst) { if(idx == k + 1) { for(int i = 1; i &lt;= idx - 1; ++i) cout &lt;&lt; setw(3) &lt;&lt; ans[i]; puts(\"\"); return; } for(int i = 1; i &lt;= n; ++i) { if(vis[i] || i &lt;= lst) continue; ans[idx] = i, vis[i] = 1; dfs(idx + 1, i); vis[i] = 0; }}int main() { cin &gt;&gt; n &gt;&gt; k; dfs(1, -1); return 0;} è¿›é˜¶æŠ€å·§","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æœç´¢","slug":"æœç´¢","permalink":"https://ret2libc-pwned.github.io/tags/%E6%90%9C%E7%B4%A2/"}]},{"title":"æœ€çŸ­è·¯ç®—æ³•","slug":"æœ€çŸ­è·¯ç®—æ³•","date":"2022-06-04T13:23:47.000Z","updated":"2022-06-04T14:25:16.000Z","comments":true,"path":"2022/06/04/æœ€çŸ­è·¯ç®—æ³•/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/06/04/%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%AE%97%E6%B3%95/","excerpt":"","text":"ç®€ä»‹ æ¨¡æ¿ä»£ç  è¿™æ ·\"ä¸‰åˆä¸€\"è¿‡ä¸äº†. éœ€è¦å“ªä¸ªç›´æ¥ç”¨å“ªä¸ªå³å¯. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120// æœ€çŸ­è·¯æ¨¡æ¿ä¸‰åˆä¸€// TODO: SPFA#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;ctime&gt;#include &lt;queue&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;enum Algo { DIJKSTRA = 0, FLOYD = 1, BELLMAN_FORD = 2 };const int N = 1e6 + 10, INF = 0x3f3f3f3f;using namespace std;int h[N], e[N], to[N], ne[N], tot = -1;int n, m, s;inline void add(int u, int v, int w) { ne[++tot] = h[u], h[u] = tot, e[tot] = w, to[tot] = v;}namespace Dijkstra { int dis[N], head, tail; bool vis[N]; struct Node { int u, dis; inline bool operator &gt;(const Node&amp; b) const { return dis &gt; b.dis; } }; priority_queue&lt;Node, vector&lt;Node&gt;, greater&lt;Node&gt; &gt; q; void work(int n, int s) { memset(dis, INF, sizeof dis); dis[s] = 0; q.push({s, n}); while(!q.empty()) { int u = q.top().u; q.pop(); if(vis[u]) continue; vis[u] = true; for(int i = h[u]; ~i; i = ne[i]) { int v = to[i], w = e[i]; if(dis[v] &gt; dis[u] + w) { dis[v] = dis[u] + w; q.push({v, dis[v]}); } } } }} // namespace Dijkstranamespace Floyd { int dis[1001][1001], n, m; void pre(int _n, int _m) { n = _n, m = _m; memset(dis, INF, sizeof dis); for(int i = 1; i &lt;= n; ++i) dis[i][i] = 0; } void read() { for(int i = 1; i &lt;= m; ++i) { int u, v, w; cin &gt;&gt; u &gt;&gt; v &gt;&gt; w; dis[u][v] = min(dis[u][v], w); } } void work() { for(int k = 1; k &lt;= n; ++k) { for(int i = 1; i &lt;= n; ++i) { for(int j = 1; j &lt;= n; ++j) { dis[i][j] = min(dis[i][j], dis[i][k] + dis[k][j]); } } } }} // namespace Floydnamespace Bellman_Ford { int dis[N]; bool work(int n, int s) { // åˆ¤å®šsä¸ºæºç‚¹è·¯å¾„æ˜¯å¦æœ‰è´Ÿç¯ memset(dis, INF, sizeof dis); dis[s] = 0; bool fl; for(int i = 1; i &lt;= n; ++i) { fl = false; for(int u = 1; u &lt;= n; ++u) { if(dis[u] == INF) continue; for(int j = h[u]; ~j; j = ne[j]) { int v = to[j], w = e[j]; if(dis[v] &gt; dis[u] + w) { dis[v] = dis[u] + w; fl = true; } } } if(!fl) break; } return fl; }} // namespace Bellman_Fordint main() { srand((unsigned)time(0)); memset(h, -1, sizeof h); cin &gt;&gt; n &gt;&gt; m &gt;&gt; s; enum Algo magic = (enum Algo)(rand() % 3); // printf(\"Magic = %d\\n\", magic); if(magic == FLOYD) { Floyd::pre(n, m); Floyd::read(); Floyd::work(); for(int i = 1; i &lt;= n; ++i) cout &lt;&lt; Floyd::dis[s][i] &lt;&lt; \" \"; puts(\"\"); } else { for(int i = 1; i &lt;= m; ++i) { int u, v, w; cin &gt;&gt; u &gt;&gt; v &gt;&gt; w; add(u, v, w); } switch(magic) { case DIJKSTRA: Dijkstra::work(n, s); for(int i = 1; i &lt;= n; ++i) { cout &lt;&lt; Dijkstra::dis[i] &lt;&lt; \" \"; } puts(\"\"); break; case BELLMAN_FORD: bool neg_ring = Bellman_Ford::work(n, s); for(int i = 1; i &lt;= n; ++i) { cout &lt;&lt; Bellman_Ford::dis[i] &lt;&lt; \" \"; } puts(\"\"); break; } } return 0;}","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"https://ret2libc-pwned.github.io/tags/%E5%9B%BE%E8%AE%BA/"},{"name":"æœ€çŸ­è·¯","slug":"æœ€çŸ­è·¯","permalink":"https://ret2libc-pwned.github.io/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"}]},{"title":"DPæ–œç‡ä¼˜åŒ–","slug":"DPæ–œç‡ä¼˜åŒ–","date":"2022-05-28T14:12:50.000Z","updated":"2022-05-28T14:14:38.000Z","comments":true,"path":"2022/05/28/DPæ–œç‡ä¼˜åŒ–/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/05/28/DP%E6%96%9C%E7%8E%87%E4%BC%98%E5%8C%96/","excerpt":"","text":"ç®€ä»‹ åˆ·å®Œé¢˜å†å†™ ä¾‹é¢˜ [HNOI2008]ç©å…·è£…ç®± 12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;const int N = 1e6 + 10;#define int long longusing namespace std;int f[N], q[N], head = 1, tail = 1;int n, L, sc[N];inline int pow2(int a) { return a * a; }inline int S(int i) { return sc[i] + i; }inline int Y(int j) { return f[j] + pow2(S(j)); }inline int X(int j) { return S(j); }#define L_ (L + 1)signed main() { cin &gt;&gt; n &gt;&gt; L; for(int i = 1; i &lt;= n; ++i) { int cc; cin &gt;&gt; cc; sc[i] = sc[i - 1] + cc; } for(int i = 1; i &lt;= n; ++i) { int k = 2 * (S(i) - L_); while(head &lt; tail &amp;&amp; (Y(q[head + 1]) - Y(q[head])) &lt;= k * (X(q[head + 1]) - X(q[head]))) ++head; f[i] = f[q[head]] + pow2(S(i) - S(q[head]) - L_); while(head &lt; tail &amp;&amp; (Y(i) - Y(q[tail])) * (X(q[tail]) - X(q[tail - 1])) &lt;= \\ (Y(q[tail]) - Y(q[tail - 1])) * (X(i) - X(q[tail]))) --tail; q[++tail] = i; } cout &lt;&lt; f[n] &lt;&lt; endl; return 0;}","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://ret2libc-pwned.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"}]},{"title":"å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–DP","slug":"å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–DP","date":"2022-05-01T12:31:36.000Z","updated":"2022-06-22T14:31:42.000Z","comments":true,"path":"2022/05/01/å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–DP/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/05/01/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97%E4%BC%98%E5%8C%96DP/","excerpt":"","text":"ç®€ä»‹ ä¸ä¼š. ä¾‹é¢˜ Fance æœ‰nnnå—æœ¨æ¿ä»å·¦åˆ°å³æ’æˆä¸€è¡Œï¼Œæœ‰mmmä¸ªå·¥åŒ å¯¹è¿™äº›æœ¨æ¿è¿›è¡Œç²‰åˆ·ï¼Œæ¯å—æœ¨æ¿è‡³å¤šè¢«ç²‰åˆ·ä¸€æ¬¡ã€‚ ç¬¬iiiä¸ªæœ¨åŒ è¦ä¹ˆä¸ç²‰åˆ·ï¼Œè¦ä¹ˆç²‰åˆ·åŒ…å«æœ¨æ¿SiS_iSiâ€‹çš„ï¼Œé•¿åº¦ä¸è¶…è¿‡LiL_iLiâ€‹çš„è¿ç»­çš„ä¸€æ®µæœ¨æ¿ï¼Œæ¯ç²‰åˆ·ä¸€å—å¯ä»¥å¾—åˆ°PiP_iPiâ€‹çš„æŠ¥é…¬ã€‚ ä¸åŒå·¥åŒ çš„SiS_iSiâ€‹ä¸åŒã€‚ è¯·é—®å¦‚ä½•å®‰æ’èƒ½ä½¿å·¥åŒ ä»¬è·å¾—çš„æ€»æŠ¥é…¬æœ€å¤šã€‚ å…ˆæŒ‰ç…§SSSæ’åº, å»é™¤åæ•ˆæ€§. DP, è®¾Fi,jF_{i, j}Fi,jâ€‹ä¸ºå‰iiiäººåˆ·å‰jjjå—æ¿è·å¾—çš„æœ€å¤§æŠ¥é…¬. åˆ™æœ‰: ç¬¬iiiäººä¸å¹²äº†; ç¬¬jjjå—æ¿ç©ºç€ä¸åˆ·; ç¬¬iiiäººåˆ·äº†[k+1,j][k + 1, j][k+1,j]çš„è¿ç»­ä¸€æ®µ. Fi,j=Fiâˆ’1,jFi,j=Fi,jâˆ’1Fi,j=maxâ¡kâˆˆ[jâˆ’Li,Si){Fiâˆ’1,j+Piâ‹…(jâˆ’k)}\\begin{array}{c} F_{i, j} = F_{i - 1, j}\\\\ F_{i, j} = F_{i, j - 1}\\\\ F_{i, j} = \\max_{k\\in [j - L_i, S_i)} \\{F_{i - 1, j} + P_i \\cdot (j - k)\\} \\end{array} Fi,jâ€‹=Fiâˆ’1,jâ€‹Fi,jâ€‹=Fi,jâˆ’1â€‹Fi,jâ€‹=maxkâˆˆ[jâˆ’Liâ€‹,Siâ€‹)â€‹{Fiâˆ’1,jâ€‹+Piâ€‹â‹…(jâˆ’k)}â€‹ æ³¨æ„è§‚å¯Ÿä¸‰å¼, å¦‚æœæšä¸¾i,j,ki, j, ki,j,kè‚¯å®šè¶…æ—¶. è¯¥æ€ä¹ˆä¼˜åŒ–å‘¢? è§‚å¯Ÿç­‰å·å·¦ä¾§, è¿™æ˜¯ä¸€ä¸ªå…³äºi,ji, ji,jçš„å¼å­, æ‰€ä»¥è‚¯å®šè¦åµŒå¥—å¾ªç¯æšä¸¾å®ƒä»¬. æ­¤æ—¶å¯ä»¥é€šè¿‡é˜²æ­¢ä¸ä¼˜çš„kkkåšdpæ¥ä¼˜åŒ–. å…ˆçœ‹çœ‹å¼å­, å°è¯•å…ˆæŠŠä¸å«kkké¡¹æå‡ºæ¥(ä¸‹å¼åŠ å·å·¦è¾¹): Fi,j=Piâ‹…j+maxâ¡kâˆˆ[jâˆ’Li,Si){Fiâˆ’1,kâˆ’Piâ‹…k}F_{i, j} = P_i \\cdot j + \\max _{k \\in [j - L_i, S_i)} \\{F_{i - 1, k} - P_i \\cdot k\\} Fi,jâ€‹=Piâ€‹â‹…j+kâˆˆ[jâˆ’Liâ€‹,Siâ€‹)maxâ€‹{Fiâˆ’1,kâ€‹âˆ’Piâ€‹â‹…k} æ³¨æ„è§‚å¯ŸåŠ å·å³è¾¹: å½“jjjä»å°åˆ°å¤§åœ°æšä¸¾æ—¶, ä¸‹ç•Œå¢å¤§, ä¸Šç•Œä¸å˜. è®¾k1&lt;k2â‰¤Sik_1 \\lt k_2 \\le S_ik1â€‹&lt;k2â€‹â‰¤Siâ€‹. ä¸éš¾å‘ç°éšç€jjjå¢åŠ , k1k_1k1â€‹å…ˆç¦»å¼€è¿™ä¸ªåŒºé—´. æ­¤æ—¶å¦‚æœk1k_1k1â€‹å¸¦æ¥çš„ä»·å€¼ä¸æ¯”k2k_2k2â€‹å¤š(â‰¤\\leâ‰¤), æœ€åçš„ç­”æ¡ˆå°±å¿…ç„¶ä¸æ˜¯æœ€ä¼˜! æ­¤æ—¶å¯ä»¥æœæ–­è¸¢æ‰k1k_1k1â€‹. å¯ä»¥ä½¿ç”¨å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–kkk, å…·ä½“æ“ä½œä¸º: forå¾ªç¯æšä¸¾kkk: è¸¢æ‰å°äºä¸‹ç•Œçš„é˜Ÿå¤´; æ­¤æ—¶é˜Ÿå¤´ä¸ºæœ€ä¼˜, å¯ä»¥æ‹¿æ¥åšDP; å°†å½“å‰æšä¸¾çš„kkkä¸é˜Ÿå°¾ä½œæ¯”è¾ƒ, å¦‚æœé˜Ÿå°¾è·å¾—çš„ä»·å€¼ä¸å¤§äºkkkè·å¾—çš„ä»·å€¼, å°±è¸¢é˜Ÿå°¾, kkkå…¥é˜Ÿ. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;iostream&gt;#include &lt;algorithm&gt;const int N = 1e6 + 10;using namespace std;struct Person { int l, p, s; bool operator &lt;(const Person &amp;p2) { return s &lt; p2.s; }};Person a[N];int n, m;int q[N], f[200][20000];int main() { cin &gt;&gt; n &gt;&gt; m; for(int i = 1; i &lt;= m; ++i) { int l, p, s; cin &gt;&gt; l &gt;&gt; p &gt;&gt; s; a[i] = (Person){l, p, s}; } sort(a + 1, a + 1 + m); for(int i = 1; i &lt;= m; ++i) { #define money(_i, _k) (f[(_i) - 1][(_k)] - a[(_i)].p * (_k)) int head = 0, tail = 0; for(int k = max(0, a[i].s - a[i].l); k &lt; a[i].s; ++k) { while(head &lt;= tail &amp;&amp; money(i, q[tail]) &lt;= money(i, k)) --tail; q[++tail] = k; } for(int j = 1; j &lt;= n; ++j) { //1, 2 f[i][j] = max(f[i - 1][j], f[i][j - 1]); //3 if(j &lt; a[i].s) continue; while(head &lt;= tail &amp;&amp; q[head] &lt; j - a[i].l) ++head; if(head &lt;= tail) f[i][j] = max(f[i][j], j * a[i].p + money(i, q[head])); } } cout &lt;&lt; f[m][n] &lt;&lt; endl; return 0;} CF372C Watching Fireworks is Fun ä¸€ä¸ªåŸé•‡æœ‰nnnä¸ªåŒºåŸŸ,ä»å·¦åˆ°å³ä»1ç¼–å·ä¸ºnnn,æ¯ä¸ªåŒºåŸŸä¹‹é—´è·ç¦»1ä¸ªå•ä½è·ç¦»ã€‚ èŠ‚æ—¥ä¸­æœ‰mmmä¸ªçƒŸç«è¦æ”¾ï¼Œç»™å®šæ”¾çš„åœ°ç‚¹aia_iaiâ€‹,æ—¶é—´tit_itiâ€‹,å¦‚æœä½ å½“æ—¶åœ¨åŒºåŸŸxxx,é‚£ä¹ˆä½ å¯ä»¥è·å¾—biâˆ’âˆ£aiâˆ’xâˆ£b_i - \\vert a_i - x\\vertbiâ€‹âˆ’âˆ£aiâ€‹âˆ’xâˆ£çš„å¼€å¿ƒå€¼ã€‚ ä½ æ¯ä¸ªå•ä½æ—¶é—´å¯ä»¥ç§»åŠ¨ä¸è¶…è¿‡dddä¸ªå•ä½è·ç¦»ã€‚ ä½ çš„åˆå§‹ä½ç½®æ˜¯ä»»æ„çš„(åˆå§‹æ—¶åˆ»ä¸º1),æ±‚ä½ é€šè¿‡ç§»åŠ¨èƒ½è·å–åˆ°çš„æœ€å¤§çš„å¼€å¿ƒå€¼ã€‚ 1â‰¤nâ‰¤150000,1â‰¤mâ‰¤300,1â‰¤dâ‰¤n1 \\le n \\le 150000, 1 \\le m \\le 300, 1 \\le d \\le n1â‰¤nâ‰¤150000,1â‰¤mâ‰¤300,1â‰¤dâ‰¤n. å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–dp, æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ç©ºé—´. è®¾Fi,jF_{i, j}Fi,jâ€‹ä¸ºåœ¨ç¬¬iiiä¸ªå•ä½æ—¶é—´, ä½äºjjjçš„æœ€å¤§å¼€å¿ƒå€¼; è®¾Î”s=(tiâˆ’tiâˆ’1)â‹…d\\Delta s = (t_i - t_{i - 1}) \\cdot dÎ”s=(tiâ€‹âˆ’tiâˆ’1â€‹)â‹…d, åˆ™æœ‰ åˆ™æœ‰: \\begin{array}{d} F_{i, j} = \\max _{j - \\Delta s \\le k\\le j + \\Delta s}\\{F_{i - 1, k} + b_i - |a_i - j|\\}\\\\ \\Rightarrow F_{i, j} =b_i - |a_i - j| + \\max _{j - \\Delta s \\le k\\le j + \\Delta s}\\{F_{i - 1, k}\\} \\end{array} è§‚å¯Ÿæ•°æ®èŒƒå›´, å¼€ä¸ä¸‹è¿™ä¹ˆå¤§çš„æ•°ç»„; è§‚å¯Ÿå³å¼, å‘ç°Fi,jF_{i, j}Fi,jâ€‹åªè·ŸFiâˆ’1,jF_{i - 1, j}Fiâˆ’1,jâ€‹æœ‰å…³. è€ƒè™‘ä½¿ç”¨æ»šåŠ¨æ•°ç»„ä¼˜åŒ–æ‰ç¬¬ä¸€ç»´. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;iostream&gt;#include &lt;cstring&gt;const int N = 1.5e6 + 10, M = 310, INF = 0x3f3f3f3f;using namespace std;typedef long long LL;struct P { LL a, b, t;};P a[M];LL f[2][N], q[N];int n, m, d;inline LL delta_s(int i) { return d * (a[i].t - a[i - 1].t); }int main() { ios_base::sync_with_stdio(false); cin.tie(nullptr); cin &gt;&gt; n &gt;&gt; m &gt;&gt; d; for(int i = 1; i &lt;= m; ++i) { int aa, bb, tt; cin &gt;&gt; aa &gt;&gt; bb &gt;&gt; tt; a[i] = (P){aa, bb, tt}; } //dp bool flag = 1; for(int i = 1; i &lt;= m; ++i) { int head = 1, tail = 0, k = 1; //TODO: kåœ¨forå¾ªç¯é‡Œå®šä¹‰ç¬¬7ä¸ªç‚¹ä¼šTLE??? for(int j = 1; j &lt;= n; ++j) { for(; k &lt;= min(1ll * n, j + delta_s(i)); ++k) { while(head &lt;= tail &amp;&amp; f[flag ^ 1][q[tail]] &lt;= f[flag ^ 1][k]) --tail; q[++tail] = k; } while(head &lt;= tail &amp;&amp; q[head] &lt; max(1ll, j - delta_s(i))) ++head; f[flag][j] = f[flag ^ 1][q[head]] - abs(a[i].a - j) + a[i].b; } flag ^= 1; } LL ans = -INF; for(int j = 1; j &lt;= n; ++j) { ans = max(ans, f[flag ^ 1][j]); } cout &lt;&lt; ans &lt;&lt; endl; return 0;} PTA-Little Bird æœ‰nnnæ£µæ ‘ï¼Œç¬¬iiiæ£µæ ‘çš„é«˜åº¦æ˜¯did_idiâ€‹ã€‚ è¦å»ç¬¬nnnæ£µæ ‘ã€‚ ç¬¬iiiæ£µæ ‘å¯ä»¥è·³åˆ°ç¬¬i+1,i+2,â‹¯ ,i+ki+1,i+2,\\cdots,i+ki+1,i+2,â‹¯,i+kæ£µæ ‘ã€‚ å¦‚æœè·³åˆ°ä¸€æ£µä¸çŸ®äºå½“å‰æ ‘çš„æ ‘ï¼Œé‚£ä¹ˆåŠ³ç´¯å€¼ä¼š+1+1+1ï¼›å¦åˆ™ä¸ä¼šã€‚ æ±‚åˆ°è¾¾ç¬¬nnnæ£µæ ‘çš„æœ€å°åŠ³ç´¯å€¼ã€‚","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://ret2libc-pwned.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://ret2libc-pwned.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"DPä¼˜åŒ–","slug":"DPä¼˜åŒ–","permalink":"https://ret2libc-pwned.github.io/tags/DP%E4%BC%98%E5%8C%96/"}]},{"title":"å•è°ƒé˜Ÿåˆ—","slug":"å•è°ƒé˜Ÿåˆ—","date":"2022-04-30T11:11:11.000Z","updated":"2022-05-28T14:16:02.000Z","comments":true,"path":"2022/04/30/å•è°ƒé˜Ÿåˆ—/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/04/30/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/","excerpt":"","text":"å®šä¹‰ ç»´æŠ¤ä¸€ç§åºåˆ—, å¯ä»¥ä»å¤´å’Œå°¾å¢åŠ æˆ–åˆ é™¤å…ƒç´ (å³åŒç«¯é˜Ÿåˆ—), ä¸”å…ƒç´ å…·æœ‰å•è°ƒæ€§. å®ç° æœ¬è´¨æ˜¯ç»´æŠ¤å…·æœ‰å•è°ƒæ€§çš„æœ€ä¼˜å†³ç­–é›†åˆ, è¯¥å¦‚ä½•ç»´æŠ¤æœ€ä¼˜ä¸å•è°ƒçš„æ€§è´¨å‘¢? ç»´æŠ¤åºåˆ— è¯¥æ“ä½œçš„æœ¬è´¨æ˜¯å¯¹åŸåºåˆ—AAAæ‰«æ, å°†å½“å‰çš„å…ƒç´ AiA_iAiâ€‹ä¸å•è°ƒé˜Ÿåˆ—é˜Ÿå°¾æ¯”è¾ƒ, å¦‚æœAiA_iAiâ€‹æ›´ä¼˜åˆ™å°†é˜Ÿå°¾æ¢æˆAiA_iAiâ€‹. 123456789//pseudo codeQueue q, Array a[];int head = 0, tail = 0;for each a[i] in a { while(é˜Ÿåˆ—è¿‡å¤§) ++head; //pop front //æ­¤æ—¶q[head]ä¸ºå½“å‰æœ€ä¼˜ while(head &lt;= tail &amp;&amp; q[tail]æ²¡æœ‰a[i]ä¼˜) --tail; //pop back q[++tail] = å½“å‰å€¼;} å®ç°åŒç«¯é˜Ÿåˆ— std::deque å¯ä»¥ä½¿ç”¨dequeå¯¹åºåˆ—è¿›è¡Œæ“ä½œ. 123456789101112131415161718192021using namespace std;deque&lt;int&gt; q;//å…¥é˜Ÿq.push_front(x);q.push_back(x);//å‡ºé˜Ÿq.pop_front();q.pop_back();//å–å¤´å°¾q.front();q.back();//éå†for(int x: q) { cout &lt;&lt; x &lt;&lt; \" \";}puts(\"\"); æ•°ç»„æ¨¡æ‹Ÿ å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆheadheadhead, tailtailtailæ¨¡æ‹Ÿ. éœ€è¦æ³¨æ„çš„æ˜¯æ•°ç»„ä¸­ä¸‹æ ‡å°çš„å…ƒç´ åœ¨é˜Ÿåˆ—å‰é¢, åŒæ—¶æŒ‡é’ˆheadâ‰¤tailhead \\le tailheadâ‰¤tail. ä¾‹é¢˜ æ»‘åŠ¨çª—å£ ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnnnçš„åºåˆ—, æ±‚å…¶æ¯ä¸ªé•¿åº¦ä¸ºkkkçš„è¿ç»­å­åºåˆ—ä¸­çš„æœ€å¤§ä¸æœ€å°å€¼. æœ¬é¢˜åªéœ€ç»´æŠ¤ä¸¤ä¸ªå•è°ƒé˜Ÿåˆ—(ä¸€ä¸ªé€’å‡, é˜Ÿå¤´ä¸ºmin; å¦ä¸€ä¸ªåä¹‹)å³å¯. éœ€è¦æ³¨æ„çš„æ˜¯è¦è®©çª—å£å¤§å°ä¸è¶…è¿‡kkk, è¿™é‡Œé‡‡ç”¨åœ¨é˜Ÿåˆ—ä¸­å­˜å‚¨æ•°ç»„ä¸‹æ ‡çš„æ–¹æ³•ç»Ÿè®¡, å³ä¿è¯headheadheadä¸­å­˜å‚¨çš„ä¸‹æ ‡ä¸å½“å‰æ‰«æå…ƒç´ çš„ä¸‹æ ‡ä¹‹å·®å°äºkkk. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N = 1e6 + 100;int q[N], a[N];int n, k;void getMin() { //ç»´æŠ¤é€’å‡åºåˆ—, é˜Ÿå¤´å³ä¸ºç­”æ¡ˆ int head = 0, tail = 0; for(int i = 1; i &lt; k; ++i) { //Step 1: [1, k), push while(head &lt;= tail &amp;&amp; a[q[tail]] &gt;= a[i]) --tail; q[++tail] = i; } for(int i = k; i &lt;= n; ++i) { //Step 2: [k, n] //è¿™ä¸ªåŒºé—´çª—å£å¯èƒ½è¶…è¿‡k, éœ€è¦ç‰¹åˆ¤ç»´æŠ¤çª—å£å¤§å° while(head &lt;= tail &amp;&amp; a[q[tail]] &gt;= a[i]) --tail; q[++tail] = i; while(q[head] &lt;= i - k) ++head; cout &lt;&lt; a[q[head]] &lt;&lt; ' '; }}void getMax() { memset(q, 0, sizeof q); int head = 0, tail = 0; for(int i = 1; i &lt; k; ++i) { while(head &lt;= tail &amp;&amp; a[q[tail]] &lt;= a[i]) --tail; q[++tail] = i; } for(int i = k; i &lt;= n; ++i) { while(head &lt;= tail &amp;&amp; a[q[tail]] &lt;= a[i]) --tail; q[++tail] = i; if(q[head] &lt;= i - k) ++head; cout &lt;&lt; a[q[head]] &lt;&lt; ' '; }}int main() { cin &gt;&gt; n &gt;&gt; k; for(int i = 1; i &lt;= n; ++i) { cin &gt;&gt; a[i]; } getMin(); puts(\"\"); getMax(); puts(\"\"); return 0;} æœ€å¤§å­åºå’Œ ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnnnçš„åºåˆ—, æ±‚å‡ºä¸€æ®µé•¿åº¦ä¸è¶…è¿‡mmmçš„è¿ç»­å­åºåˆ—, è¾“å‡ºå­åºå’Œ. ä¸éš¾æƒ³åˆ°å‰ç¼€å’Œæ“ä½œ, åœ¨å‰ç¼€å’Œæ•°ç»„SSSä¸­, å¯¹äºå³ç«¯ç‚¹rrr, éœ€è¦æ‰¾åˆ°å·¦ç«¯ç‚¹lllæ»¡è¶³å¦‚ä¸‹æ¡ä»¶: {lâˆˆ[1,râˆ’1](1)minâ¡(Sl)(2)râˆ’mâ‰¤l(3)\\begin {cases} l \\in [1, r - 1]&amp;&amp;&amp;(1)\\\\ \\min(S_l)&amp;&amp;&amp;(2)\\\\ r - m \\le l&amp;&amp;&amp;(3) \\end {cases} â©â¨â§â€‹lâˆˆ[1,râˆ’1]min(Slâ€‹)râˆ’mâ‰¤lâ€‹â€‹â€‹(1)(2)(3)â€‹ å…¶ä¸­, 3å¼çš„æ„æ€æ˜¯è®©å­åºåˆ—çš„å¤§å°ä¸è¶…è¿‡mmm. 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;const int N = 1e6;using namespace std;int m, n;int a[N], s[N];int q[N];int main() { cin &gt;&gt; n &gt;&gt; m; for(int i = 1; i &lt;= n; ++i) { cin &gt;&gt; a[i]; s[i] = s[i - 1] + a[i]; } int head = 0, tail = 0, ans = -0x3f; for(int i = 1; i &lt;= n; ++i) { while(head &lt;= tail &amp;&amp; i - m &gt; q[head]) ++head; ans = max(ans, s[i] - s[q[head]]); while(head &lt;= tail &amp;&amp; s[q[tail]] &gt;= s[i]) --tail; q[++tail] = i; } cout &lt;&lt; ans &lt;&lt; endl; return 0;}","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://ret2libc-pwned.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}]},{"title":"Splay","slug":"Splay","date":"2022-03-12T13:39:05.000Z","updated":"2023-05-27T03:04:57.650Z","comments":true,"path":"2022/03/12/Splay/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/03/12/Splay/","excerpt":"","text":"Splay å®šä¹‰ Splayæ˜¯ä¸€ç§å¹³è¡¡æ ‘, å°†è®¿é—®è¿‡çš„ç»“ç‚¹ä¸æ–­æ—‹è½¬åˆ°æ ¹ç»“ç‚¹, åœ¨æ»¡è¶³BSTæ€§è´¨çš„åŒæ—¶ä¿è¯å…¶\"å¹³è¡¡\", åŸºäºæ—¶é—´ã€ç©ºé—´å±€éƒ¨æ€§åŸç†ä¼˜åŒ–æŸ¥æ‰¾æ€§èƒ½(è¿™æ ·æ“ä½œä½¿å¾—é«˜é¢‘è®¿é—®çš„ç»“ç‚¹åœ¨ç»å¸¸æ ¹ç»“ç‚¹é™„è¿‘). æœ¬æ–‡çš„BSTæ¯ä¸€ä¸ªç»“ç‚¹åªç»´æŠ¤å•ä¸ªå€¼(è€Œéé”®å€¼å¯¹), ä¸‹é¢è¯´æ³•ä¸­vã€valã€keyéƒ½æŒ‡è¿™ä¸ªå€¼, BSTæ€§è´¨çš„ç»´æŠ¤å®ƒä»¬çš„å¤§å°å…³ç³»åšä¾æ®. BSTæ€§è´¨ å·¦å­æ ‘ä»»æ„ç»“ç‚¹çš„key&lt;\\lt&lt;æ ¹ç»“ç‚¹key&lt;\\lt&lt;å³å­æ ‘ä»»æ„ç»“ç‚¹key, å³ä¸­åºéå†å•è°ƒé€’å¢. å¸¸è§çš„BSTæœ‰Treapã€Splayã€AVLç­‰. ç»“ç‚¹ç»“æ„ å¼€ç»“æ„ä½“æ•°ç»„è®°å½•ä¸¤ä¸ªå­ç»“ç‚¹åŠçˆ¶ç»“ç‚¹çš„æ•°ç»„ä¸‹æ ‡, ç±»ä¼¼äºä¸€ä¸ªé“¾è¡¨(å®é™…ä¸Šå¾ˆå¤šæ ‘çŠ¶æ•°æ®ç»“æ„éƒ½æ˜¯æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨). ç»“ç‚¹åŒæ—¶å­˜å‚¨ç»´æŠ¤çš„ä¿¡æ¯. 12345678910111213141516const int SIZE = 1e5;struct Node { //ä¸¤ä¸ªå­ç»“ç‚¹åŠçˆ¶ç»“ç‚¹æ•°ç»„ä¸‹æ ‡, val int s[2], p, v; //å»¶è¿Ÿæ ‡è®°åŠå­æ ‘å¤§å° int dat, size; //åˆå§‹åŒ–å½“å‰ç»“ç‚¹ void init(int _v, int _p) { v = _v, p = _p; size = 1; }};//AllocateNode tr[SIZE]; å…¶ä¸­è§„å®šs[0]ä¸ºå·¦å­ç»“ç‚¹, s[1]ä¸ºå³å­ç»“ç‚¹, å³: (åç»­ä»£ç å‡æœªä½¿ç”¨å¦‚ä¸‹define, åªæ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£) 1234#define ls s[0]#define rs s[1]#define son s[k]#define son_bro s[k ^ 1] //son's brother å•æ—‹æ“ä½œ(rotate) æ—‹è½¬éœ€è¦ä¿è¯BSTæ€§è´¨; æ ¹ç»“ç‚¹å˜é‡, å³rootéœ€è¦æ›´æ–°; ç»“ç‚¹ç»´æŠ¤çš„ä¿¡æ¯(å¦‚å»¶è¿Ÿæ ‡è®°)éœ€è¦æ›´æ–°. æ—‹è½¬æ”¹å˜äº†æ˜¯æ ‘çš„å½¢æ€, æœ¬è´¨æ˜¯æ”¹å˜çˆ¶å­å…³ç³». å³æ—‹, å³Zigâ¡(x)\\operatorname{Zig}(x)Zig(x)æ“ä½œ é¡¾åæ€ä¹‰å°±æ˜¯å°†xxxçš„å·¦å­æ ‘ç»•ç€xxxçš„çˆ¶ç»“ç‚¹yyyå‘å³æ—‹è½¬. éœ€è¦æ³¨æ„çš„æ˜¯x&lt;xr&lt;yx \\lt x_r \\lt yx&lt;xrâ€‹&lt;y, æ•…xrx_rxrâ€‹åº”è¯¥è½¬åˆ°yry_ryrâ€‹å·¦å­æ ‘çš„ä½ç½®. è¿™æ ·çš„æ“ä½œé€šè¿‡æ”¹å˜yyyä¸xrx_rxrâ€‹ã€faâ¡(y)\\operatorname{fa}(y)fa(y)ä¸xxxã€xxxä¸yyyçš„çˆ¶å­å…³ç³»è¾¾åˆ°. å·¦æ—‹, å³Zagâ¡(x)\\operatorname{Zag}(x)Zag(x)æ“ä½œ åŒç†, xxxçš„å³å­æ ‘ç»•ç€yyyå‘å·¦æ—‹è½¬, xlx_lxlâ€‹æ¥åœ¨yyyå³å­æ ‘ä½ç½®. å³éœ€è¦æ”¹å˜yyyä¸xlx_lxlâ€‹ã€faâ¡(y)\\operatorname{fa}(y)fa(y)ä¸xxxã€xxxä¸yyyçš„çˆ¶å­å…³ç³». æ—‹è½¬ç»“ç‚¹, å³rotateâ¡(x)\\operatorname{rotate}(x)rotate(x)æ“ä½œ ä¸Šè¿°æ“ä½œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ“ä½œrotateâ¡(x)\\operatorname{rotate}(x)rotate(x)æ¥å®Œæˆ, å³å®ç°**\"è‡ªåŠ¨åˆ¤å®šå·¦å³\"çš„å•æ—‹æ“ä½œ**. xxxæ˜¯yyyçš„å·¦å­æ ‘å°±å³æ—‹, å³å­æ ‘åä¹‹. è¯¥æ“ä½œçš„ç²¾é«“å°±æ˜¯åˆ¤å®šxxxæ˜¯yyyçš„å·¦ç»“ç‚¹è¿˜æ˜¯å³ç»“ç‚¹. å‰é¢è¯´è¿‡, â€œæ—‹è½¬\"çš„æœ¬è´¨æ˜¯\"æ”¹å˜çˆ¶å­å…³ç³»â€. æ¯ä¸ªç»“ç‚¹ç»´æŠ¤äº†å¥¹çš„å·¦å³å­æ ‘å’Œçˆ¶ç»“ç‚¹, æ‰€ä»¥è¯¥è¿‡ç¨‹éœ€è¦\"äº’è®¤\"çˆ¶å­å…³ç³», å³éœ€è¦ä¿®æ”¹ä¸¤ä¸ªç»“ç‚¹çš„ä¿¡æ¯; åŒæ—¶å› ä¸ºæ ‘çš„å½¢æ€è¢«æ”¹å˜, éœ€è¦é‡æ–°ç»Ÿè®¡å»¶è¿Ÿæ ‡è®°ç»´æŒçš„ä¿¡æ¯(å¦‚å­æ ‘å¤§å°). 12345678void Rotate(int x) { int y = tr[x].p, z = tr[y].p; int k = (tr[y].s[1] == x); tr[z].s[tr[z].s[1] == y] = x, tr[x].p = z; tr[y].s[k] = tr[x].s[k ^ 1], tr[tr[x].s[k ^ 1]].p = y; tr[x].s[k ^ 1] = y, tr[y].p = x; //tr[x].s[k]çš„å«ä¹‰æ˜¯å–å¤„äºyxç›´çº¿ä¸Šçš„xçš„å„¿å­, k ^ 1æ˜¯å–å¥¹çš„å…„å¼Ÿ Pushup(y), Pushup(x);} è¯´äººè¯å°±æ˜¯: kkkçš„è·å–: 123456inline int k(int x, int y) { /* *@description è¿”å›xæ˜¯yçš„å“ªä¸ªå„¿å­, å·¦0å³1. */ return (tr[y].s[1] == x);} rotateä¼ªä»£ç : 123456/* yæ˜¯xçš„çˆ¸çˆ¸, zæ˜¯xçš„çˆ·çˆ·; *//* ä»¥ä¸‹æ¯ä¸€æ­¥éƒ½éœ€è¦ä¿®æ”¹ä¸¤ä¸ªç»“ç‚¹çš„å€¼, å³äº’è®¤å…³ç³» */ç”¨zå–åˆ°y, å°†xè½¬åˆ°yçš„ä½ç½®ä¸Š, å¹¶ä¸zäº’è®¤; /* ä»¥ä¸‹ä¸¤éƒ¨å‡éœ€æ“ä½œç»“ç‚¹ä¸å…¶çˆ¶ç»“ç‚¹\"äº’è®¤\"è¿‡ç¨‹, ä¸å†èµ˜è¿° */x(æ­¤æ—¶åœ¨yçš„ä½ç½®ä¸Š)çš„å…„å¼Ÿè½¬åˆ°åŸå…ˆx(å³tr[y].s[k])çš„ä½ç½®ä¸Š;è®©yè½¬åˆ°åŸå…ˆxçš„å…„å¼Ÿçš„ä½ç½®;åˆ†åˆ«æ›´æ–°y, xå­æ ‘ç»´æŠ¤çš„ä¿¡æ¯; åŒæ—‹æ“ä½œ(splay) é€šè¿‡ä¸€æˆ–ä¸¤æ¬¡rotate, å¯ä»¥è°ƒæ•´BSTçš„å½¢æ€, ä½¿å…¶æ›´å¹³è¡¡. é€šè¿‡è¿‡ç¨‹splayâ¡(x,goal)\\operatorname{splay}(x, goal)splay(x,goal)å°†ç»“ç‚¹xxxè½¬åˆ°goalgoalgoalçš„å­ç»“ç‚¹. è§„å®šyyyæ˜¯xxxçˆ¶ç»“ç‚¹, zzzæ˜¯yyyçˆ¶ç»“ç‚¹, splayåˆ†å…­ç§(3 * 2)æƒ…å†µè®¨è®º. å½“faâ¡(x)=Rootâ¡\\operatorname{fa}(x) = \\operatorname{Root}fa(x)=Rootæ—¶, æ—‹è½¬ä¸€æ¬¡xxx(å³æˆ–å·¦), å³Zigæˆ–Zag; å½“faâ¡(x)â‰ Rootâ¡\\operatorname{fa}(x) \\ne \\operatorname{Root}fa(x)î€ =Rootä¸”z,y,xz, y, xz,y,xåœ¨ä¸€æ¡ç›´çº¿ä¸Š, æ—‹è½¬ä¸€æ¬¡yyy, å†åŒæ–¹å‘æ—‹è½¬ä¸€æ¬¡xxx, å³Zig-Zigæˆ–Zag-Zag; å½“faâ¡(x)â‰ Rootâ¡\\operatorname{fa}(x) \\ne \\operatorname{Root}fa(x)î€ =Rootä¸”z,y,xz, y, xz,y,xå½¢çŠ¶æ˜¯åœ¨ä¸€æ¡ç›´çº¿çš„ä¸­é—´æŠ˜äº†ä¸€ä¸‹, åˆ†åˆ«å¯¹xxxæ‰§è¡Œä¸¤æ¬¡ä¸åŒæ–¹å‘çš„æ—‹è½¬, å³Zig-Zagæˆ–Zag-Zig. ç”»å›¾ç†è§£å³å¯. ä½¿ç”¨rotateå°±æ˜¯: æŠ˜çº¿2x ç›´çº¿yx éœ€è¦æ³¨æ„çš„æ˜¯è¯¥æ“ä½œæ˜¯å°†xxxè½¬åˆ°goalgoalgoalä¸‹é¢, æ•…å½“xxxä¸goalgoalgoalä¸ºå…·æœ‰çˆ¶å­å…³ç³»çš„ä¸¤ä¸ªç»“ç‚¹æ—¶ (å³ç¬¬1ã€2ç§æƒ…å†µ)ä¸éœ€è¦æ“ä½œ(å³ä¸éœ€è¦äº¤æ¢å®ƒä»¬). 123456789101112void Splay(int x, int goal) { //æŠŠxè½¬åˆ°goalä¸‹é¢ while(tr[x].p != goal) { int y = tr[x].p, z = tr[y].p; if(z != goal) { if((tr[z].s[1] == y) ^ (tr[y].s[1] == x)) Rotate(x); //æŠ˜çº¿å…ˆè½¬xå†è½¬x else Rotate(y); //ç›´çº¿å…ˆè½¬y } Rotate(x); //ç»Ÿä¸€è½¬x } if(goal == 0) Root = x; //æ›´æ–°æ ¹ç»“ç‚¹(0ä¸ºæ ¹ç»“ç‚¹ä¸‹æ ‡)} æ’å…¥æ“ä½œ(insert) è¿‡ç¨‹insertâ¡(val)\\operatorname{insert}(val)insert(val)å°†valvalvalæ’å…¥BSTçš„ç›¸åº”ä½ç½®xxx, å°†æ’å…¥çš„æ•°è½¬åˆ°æ ¹ç»“ç‚¹, å³æ‰§è¡Œsplayâ¡(x,0)\\operatorname{splay}(x, 0)splay(x,0). æ’å…¥æ—¶éœ€è¦ç»´æŠ¤BSTæ€§è´¨, å°†æ’å…¥çš„è¿™ä¸ªæ•°ä¸å½“å‰èŠ‚ç‚¹æ¯”è¾ƒ, â€œå°æ’å·¦, å¤§æ’å³â€. 12345678910111213void Insert(int v) { /* * @param v è¦æ’å…¥å€¼çš„val. */ int u = Root, p = 0; //ä»æ ¹ç»“ç‚¹å¼€å§‹, uä¸ºå½“å‰èŠ‚ç‚¹æ•°ç»„ä¸‹æ ‡, pä¸ºå¥¹çš„çˆ¸çˆ¸ä¸‹æ ‡ while(u) { p = u, u = tr[u].s[v &gt; tr[u].v]; //å°å·¦å¤§å³åœ°æ’ä¸‹å», æ–¹æ‹¬å·é‡Œçš„æ˜¯åˆ¤å®šå·¦å³ } u = ++idx; //ç»“ç‚¹åˆå¤šäº†ä¸€ä¸ª, idx += 1; if(p) tr[p].s[v &gt; tr[p].v] = u; //å°†pçš„å„¿å­uæ’å…¥é€‚å½“ä½ç½® tr[u].init(v, p); //ç»™è¿™ä¸ªç‚¹åˆå§‹åŒ–çˆ¸çˆ¸ä¸‹æ ‡å’Œè‡ªèº«value, å¹¶å°†å¤§å°è®¾ä¸º1 splay(u, 0); //è½¬åˆ°æ ¹ç»“ç‚¹} æŸ¥è¯¢æŒ‡å®šæ•°çš„æ’å(getRank) ä¸ä¼šğŸ˜„. æŸ¥è¯¢ç¬¬kkkå°çš„æ•°(getValByRank) getValByRankâ¡(rank)\\operatorname{getValByRank}(rank)getValByRank(rank)æ“ä½œåˆ†ä¸‰ç§æƒ…å†µè®¨è®º: å·¦å­æ ‘ç»“ç‚¹ä¸ªæ•° &gt; rankrankrank, æ‰€æ±‚ç»“ç‚¹ä½äºå·¦å­æ ‘; å·¦å­æ ‘ç»“ç‚¹ä¸ªæ•° = rankâˆ’1rank - 1rankâˆ’1, æ‰€æ±‚ç»“ç‚¹ä¸ºä¸­åºéå†ç¬¬kä¸ªæ•°(å³å·¦å­æ ‘çš„çˆ¶ç»“ç‚¹);\\ å·¦å­æ ‘ç»“ç‚¹ä¸ªæ•° &lt; rankâˆ’1rank - 1rankâˆ’1, æ‰€æ±‚ç»“ç‚¹ä½äºå³å­æ ‘(rankéœ€è¦å‡å»å·¦å­æ ‘å¤§å°åŠ ä¸€çš„å’Œ) 12345678910int getValByRank(int rk) { int u = Root; while(true) { Pushdown(u); if(tr[tr[u].s[0]] &gt;= rk) u = tr[u].s[0]; else if(tr[tr[u].s[0]] + 1 == rk) return u; else rk -= (tr[tr[u].s[0]] + 1), u = tr[u].s[1]; } return -1;} åˆ é™¤æ“ä½œ(delete) æ“ä½œdeleteâ¡(x)\\operatorname{delete}(x)delete(x)ä»Splayä¸­åˆ é™¤valueä¸ºxxxçš„ç»“ç‚¹. è¯¥æ“ä½œé¦–å…ˆå°†xxxè½¬åˆ°æ ¹ç»“ç‚¹, å†åˆå¹¶xxxçš„å·¦å³å­æ ‘. æŸ¥è¯¢å‰é©±/åç»§(getPrefix/getSuffix) xxxçš„å‰é©±: å°äºxxxçš„æœ€å¤§æ•°; xxxçš„åç»§: å¤§äºxxxçš„æœ€å°æ•°. getPrefixâ¡(x)\\operatorname{getPrefix}(x)getPrefix(x)æ“ä½œæŸ¥è¯¢xxxçš„å‰é©±, å¯ä»¥é€šè¿‡æ’å…¥xxx(æ’å…¥åä½äºæ ¹ç»“ç‚¹), æ­¤æ—¶xxxå·¦å­æ ‘ä¸­æœ€å³è¾¹çš„ç»“ç‚¹å³ä¸ºæ‰€æ±‚, æœ€ååˆ é™¤ç»“ç‚¹xxx; getSuffixâ¡(x)\\operatorname{getSuffix}(x)getSuffix(x)æ“ä½œåä¹‹. ä¾‹é¢˜ æ–‡è‰ºå¹³è¡¡æ ‘(Luogu P3391) ç¿»è½¬ä¸€ä¸ªåŒºé—´ï¼Œä¾‹å¦‚åŸæœ‰åºåºåˆ—æ˜¯{5,4,3,2,1}\\{5, 4, 3, 2, 1\\}{5,4,3,2,1}ï¼Œç¿»è½¬åŒºé—´æ˜¯[2,4][2, 4][2,4]çš„è¯ï¼Œç»“æœæ˜¯{5,2,3,4,1}\\{5, 2, 3, 4, 1\\}{5,2,3,4,1}. åœ¨ç»“ç‚¹ä¸Šç»´æŠ¤å»¶è¿Ÿæ ‡è®°flagflagflagæ¥åˆ¤å®šç¿»è½¬çŠ¶æ€, é¿å…å¤šæ¬¡ç¿»è½¬é€ æˆæ€§èƒ½ä¸Šçš„æµªè´¹. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105#include &lt;iostream&gt;const int N = 1e5;using namespace std;struct Node { int s[2], p, v, siz; int flag; //flag == 1åˆ™éœ€è¦ç¿»è½¬ void init(int _v, int _p) { v = _v, p = _p; siz = 1; }};Node tr[N];int idx, Root;int cas, n;void Pushup(int x) { tr[x].siz = tr[tr[x].s[0]].siz + tr[tr[x].s[1]].siz + 1;}void Pushdown(int x) { if(tr[x].flag) { swap(tr[x].s[0], tr[x].s[1]); tr[tr[x].s[0]].flag ^= 1; tr[tr[x].s[1]].flag ^= 1; tr[x].flag = 0; }}void Rotate(int x) { int y = tr[x].p, z = tr[y].p; int k = (tr[y].s[1] == x); tr[z].s[tr[z].s[1] == y] = x, tr[x].p = z; tr[y].s[k] = tr[x].s[k ^ 1], tr[tr[x].s[k ^ 1]].p = y; tr[x].s[k ^ 1] = y, tr[y].p = x; Pushup(y), Pushup(x);}void Splay(int x, int goal) { while(tr[x].p != goal) { int y = tr[x].p, z = tr[y].p; if(z != goal) { if((tr[z].s[1] == y) ^ (tr[y].s[1] == x)) Rotate(x); else Rotate(y); } Rotate(x); } if(goal == 0) Root = x;}void Insert(int v) { int u = Root, p = 0; while(u) { p = u, u = tr[u].s[v &gt; tr[u].v]; } u = ++idx; if(p) { tr[p].s[v &gt; tr[p].v] = u; } tr[u].init(v, p); Splay(u, 0);}int getValByRank(int rk) { int u = Root; while(true) { Pushdown(u); if(tr[tr[u].s[0]].siz &gt;= rk) u = tr[u].s[0]; else if(tr[tr[u].s[0]].siz == rk - 1) return u; else rk -= (tr[tr[u].s[0]].siz + 1), u = tr[u].s[1]; } return -1;}void Output(int u) { //è¿™ä¸€æ­¥æ˜¯ç¿»è½¬ Pushdown(u); //ä»uå¼€å§‹ä¸­åºéå† //å·¦ if(tr[u].s[0]) Output(tr[u].s[0]); //åˆ¤å®šå“¨å…µ, è¾“å‡ºå½“å‰ç»“ç‚¹ if(tr[u].v &gt;= 1 &amp;&amp; tr[u].v &lt;= n) cout &lt;&lt; tr[u].v &lt;&lt; ' '; //å³ if(tr[u].s[1]) Output(tr[u].s[1]);}int main() { cin &gt;&gt; n &gt;&gt; cas; for(int i = 0; i &lt;= n + 1; ++i) { //æ’å…¥å“¨å…µé˜²æ­¢è¶Šç•Œ Insert(i); } while(cas--) { int l, r; cin &gt;&gt; l &gt;&gt; r; l = getValByRank(l), r = getValByRank(r + 2); Splay(l, 0), Splay(r, l); tr[tr[r].s[0]].flag ^= 1; } Output(Root); return 0;} 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125//å¯¹é›¶åŸºç¡€å³ä¸ºå‹å¥½#include &lt;iostream&gt;const int N = 1e6;using namespace std;struct Node { int v, p, s[2], siz; bool flag; void init(int _v, int _p) { v = _v, p = _p; siz = 0; }};Node tr[N];int n, cas, Root, idx;/* * ä¸€äº›å®å®šä¹‰, ç”¨æ³•ç®€å•æ˜äº†, è·Ÿä¸€å¤§å †æ‚ä¹±æ— ç« çš„ä¸­æ‹¬å·è¯´å†è§!!! * ex. node(x).init(v, p) //åˆå§‹åŒ–ç»“ç‚¹xçš„å±æ€§v, p * siz(left(x)) //è·å–ç»“ç‚¹xçš„å·¦å­èŠ‚ç‚¹size * siz(node(x).ls) //å¦ä¸€ç§å†™æ³• */#define ls s[0]#define rs s[1]#define isRoot(x) (x == 0)#define BST_getPos(fa, val) tr[fa].s[(val) &gt; tr[(fa)].v] //åœ¨faç»“ç‚¹ä¸‹é¢æ ¹æ®BSTæ€§è´¨æ’å…¥ä¸€ä¸ªå€¼ä¸ºvalçš„ç»“ç‚¹, åˆ¤å®šç»“ç‚¹ä½ç½®(å³: è¦æ’åœ¨å“ªé‡Œ)#define node(x) tr[(x)] //å¯ä»¥ç†è§£ä¸ºxå·ç»“ç‚¹çš„å¯¹è±¡, æ–¹ä¾¿ä½¿ç”¨ls, rs#define left(x) tr[(x)].s[0]#define right(x) tr[(x)].s[1]#define val(x) tr[(x)].v#define siz(x) tr[(x)].siz#define flag(x) tr[(x)].flag#define pa(x) tr[(x)].p#define son(fa, x) tr[(fa)].s[(x)] //è·å–ç»“ç‚¹façš„å„¿å­, å‚æ•°xä¸ºå·¦å³, å·¦0å³1#define LoR(fa, x) (tr[(fa)].s[1] == (x)) //L or R, xæ˜¯façš„å“ªä¸ªå„¿å­void Pushup(int x) { siz(x) = siz(left(x)) + siz(right(x)) + 1;}void Pushdown(int x) { if(flag(x)) { swap(left(x), right(x)); flag(left(x)) ^= 1; flag(right(x)) ^= 1; flag(x) = 0; }}void Rotate(int x) { int y = pa(x), z = pa(y); int k = LoR(y, x); son(z, LoR(z, y)) = x, pa(x) = z; son(y, k) = son(x, k ^ 1), pa(son(x, k ^ 1)) = y; son(x, k ^ 1) = y, pa(y) = x; Pushup(y), Pushup(x);}void Splay(int x, int goal) { while(pa(x) != goal) { int y = pa(x), z = pa(y); if(z != goal) { if(LoR(z, y) ^ LoR(y, x)) { Rotate(x); } else { Rotate(y); } } Rotate(x); } if(isRoot(goal)) Root = x;}void Insert(int v) { int u = Root, p = 0; while(u) { p = u, u = BST_getPos(u, v); } u = ++idx; if(!isRoot(p)) { BST_getPos(p, v) = u; } node(u).init(v, p); Splay(u, 0);}int getValByRank(int rk) { int u = Root; while(true) { Pushdown(u); if(siz(left(u)) &gt;= rk) u = left(u); else if(siz(left(u)) == rk - 1) return u; else rk -= siz(left(u)) + 1, u = right(u); } return -1;}void Output(int x) { Pushdown(x); if(left(x)) Output(left(x)); if(val(x) &gt;= 1 &amp;&amp; val(x) &lt;= n) cout &lt;&lt; val(x) &lt;&lt; ' '; if(right(x)) Output(right(x)); }int main() { cin &gt;&gt; n &gt;&gt; cas; for(int i = 0; i &lt;= n + 1; ++i) { Insert(i); } while(cas--) { int l, r; cin &gt;&gt; l &gt;&gt; r; l = getValByRank(l), r = getValByRank(r + 2); Splay(l, 0), Splay(r, l); flag(left(r)) ^= 1; } Output(Root); puts(\"\"); return 0;} æ™®é€šå¹³è¡¡æ ‘(Luogu P3369) å®ç°å¢, åˆ , æŸ¥è¯¢æ’åä¸åæŸ¥, æŸ¥è¯¢å‰é©±ä¸åç»§åŠŸèƒ½. Solution1: std::vector 12345678910111213141516171819202122232425262728293031323334353637#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;vector&lt;int&gt; v;int cas;int main() { cin &gt;&gt; cas; while(cas--) { int op, x; cin &gt;&gt; op &gt;&gt; x; switch(op) { case 1: //insert(x) v.insert(lower_bound(v.begin(), v.end(), x), x); break; case 2: //delete(x) v.erase(lower_bound(v.begin(), v.end(), x)); break; case 3: //getRank(x) cout &lt;&lt; lower_bound(v.begin(), v.end(), x) - v.begin() + 1 &lt;&lt; endl; break; case 4: //getValueByRank(x) cout &lt;&lt; v[x - 1] &lt;&lt; endl; break; case 5: //getPre(x) cout &lt;&lt; *--lower_bound(v.begin(), v.end(), x) &lt;&lt; endl; break; case 6: //getNxt(x) cout &lt;&lt; *lower_bound(v.begin(), v.end(), x + 1) &lt;&lt; endl; break; } } return 0;}","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://ret2libc-pwned.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"å¹³è¡¡æ ‘","slug":"å¹³è¡¡æ ‘","permalink":"https://ret2libc-pwned.github.io/tags/%E5%B9%B3%E8%A1%A1%E6%A0%91/"}]},{"title":"äºŒåˆ†","slug":"äºŒåˆ†","date":"2022-02-20T12:53:53.000Z","updated":"2022-07-13T06:41:08.000Z","comments":true,"path":"2022/02/20/äºŒåˆ†/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/02/20/%E4%BA%8C%E5%88%86/","excerpt":"","text":"äºŒåˆ† åŸç†åŠå®ç° èƒ½ç”¨äºŒåˆ†è§£å†³çš„é—®é¢˜æœ¬è´¨ä¸Šæ˜¯ æ±‚å¯è¡ŒåŸŸçš„ç•Œ ï¼åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰ï¼šè‹¥åœ¨ä¸€ä¸ªå•è°ƒåŒºé—´ [st,ed][st, ed][st,ed] å†…ï¼Œé—®é¢˜çš„æœ€ä¼˜ç­”æ¡ˆä¸º ansansans ï¼Œæœ‰ âˆ€xâˆˆ[st,ans]\\forall x \\in [st, ans]âˆ€xâˆˆ[st,ans] æ»¡è¶³é—®é¢˜çš„è¦æ±‚ï¼Œåˆ™ç§° [st,ans][st, ans][st,ans] ä¸ºè¯¥é—®é¢˜çš„ å¯è¡ŒåŸŸï¼å³ï¼Œåœ¨ (ans,ed](ans, ed](ans,ed] çš„ç­”æ¡ˆéƒ½ä¸èƒ½æ»¡è¶³è¯¥é—®é¢˜çš„æ¡ä»¶ï¼å› ä¸ºåŒºé—´çš„å•è°ƒæ€§ï¼Œå¯è¡ŒåŸŸçš„ä¸€ä¸ªç•Œå¾€å¾€æ˜¯æœ€ä¼˜ç­”æ¡ˆ. ï¼ˆè¿™ç©æ„æ˜¯è‡ªå·±å®šä¹‰æ–¹ä¾¿ç†è§£çš„ï¼‰ äºŒåˆ†ç®—æ³•çš„æœ¬è´¨å®é™…ä¸Šä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ lã€rlã€rlã€r ç¡®å®šæŸ¥æ‰¾çš„åŒºé—´ï¼Œé€šè¿‡ midmidmid æ¥åˆ¤æ–­åŒºé—´æ˜¯å¦åœ¨å¯è¡ŒåŸŸå†…ä»¥åŠæ˜¯å¦éœ€è¦è¿›ä¸€æ­¥ç¼©å°ï¼Œè¿­ä»£åœ°é€æ­¥ç¼©å°è¿™ä¸ªåŒºé—´ï¼å¾ªç¯ç»“æŸï¼ŒæŸä¸€ä¸ªæŒ‡é’ˆåœç•™åœ¨å¯è¡ŒåŸŸçš„æŸä¸€ç«¯ç‚¹ä¸Šï¼Œè¡¨ç¤ºäº†æœ€ç»ˆç­”æ¡ˆï¼ äºŒåˆ†çš„ä¸€èˆ¬æ€è·¯ 1. å¯è¡ŒåŸŸçš„ç¡®å®š **æ˜ç¡®å•è°ƒæ€§ï¼**å³æ˜ç¡®è¯¥é—®é¢˜æ˜¯å¦èƒ½ç”¨äºŒåˆ†è§£å†³ï¼Œè¿™ç±»é—®é¢˜ä¸€èˆ¬éœ€è¦ï¼š å®¹æ˜“åˆ¤æ–­ç­”æ¡ˆæ˜¯å¦å¯è¡Œï¼› åŒºé—´ç¦»æ•£ï¼ˆå³åªå«æœ‰æœ‰é™ä¸ªå…ƒç´ ï¼‰ï¼› åŒºé—´å•è°ƒï¼ˆåŒºé—´çš„ä¸€ä¾§æ˜¯å¯è¡ŒåŸŸï¼Œå¦ä¸€ä¾§ä¸æ»¡è¶³è¦æ±‚ï¼‰ï¼ **åˆ¤å®šå¯è¡Œæ€§ï¼**å¯¹äºä¸€ä¸ªå€™é€‰ç­”æ¡ˆï¼Œå¦‚ä½•åˆ¤å®šæ˜¯å¦å¯è¡Œï¼Ÿ **è·å¾—ä¸Šä¸‹ç•Œï¼**å¯è¡ŒåŸŸçš„ä¸€ä¸ªç•Œå¾€å¾€æ˜¯æœ€ä¼˜ç­”æ¡ˆï¼Œæˆ‘ä»¬éœ€è¦å¤§è‡´æç»˜è¿™ä¸ªç•Œçš„æƒ…å†µï¼ˆå¦‚ï¼šç­”æ¡ˆä½äºå¯è¡ŒåŸŸä¸Šç•Œè¿˜æ˜¯ä¸‹ç•Œï¼Ÿï¼‰ï¼ **åˆ’åˆ†åŒºé—´ï¼**è®¾è®¡ç®—æ³•ï¼Œè®©äºŒåˆ†ç»“æŸåï¼ˆåŒºé—´ä¸å†è¿›ä¸€æ­¥ç¼©å°æ—¶ï¼‰ï¼Œä¸€ä¸ªæŒ‡é’ˆåœåœ¨è¿™ä¸ªç•Œä¸Šï¼ ä¾‹ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾ ç»™å®šä¸€ä¸ª å•è°ƒé€’å¢çš„ åºåˆ— a[1...n] ï¼Œè¿”å›æŒ‡å®šå…ƒç´  keykeykey åœ¨åºåˆ—ä¸­çš„ä½ç½®. å¦‚ä¸å­˜åœ¨å€¼ä¸º keykeykey çš„å…ƒç´ ï¼Œåˆ™è¿”å› keykeykey çš„åç»§ï¼ˆç¬¬ä¸€ä¸ªå¤§äº keykeykey çš„å…ƒç´ ï¼‰çš„ä½ç½®ï¼ é—®é¢˜åˆ†æ ã€å•è°ƒæ€§ã€‘ è¯¥åºåˆ—æœ¬èº«å•è°ƒé€’å¢ï¼ŒåŒæ—¶å¯ä»¥å¾—åˆ°å¯è¡ŒåŸŸçš„ç•Œï¼šè®¾ iii ä¸ºç­”æ¡ˆï¼ˆå³ aia_iaiâ€‹ ä¸º keykeykey æˆ– keykeykey çš„åç»§ï¼‰ï¼Œæœ‰ aiâˆ’1&lt;aia_{i - 1} \\lt a_iaiâˆ’1â€‹&lt;aiâ€‹ ï¼Œåˆ™ iâˆ’1i - 1iâˆ’1 ä¸ä¸ºç­”æ¡ˆï¼ ã€å¯è¡ŒåŸŸã€‘ é›†åˆ \\{i | a_i \\ge key \\and 1 \\le i \\le n\\}ï¼ï¼ˆå¯èƒ½éœ€è¦å–åˆ°åç»§ï¼Œæ‰€ä»¥æ˜¯å¾€å¤§å–ï¼‰ **ã€æµç¨‹ã€‘**ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆ lã€rlã€rlã€r ï¼æˆ‘ä»¬çŸ¥é“ç­”æ¡ˆä¸ºå¯è¡ŒåŸŸçš„ä¸‹ç•Œï¼Œå°±è®©æœç´¢ç»“æŸå lll ä¸ºç­”æ¡ˆï¼ è®¡ç®— midmidmid ï¼› å°†æ•´ä¸ªæŸ¥æ‰¾åŒºé—´åˆ’åˆ†ä¸º [l,mid][l, mid][l,mid] å’Œ [mid+1,r][mid + 1, r][mid+1,r]ï¼› å½“ amidâ‰¥keya_{mid} \\ge keyamidâ€‹â‰¥key æ—¶ï¼Œmidmidmid åœ¨å¯è¡ŒåŸŸå†…ï¼Œç§»åŠ¨ rrr åˆ° midmidmid ï¼Œç¼©å°æœç´¢åŒºé—´ï¼›å¦åˆ™ï¼Œamidâ‰¤keya_{mid} \\le keyamidâ€‹â‰¤key ï¼Œç§»åŠ¨ lll åˆ° mid+1mid + 1mid+1ï¼Œä½¿æœç´¢åŒºé—´é€¼è¿‘å¯è¡ŒåŸŸï¼› å½“ l=rl = rl=r æ—¶ï¼Œæœç´¢ç»“æŸï¼Œlll å³ä¸ºç­”æ¡ˆï¼ ä»£ç å®ç° 1234567int binary_search(int a[], int key, int l, int r) { while(l &lt; r) { int mid = l + (r - l &gt;&gt; 1); if(a[mid] &gt;= key) r = mid; else l = mid + 1; } return l;} æ³¨ äºŒåˆ†çš„ä¸€èˆ¬æµç¨‹å¦‚ä¸‹ï¼š 1234567891011121314bool check(int x) { // è¯¥å‡½æ•°ä½œç”¨ä¸ºè¿”å› mid æ˜¯å¦å¤„äºå¯è¡ŒåŸŸå†… return å½“ x ä½œä¸ºé—®é¢˜ç­”æ¡ˆæ—¶æ˜¯å¦å¯è¡Œ;}int l = å·¦ç«¯ç‚¹, r = å³ç«¯ç‚¹;while(æœç´¢æœªç»“æŸ) { int mid = (l + r) / 2; // æ³¨æ„æ˜¯å¦éœ€è¦ +1 æˆ– -1ï¼Œå¦åˆ™ä¼šé€ æˆæ­»å¾ªç¯ if(check(mid)) { ï¼ˆç”¨lã€rå…¶ä¸­ä¸€ä¸ªç«¯ç‚¹ï¼‰è¿›ä¸€æ­¥ç¼©å°åŒºé—´; } else { ï¼ˆç”¨å¦ä¸€ä¸ªç«¯ç‚¹ï¼‰å°†åŒºé—´ç¼©å°åˆ°å¯è¡ŒåŸŸå†…; }}è¾“å‡º(ç­”æ¡ˆæ‰€åœ¨çš„ç«¯ç‚¹); åº”ç”¨ äºŒåˆ†ç­”æ¡ˆ æˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨ä¸€ä¸ª ç¦»æ•£çš„å•è°ƒåŒºé—´ ï¼ˆè¯¥åŒºé—´å†…æœ‰æœ‰é™ä¸ªå…ƒç´ ä¸”æ»¡è¶³å•è°ƒæ€§ï¼‰å†…æšä¸¾é—®é¢˜çš„ç­”æ¡ˆï¼Œä¾‹å¦‚çŒœ [1,1e9][1, 1e9][1,1e9] ä¸­çš„æŸä¸ªæ•´æ•°ï¼Œæ¯æ¬¡çŒœæµ‹å¯ä»¥å¾—çŸ¥çŒœçš„æ•°å­—å¤§äº†è¿˜æ˜¯å°äº†ï¼è¿™æ˜¯å¯ä»¥ä» 111 å°è¯•åˆ° 1e91e91e9ï¼æœ‰çš„æ—¶å€™ä¸èƒ½çŒœè¿™ä¹ˆå¤šæ¬¡ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ å¯ä»¥ä½¿ç”¨äºŒåˆ†ç­”æ¡ˆ, ä½¿ç”¨äºŒåˆ†ä¼˜åŒ–æšä¸¾çš„è¿‡ç¨‹. P1873 ç æ ‘ å¦‚æœæšä¸¾[1,1Ã—109][1, 1\\times 10^9][1,1Ã—109]ä¼šè¶…æ—¶, ä½¿ç”¨äºŒåˆ†ç­”æ¡ˆ. 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;using LL = long long;const int N = 1e6;using namespace std;int n;LL a[N], m;bool isValid(LL height) { LL got = 0; for(int i = 0; i &lt; n; ++i) { got += max(a[i] - height, 0ll); } return got &gt;= m;}int main() { cin &gt;&gt; n &gt;&gt; m; for(int i = 0; i &lt; n; ++i) { cin &gt;&gt; a[i]; } int l = 1, r = 1e9 + 1; //é—­åˆçš„åŒºé—´, 1e9éœ€è¦åŠ ä¸€ while(l + 1 &lt; r) { //l, rä¸èƒ½ç›¸é‚» int mid = l + (r - l &gt;&gt; 1); if(isValid(mid)) { l = mid; } else { r = mid; } } cout &lt;&lt; l &lt;&lt; endl; return 0;}","categories":[{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"åŸºç¡€ç®—æ³•","slug":"åŸºç¡€ç®—æ³•","permalink":"https://ret2libc-pwned.github.io/tags/%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/"}]},{"title":"FREE-Figurines","slug":"FREE-Figurines","date":"2021-12-04T14:18:52.000Z","updated":"2022-05-03T11:12:16.000Z","comments":true,"path":"2021/12/04/FREE-Figurines/","link":"","permalink":"https://ret2libc-pwned.github.io/2021/12/04/FREE-Figurines/","excerpt":"","text":"1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;iostream&gt;const int N = 1e6;using namespace std;/*ä¸¤ç§æ“ä½œ: æ¥åœ¨åé¢ / åˆ é™¤æœ€å‰é¢.æœ€å·®æƒ…å†µ: \"é‡ç»„\", å³å…¨éƒ¨åˆ äº†å†æ‹¼èµ·æ¥. éœ€è¦2næ¬¡æ“ä½œ.ä¼˜åŒ–: å°¾å·´ä¸Šçš„èŠ‚ç‚¹ä¸éœ€è¦æ“ä½œ. å¯ä»¥ç»Ÿè®¡æœ‰å¤šå°‘ä¸ªè¿™ç§èŠ‚ç‚¹, å‡å»èŠ‚ç‚¹æ•° * 2å³å¯.*/int src[N], dest[N], len[N], n, ans;bool vis[N];inline void debug() { printf(\"ans = %d\\n\", ans);}int main() { cin &gt;&gt; n; /*é¢„å¤„ç†, ç»Ÿè®¡æœ€åæƒ…å†µans*/ for(int i = 1; i &lt;= n; i++) { cin &gt;&gt; src[i]; vis[src[i]] = true; if(src[i]) ans++; } for(int i = 1; i &lt;= n; i++) { cin &gt;&gt; dest[i]; vis[dest[i]] = true; if(dest[i]) ans++; } for(int i = 1; i &lt;= n; i++) { if(!vis[i]) { int tmpi = i; while(src[tmpi] * dest[tmpi] &amp;&amp; src[tmpi] == dest[tmpi]) { //ä¸ä¸ºè‡ªç”±çš„ &amp;&amp; ç›¸ç­‰å°±æ˜¯ä¸ç”¨æ–­å¼€çš„é“¾ ans -= 2; tmpi = src[tmpi]; } } } cout &lt;&lt; ans &lt;&lt; endl; return 0;}","categories":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://ret2libc-pwned.github.io/categories/%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"POI","slug":"POI","permalink":"https://ret2libc-pwned.github.io/tags/POI/"}]},{"title":"POI2010 - TESIntelligence Test","slug":"POI2010-TESIntelligence-Test","date":"2021-11-21T13:01:04.000Z","updated":"2022-05-03T11:12:24.000Z","comments":true,"path":"2021/11/21/POI2010-TESIntelligence-Test/","link":"","permalink":"https://ret2libc-pwned.github.io/2021/11/21/POI2010-TESIntelligence-Test/","excerpt":"","text":"12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std;const int N = 1e6;#define YES puts(\"TAK\")#define NO puts(\"NIE\");int len, tc;vector&lt;int&gt; nxt[N];//æ€è·¯ å¼€äºŒç»´vectorå­˜ä¸€å †æŒ‡é’ˆ nxt[x][y]å°±æ˜¯æ•°å­—xå‡ºç°çš„ç¬¬yæ¬¡çš„ä½ç½®.//vectoråŠ¨æ€å¼€å†…å­˜ ä¸ä¼šçˆ†ç©ºé—´.//äºŒåˆ†å»æ‰¾\"æ•°å­—kå‡ºç°ç¬¬xæ¬¡çš„ä½ç½®\", å®ç°\"å¿«é€Ÿè·³è½¬\".int bsearch(int num, int expected_pos) { int l = 0, r = nxt[num].size() - 1, res = len + 1; while(l &lt;= r) { int mid = (l + r) &gt;&gt; 1; if(nxt[num][mid] &gt; expected_pos) { r = mid - 1; res = mid; } else l = mid + 1; } //return nxt[num][res]; return (res == len + 1 ? res : nxt[num][res]);}int main() { ios_base::sync_with_stdio(false); cin.tie(0); cin &gt;&gt; len; for(int i = 1; i &lt;= len; i++) { int tmp; cin &gt;&gt; tmp; nxt[tmp].push_back(i); } cin &gt;&gt; tc; while(tc--) { int l, a[N]; cin &gt;&gt; l; bool flag = true; int pos = 0; for(int i = 1; i &lt;= l; i++) cin &gt;&gt; a[i]; for(int i = 1; i &lt;= l; i++) { pos = bsearch(a[i], pos); //fprintf(stderr, \"a[%d] = %d,\\tpos = %d\\n\", i, a[i], pos); if(pos &gt; len) { flag = 0; break; } } flag ? YES : NO; } return 0;}","categories":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://ret2libc-pwned.github.io/categories/%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"POI","slug":"POI","permalink":"https://ret2libc-pwned.github.io/tags/POI/"}]}],"categories":[{"name":"æ–‡åŒ–è¯¾","slug":"æ–‡åŒ–è¯¾","permalink":"https://ret2libc-pwned.github.io/categories/%E6%96%87%E5%8C%96%E8%AF%BE/"},{"name":"OIç¬”è®°","slug":"OIç¬”è®°","permalink":"https://ret2libc-pwned.github.io/categories/OI%E7%AC%94%E8%AE%B0/"},{"name":"éšè®°","slug":"éšè®°","permalink":"https://ret2libc-pwned.github.io/categories/%E9%9A%8F%E8%AE%B0/"},{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://ret2libc-pwned.github.io/categories/%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"è¯¾å†…æ•°å­¦","slug":"è¯¾å†…æ•°å­¦","permalink":"https://ret2libc-pwned.github.io/tags/%E8%AF%BE%E5%86%85%E6%95%B0%E5%AD%A6/"},{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"https://ret2libc-pwned.github.io/tags/%E6%95%B0%E5%AD%A6/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://ret2libc-pwned.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"name":"å›¾è®º","slug":"å›¾è®º","permalink":"https://ret2libc-pwned.github.io/tags/%E5%9B%BE%E8%AE%BA/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://ret2libc-pwned.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"æŠ€å·§","slug":"æŠ€å·§","permalink":"https://ret2libc-pwned.github.io/tags/%E6%8A%80%E5%B7%A7/"},{"name":"æœç´¢","slug":"æœç´¢","permalink":"https://ret2libc-pwned.github.io/tags/%E6%90%9C%E7%B4%A2/"},{"name":"æœ€çŸ­è·¯","slug":"æœ€çŸ­è·¯","permalink":"https://ret2libc-pwned.github.io/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"},{"name":"DPä¼˜åŒ–","slug":"DPä¼˜åŒ–","permalink":"https://ret2libc-pwned.github.io/tags/DP%E4%BC%98%E5%8C%96/"},{"name":"å¹³è¡¡æ ‘","slug":"å¹³è¡¡æ ‘","permalink":"https://ret2libc-pwned.github.io/tags/%E5%B9%B3%E8%A1%A1%E6%A0%91/"},{"name":"åŸºç¡€ç®—æ³•","slug":"åŸºç¡€ç®—æ³•","permalink":"https://ret2libc-pwned.github.io/tags/%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/"},{"name":"POI","slug":"POI","permalink":"https://ret2libc-pwned.github.io/tags/POI/"}]}