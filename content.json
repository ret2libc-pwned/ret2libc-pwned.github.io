{"meta":{"title":"Ret2Libc","subtitle":"çœŸæ­£çš„å‹‡å£«æ•¢äºç›´é¢æƒ¨æ·¡çš„äººç”Ÿï¼Œæ•¢äºæ­£è§†æ·‹æ¼“çš„é²œè¡€ã€‚ --é²è¿…","description":"","author":"ret2libc","url":"https://ret2libc-pwned.github.io","root":"/"},"pages":[{"title":"tags","date":"2021-10-16T12:54:16.000Z","updated":"2021-10-16T13:10:07.521Z","comments":false,"path":"categories/index.html","permalink":"https://ret2libc-pwned.github.io/categories/index.html","excerpt":"","text":""},{"title":"å…³äºæˆ‘","date":"2021-10-16T14:14:36.000Z","updated":"2021-10-17T10:44:28.724Z","comments":false,"path":"about/index.html","permalink":"https://ret2libc-pwned.github.io/about/index.html","excerpt":"","text":"è‡ªæˆ‘ä»‹ç» ä½ å¥½, æˆ‘æ˜¯Ret2libc, æ­£åœ¨é›¶åŸºç¡€å…¥é—¨ç®—æ³•! æœ¬ç½‘ç«™ä¸»è¦æ˜¯è‡ªå·±çš„ä¸€ç‚¹ç¬”è®°å’Œå¿ƒå¾—, å¦‚æœä½ æ°å¥½æ‰¾åˆ°äº†è¿™é‡Œ, æˆ‘å¾ˆå¸Œæœ›å®ƒä»¬èƒ½å¸®åŠ©åˆ°ä½ ! è”ç³»æ–¹å¼ QQ 2184016258, æ¬¢è¿å’Œæˆ‘äº¤æœ‹å‹, æˆ–è€…æ•™æ•™æˆ‘æ€ä¹ˆé›¶åŸºç¡€å…¥é—¨ç®—æ³•! è‡³äºæ´›è°·, pojä¹‹ç±»çš„. å› ä¸ºæˆ‘å¤ªèœäº†, æ²¡è¿‡å‡ é¢˜, ä¸å¥½æ„æ€æ”¾. ç­‰æˆ‘acçš„å¤šä¸€ç‚¹å†æ”¾å§. ä¸ºä»€ä¹ˆå«Ret2libc? ä¸»è¦æ˜¯ä¹‹å‰æˆ‘å¯¹å®‰å…¨æ¯”è¾ƒæ„Ÿå…´è¶£(å®‰å…¨è¿™æ–¹é¢ä¹Ÿå¾ˆèœ), å°¤å…¶æ˜¯pwn. ret2libcæ˜¯ä¸€ä¸ªæ ˆæº¢å‡ºåˆ©ç”¨æ–¹æ³•. å–è¿™ä¸ªåå­—ä¸»è¦æ˜¯ä¸æƒ³è®©åˆ«äººæ‰¾åˆ°æˆ‘(ä¸»è¦æ˜¯OIeræ²¡å‡ ä¸ªçŸ¥é“è¿™ä¸ªè¯......). è¿™ä¸ªç½‘ç«™ä¼šç•™å¤šä¹…? æ­è¿™ä¸ªç½‘ç«™ä¸»è¦æ˜¯ä¸ºäº†åœ¨æœºæˆ¿èƒ½çœ‹åˆ°è‡ªå·±çš„ç¬”è®°, æ‰€ä»¥ä¼šç•™æ¯”è¾ƒä¹…. å€¼å¾—ä¸€æçš„æ˜¯å¦‚æœgithub pagesç”±äºå„ç§åŸå› è®¿é—®ä¸ä¸Š, å¯ä»¥å»è¿™ä¸ªç½‘ç«™çš„é¦™æ¸¯è…¾è®¯äº‘é•œåƒ."},{"title":"tags","date":"2021-10-16T13:18:16.000Z","updated":"2021-10-17T03:36:02.847Z","comments":false,"path":"tags/index.html","permalink":"https://ret2libc-pwned.github.io/tags/index.html","excerpt":"","text":""},{"title":"ç•™è¨€æ¿","date":"2021-10-16T12:17:58.000Z","updated":"2021-10-16T13:25:50.508Z","comments":true,"path":"conmment/index.html","permalink":"https://ret2libc-pwned.github.io/conmment/index.html","excerpt":"","text":"æœ‰ä»€ä¹ˆæƒ³è¯´çš„? æœ‰ä»€ä¹ˆæƒ³é—®çš„?"}],"posts":[{"title":"Splay","slug":"Splay","date":"2022-03-12T13:39:05.000Z","updated":"2022-03-19T13:01:04.462Z","comments":true,"path":"2022/03/12/Splay/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/03/12/Splay/","excerpt":"","text":"Splay å®šä¹‰ Splayæ˜¯ä¸€ç§BST, å°†è®¿é—®è¿‡çš„ç»“ç‚¹ä¸æ–­æ—‹è½¬åˆ°æ ¹ç»“ç‚¹, åœ¨æ»¡è¶³BSTæ€§è´¨çš„åŒæ—¶ä¿è¯å…¶\"å¹³è¡¡\", åŸºäºæ—¶é—´ã€ç©ºé—´å±€éƒ¨æ€§åŸç†ä¼˜åŒ–æŸ¥æ‰¾æ€§èƒ½(è¿™æ ·æ“ä½œä½¿å¾—é«˜é¢‘è®¿é—®çš„ç»“ç‚¹åœ¨ç»å¸¸æ ¹ç»“ç‚¹é™„è¿‘). æœ¬æ–‡çš„BSTæ¯ä¸€ä¸ªç»“ç‚¹åªç»´æŠ¤å•ä¸ªå€¼(è€Œéé”®å€¼å¯¹), ä¸‹é¢è¯´æ³•ä¸­vã€valã€keyéƒ½æŒ‡è¿™ä¸ªå€¼, BSTæ€§è´¨çš„ç»´æŠ¤å®ƒä»¬çš„å¤§å°å…³ç³»åšä¾æ®. BSTæ€§è´¨ å·¦å­æ ‘ä»»æ„ç»“ç‚¹çš„key\\(\\lt\\)æ ¹ç»“ç‚¹key\\(\\lt\\)å³å­æ ‘ä»»æ„ç»“ç‚¹key, å³ä¸­åºéå†å•è°ƒé€’å¢. å¸¸è§çš„BSTæœ‰Treapã€Splayã€AVLç­‰. ç»“ç‚¹ç»“æ„ å¼€ç»“æ„ä½“æ•°ç»„è®°å½•ä¸¤ä¸ªå­ç»“ç‚¹åŠçˆ¶ç»“ç‚¹çš„æ•°ç»„ä¸‹æ ‡, ç±»ä¼¼äºä¸€ä¸ªé“¾è¡¨(å®é™…ä¸Šå¾ˆå¤šæ ‘çŠ¶æ•°æ®ç»“æ„éƒ½æ˜¯æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨). ç»“ç‚¹åŒæ—¶å­˜å‚¨ç»´æŠ¤çš„ä¿¡æ¯. 12345678910111213141516const int SIZE = 1e5;struct Node { //ä¸¤ä¸ªå­ç»“ç‚¹åŠçˆ¶ç»“ç‚¹æ•°ç»„ä¸‹æ ‡, val int s[2], p, v; //å»¶è¿Ÿæ ‡è®°åŠå­æ ‘å¤§å° int dat, size; //åˆå§‹åŒ–å½“å‰ç»“ç‚¹ void init(int _v, int _p) { v = _v, p = _p; size = 1; }};//AllocateNode tr[SIZE]; å…¶ä¸­è§„å®šs[0]ä¸ºå·¦å­ç»“ç‚¹, s[1]ä¸ºå³å­ç»“ç‚¹, å³: (åç»­ä»£ç å‡æœªä½¿ç”¨å¦‚ä¸‹define, åªæ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£) 1234#define ls s[0]#define rs s[1]#define son s[k]#define son_bro s[k ^ 1] //son's brother å•æ—‹æ“ä½œ(rotate) æ—‹è½¬éœ€è¦ä¿è¯BSTæ€§è´¨; æ ¹ç»“ç‚¹å˜é‡, å³rootéœ€è¦æ›´æ–°; ç»“ç‚¹ç»´æŠ¤çš„ä¿¡æ¯(å¦‚å»¶è¿Ÿæ ‡è®°)éœ€è¦æ›´æ–°. æ—‹è½¬æ”¹å˜äº†æ˜¯æ ‘çš„å½¢æ€, æœ¬è´¨æ˜¯æ”¹å˜çˆ¶å­å…³ç³». Splayå•æ—‹ å³æ—‹, å³\\(\\operatorname{Zig}(x)\\)æ“ä½œ é¡¾åæ€ä¹‰å°±æ˜¯å°†\\(x\\)çš„å·¦å­æ ‘ç»•ç€\\(x\\)çš„çˆ¶ç»“ç‚¹\\(y\\)å‘å³æ—‹è½¬. éœ€è¦æ³¨æ„çš„æ˜¯\\(x \\lt x_r \\lt y\\), æ•…\\(x_r\\)åº”è¯¥è½¬åˆ°\\(y_r\\)å·¦å­æ ‘çš„ä½ç½®. è¿™æ ·çš„æ“ä½œé€šè¿‡æ”¹å˜\\(y\\)ä¸\\(x_r\\)ã€\\(\\operatorname{fa}(y)\\)ä¸\\(x\\)ã€\\(x\\)ä¸\\(y\\)çš„çˆ¶å­å…³ç³»è¾¾åˆ°. å·¦æ—‹, å³\\(\\operatorname{Zag}(x)\\)æ“ä½œ åŒç†, \\(x\\)çš„å³å­æ ‘ç»•ç€\\(y\\)å‘å·¦æ—‹è½¬, \\(x_l\\)æ¥åœ¨\\(y\\)å³å­æ ‘ä½ç½®. å³éœ€è¦æ”¹å˜\\(y\\)ä¸\\(x_l\\)ã€\\(\\operatorname{fa}(y)\\)ä¸\\(x\\)ã€\\(x\\)ä¸\\(y\\)çš„çˆ¶å­å…³ç³». æ—‹è½¬ç»“ç‚¹, å³\\(\\operatorname{rotate}(x)\\)æ“ä½œ ä¸Šè¿°æ“ä½œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ“ä½œ\\(\\operatorname{rotate}(x)\\)æ¥å®Œæˆ, å³å®ç°\"è‡ªåŠ¨åˆ¤å®šå·¦å³\"çš„å•æ—‹æ“ä½œ. \\(x\\)æ˜¯\\(y\\)çš„å·¦å­æ ‘å°±å³æ—‹, å³å­æ ‘åä¹‹. è¯¥æ“ä½œçš„ç²¾é«“å°±æ˜¯åˆ¤å®š\\(x\\)æ˜¯\\(y\\)çš„å·¦ç»“ç‚¹è¿˜æ˜¯å³ç»“ç‚¹. å‰é¢è¯´è¿‡, \"æ—‹è½¬\"çš„æœ¬è´¨æ˜¯\"æ”¹å˜çˆ¶å­å…³ç³»\". æ¯ä¸ªç»“ç‚¹ç»´æŠ¤äº†å¥¹çš„å·¦å³å­æ ‘å’Œçˆ¶ç»“ç‚¹, æ‰€ä»¥è¯¥è¿‡ç¨‹éœ€è¦\"äº’è®¤\"çˆ¶å­å…³ç³», å³éœ€è¦ä¿®æ”¹ä¸¤ä¸ªç»“ç‚¹çš„ä¿¡æ¯; åŒæ—¶å› ä¸ºæ ‘çš„å½¢æ€è¢«æ”¹å˜, éœ€è¦é‡æ–°ç»Ÿè®¡å»¶è¿Ÿæ ‡è®°ç»´æŒçš„ä¿¡æ¯(å¦‚å­æ ‘å¤§å°). 12345678void Rotate(int x) { int y = tr[x].p, z = tr[y].p; int k = (tr[y].s[1] == x); tr[z].s[tr[z].s[1] == y] = x, tr[x].p = z; tr[y].s[k] = tr[x].s[k ^ 1], tr[tr[x].s[k ^ 1]].p = y; tr[x].s[k ^ 1] = y, tr[y].p = x; //tr[x].s[k]çš„å«ä¹‰æ˜¯å–å¤„äºyxç›´çº¿ä¸Šçš„xçš„å„¿å­, k ^ 1æ˜¯å–å¥¹çš„å…„å¼Ÿ Pushup(y), Pushup(x);} è¯´äººè¯å°±æ˜¯: \\(k\\)çš„è·å–: 123456inline int k(int x, int y) { /* *@description è¿”å›xæ˜¯yçš„å“ªä¸ªå„¿å­, å·¦0å³1. */ return (tr[y].s[1] == x);} rotateä¼ªä»£ç : 123456/* yæ˜¯xçš„çˆ¸çˆ¸, zæ˜¯xçš„çˆ·çˆ·; *//* ä»¥ä¸‹æ¯ä¸€æ­¥éƒ½éœ€è¦ä¿®æ”¹ä¸¤ä¸ªç»“ç‚¹çš„å€¼, å³äº’è®¤å…³ç³» */ç”¨zå–åˆ°y, å°†xè½¬åˆ°yçš„ä½ç½®ä¸Š, å¹¶ä¸zäº’è®¤; /* ä»¥ä¸‹ä¸¤éƒ¨å‡éœ€æ“ä½œç»“ç‚¹ä¸å…¶çˆ¶ç»“ç‚¹\"äº’è®¤\"è¿‡ç¨‹, ä¸å†èµ˜è¿° */x(æ­¤æ—¶åœ¨yçš„ä½ç½®ä¸Š)çš„å…„å¼Ÿè½¬åˆ°åŸå…ˆx(å³tr[y].s[k])çš„ä½ç½®ä¸Š;è®©yè½¬åˆ°åŸå…ˆxçš„å…„å¼Ÿçš„ä½ç½®;åˆ†åˆ«æ›´æ–°y, xå­æ ‘ç»´æŠ¤çš„ä¿¡æ¯; åŒæ—‹æ“ä½œ(splay) é€šè¿‡ä¸€æˆ–ä¸¤æ¬¡rotate, å¯ä»¥è°ƒæ•´BSTçš„å½¢æ€, ä½¿å…¶æ›´å¹³è¡¡. é€šè¿‡è¿‡ç¨‹\\(\\operatorname{splay}(x, goal)\\)å°†ç»“ç‚¹\\(x\\)è½¬åˆ°\\(goal\\)çš„å­ç»“ç‚¹. è§„å®š\\(y\\)æ˜¯\\(x\\)çˆ¶ç»“ç‚¹, \\(z\\)æ˜¯\\(y\\)çˆ¶ç»“ç‚¹, splayåˆ†å…­ç§(3 * 2)æƒ…å†µè®¨è®º. å½“\\(\\operatorname{fa}(x) = \\operatorname{Root}\\)æ—¶, æ—‹è½¬ä¸€æ¬¡\\(x\\)(å³æˆ–å·¦), å³Zigæˆ–Zag; å½“\\(\\operatorname{fa}(x) \\ne \\operatorname{Root}\\)ä¸”\\(z, y, x\\)åœ¨ä¸€æ¡ç›´çº¿ä¸Š, æ—‹è½¬ä¸€æ¬¡\\(y\\), å†åŒæ–¹å‘æ—‹è½¬ä¸€æ¬¡\\(x\\), å³Zig-Zigæˆ–Zag-Zag; å½“\\(\\operatorname{fa}(x) \\ne \\operatorname{Root}\\)ä¸”\\(z, y, x\\)å½¢çŠ¶æ˜¯åœ¨ä¸€æ¡ç›´çº¿çš„ä¸­é—´æŠ˜äº†ä¸€ä¸‹, åˆ†åˆ«å¯¹\\(x\\)æ‰§è¡Œä¸¤æ¬¡ä¸åŒæ–¹å‘çš„æ—‹è½¬, å³Zig-Zagæˆ–Zag-Zig. ç”»å›¾ç†è§£å³å¯. ä½¿ç”¨rotateå°±æ˜¯: æŠ˜çº¿2x ç›´çº¿yx éœ€è¦æ³¨æ„çš„æ˜¯è¯¥æ“ä½œæ˜¯å°†\\(x\\)è½¬åˆ°\\(goal\\)ä¸‹é¢, æ•…å½“\\(x\\)ä¸\\(goal\\)ä¸ºå…·æœ‰çˆ¶å­å…³ç³»çš„ä¸¤ä¸ªç»“ç‚¹æ—¶ (å³ç¬¬1ã€2ç§æƒ…å†µ)ä¸éœ€è¦æ“ä½œ(å³ä¸éœ€è¦äº¤æ¢å®ƒä»¬). 123456789101112void Splay(int x, int goal) { //æŠŠxè½¬åˆ°goalä¸‹é¢ while(tr[x].p != goal) { int y = tr[x].p, z = tr[y].p; if(z != goal) { if((tr[z].s[1] == y) ^ (tr[y].s[1] == x)) Rotate(x); //æŠ˜çº¿å…ˆè½¬xå†è½¬x else Rotate(y); //ç›´çº¿å…ˆè½¬y } Rotate(x); //ç»Ÿä¸€è½¬x } if(goal == 0) Root = x; //æ›´æ–°æ ¹ç»“ç‚¹(0ä¸ºæ ¹ç»“ç‚¹ä¸‹æ ‡)} æ’å…¥æ“ä½œ(insert) è¿‡ç¨‹\\(\\operatorname{insert}(val)\\)å°†\\(val\\)æ’å…¥BSTçš„ç›¸åº”ä½ç½®\\(x\\), å°†æ’å…¥çš„æ•°è½¬åˆ°æ ¹ç»“ç‚¹, å³æ‰§è¡Œ\\(\\operatorname{splay}(x, 0)\\). æ’å…¥æ—¶éœ€è¦ç»´æŠ¤BSTæ€§è´¨, å°†æ’å…¥çš„è¿™ä¸ªæ•°ä¸å½“å‰èŠ‚ç‚¹æ¯”è¾ƒ, \"å°æ’å·¦, å¤§æ’å³\". 12345678910111213void Insert(int v) { /* * @param v è¦æ’å…¥å€¼çš„val. */ int u = Root, p = 0; //ä»æ ¹ç»“ç‚¹å¼€å§‹, uä¸ºå½“å‰èŠ‚ç‚¹æ•°ç»„ä¸‹æ ‡, pä¸ºå¥¹çš„çˆ¸çˆ¸ä¸‹æ ‡ while(u) { p = u, u = tr[u].s[v &gt; tr[u].v]; //å°å·¦å¤§å³åœ°æ’ä¸‹å», æ–¹æ‹¬å·é‡Œçš„æ˜¯åˆ¤å®šå·¦å³ } u = ++idx; //ç»“ç‚¹åˆå¤šäº†ä¸€ä¸ª, idx += 1; if(p) tr[p].s[v &gt; tr[p].v] = u; //å°†pçš„å„¿å­uæ’å…¥é€‚å½“ä½ç½® tr[u].init(v, p); //ç»™è¿™ä¸ªç‚¹åˆå§‹åŒ–çˆ¸çˆ¸ä¸‹æ ‡å’Œè‡ªèº«value, å¹¶å°†å¤§å°è®¾ä¸º1 splay(u, 0); //è½¬åˆ°æ ¹ç»“ç‚¹} æŸ¥è¯¢æŒ‡å®šæ•°çš„æ’å(getRank) ä¸ä¼šğŸ˜„. æŸ¥è¯¢ç¬¬\\(k\\)å°çš„æ•°(getValByRank) \\(\\operatorname{getValByRank}(rank)\\)æ“ä½œåˆ†ä¸‰ç§æƒ…å†µè®¨è®º: \\[ ç»“ç‚¹ä½äº:\\, \\begin{cases} 1. æ‰€æ±‚ç»“ç‚¹ä½äºå·¦å­æ ‘, å·¦å­æ ‘ç»“ç‚¹ä¸ªæ•°\\ge rank;\\\\ 2. æ‰€æ±‚ç»“ç‚¹ä¸ºä¸­åºéå†ç¬¬kä¸ªæ•°(å³å·¦å­æ ‘çš„çˆ¶ç»“ç‚¹), å·¦å­æ ‘ç»“ç‚¹ä¸ªæ•° = rank - 1;\\\\ 3. æ‰€æ±‚ç»“ç‚¹ä½äºå³å­æ ‘(rankéœ€è¦å‡å»å·¦å­æ ‘å¤§å°åŠ ä¸€çš„å’Œ), å·¦å­æ ‘ç»“ç‚¹ä¸ªæ•° \\lt rank - 1 \\end{cases} \\] 12345678910int getValByRank(int rk) { int u = Root; while(true) { Pushdown(u); if(tr[tr[u].s[0]] &gt;= rk) u = tr[u].s[0]; else if(tr[tr[u].s[0]] + 1 == rk) return u; else rk -= (tr[tr[u].s[0]] + 1), u = tr[u].s[1]; } return -1;} åˆ é™¤æ“ä½œ(delete) æ“ä½œ\\(\\operatorname{delete}(x)\\)ä»Splayä¸­åˆ é™¤valueä¸º\\(x\\)çš„ç»“ç‚¹. è¯¥æ“ä½œé¦–å…ˆå°†\\(x\\)è½¬åˆ°æ ¹ç»“ç‚¹, å†åˆå¹¶\\(x\\)çš„å·¦å³å­æ ‘. æŸ¥è¯¢å‰é©±/åç»§(getPrefix/getSuffix) \\(x\\)çš„å‰é©±: å°äº\\(x\\)çš„æœ€å¤§æ•°; \\(x\\)çš„åç»§: å¤§äº\\(x\\)çš„æœ€å°æ•°. \\(\\operatorname{getPrefix}(x)\\)æ“ä½œæŸ¥è¯¢\\(x\\)çš„å‰é©±, å¯ä»¥é€šè¿‡æ’å…¥\\(x\\)(æ’å…¥åä½äºæ ¹ç»“ç‚¹), æ­¤æ—¶\\(x\\)å·¦å­æ ‘ä¸­æœ€å³è¾¹çš„ç»“ç‚¹å³ä¸ºæ‰€æ±‚, æœ€ååˆ é™¤ç»“ç‚¹\\(x\\); \\(\\operatorname{getSuffix}(x)\\)æ“ä½œåä¹‹. ä¾‹é¢˜ æ–‡è‰ºå¹³è¡¡æ ‘(Luogu P3391) ç¿»è½¬ä¸€ä¸ªåŒºé—´ï¼Œä¾‹å¦‚åŸæœ‰åºåºåˆ—æ˜¯\\(\\{5, 4, 3, 2, 1\\}\\)ï¼Œç¿»è½¬åŒºé—´æ˜¯\\([2, 4]\\)çš„è¯ï¼Œç»“æœæ˜¯\\(\\{5, 2, 3, 4, 1\\}\\). åœ¨ç»“ç‚¹ä¸Šç»´æŠ¤å»¶è¿Ÿæ ‡è®°\\(flag\\)æ¥åˆ¤å®šç¿»è½¬çŠ¶æ€, é¿å…å¤šæ¬¡ç¿»è½¬é€ æˆæ€§èƒ½ä¸Šçš„æµªè´¹. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125//å¯¹é›¶åŸºç¡€å³ä¸ºå‹å¥½#include &lt;iostream&gt;const int N = 1e6;using namespace std;struct Node { int v, p, s[2], siz; bool flag; void init(int _v, int _p) { v = _v, p = _p; siz = 0; }};Node tr[N];int n, cas, Root, idx;/* * ä¸€äº›å®å®šä¹‰, ç”¨æ³•ç®€å•æ˜äº†, è·Ÿä¸€å¤§å †æ‚ä¹±æ— ç« çš„ä¸­æ‹¬å·è¯´å†è§!!! * ex. node(x).init(v, p) //åˆå§‹åŒ–ç»“ç‚¹xçš„å±æ€§v, p * siz(left(x)) //è·å–ç»“ç‚¹xçš„å·¦å­èŠ‚ç‚¹size * siz(node(x).ls) //å¦ä¸€ç§å†™æ³• */#define ls s[0]#define rs s[1]#define isRoot(x) (x == 0)#define BST_getPos(fa, val) tr[fa].s[(val) &gt; tr[(fa)].v] //åœ¨faç»“ç‚¹ä¸‹é¢æ ¹æ®BSTæ€§è´¨æ’å…¥ä¸€ä¸ªå€¼ä¸ºvalçš„ç»“ç‚¹, åˆ¤å®šç»“ç‚¹ä½ç½®(å³: è¦æ’åœ¨å“ªé‡Œ)#define node(x) tr[(x)] //å¯ä»¥ç†è§£ä¸ºxå·ç»“ç‚¹çš„å¯¹è±¡, æ–¹ä¾¿ä½¿ç”¨ls, rs#define left(x) tr[(x)].s[0]#define right(x) tr[(x)].s[1]#define val(x) tr[(x)].v#define siz(x) tr[(x)].siz#define flag(x) tr[(x)].flag#define pa(x) tr[(x)].p#define son(fa, x) tr[(fa)].s[(x)] //è·å–ç»“ç‚¹façš„å„¿å­, å‚æ•°xä¸ºå·¦å³, å·¦0å³1#define LoR(fa, x) (tr[(fa)].s[1] == (x)) //L or R, xæ˜¯façš„å“ªä¸ªå„¿å­void Pushup(int x) { siz(x) = siz(left(x)) + siz(right(x)) + 1;}void Pushdown(int x) { if(flag(x)) { swap(left(x), right(x)); flag(left(x)) ^= 1; flag(right(x)) ^= 1; flag(x) = 0; }}void Rotate(int x) { int y = pa(x), z = pa(y); int k = LoR(y, x); son(z, LoR(z, y)) = x, pa(x) = z; son(y, k) = son(x, k ^ 1), pa(son(x, k ^ 1)) = y; son(x, k ^ 1) = y, pa(y) = x; Pushup(y), Pushup(x);}void Splay(int x, int goal) { while(pa(x) != goal) { int y = pa(x), z = pa(y); if(z != goal) { if(LoR(z, y) ^ LoR(y, x)) { Rotate(x); } else { Rotate(y); } } Rotate(x); } if(isRoot(goal)) Root = x;}void Insert(int v) { int u = Root, p = 0; while(u) { p = u, u = BST_getPos(u, v); } u = ++idx; if(!isRoot(p)) { BST_getPos(p, v) = u; } node(u).init(v, p); Splay(u, 0);}int getValByRank(int rk) { int u = Root; while(true) { Pushdown(u); if(siz(left(u)) &gt;= rk) u = left(u); else if(siz(left(u)) == rk - 1) return u; else rk -= siz(left(u)) + 1, u = right(u); } return -1;}void Output(int x) { Pushdown(x); if(left(x)) Output(left(x)); if(val(x) &gt;= 1 &amp;&amp; val(x) &lt;= n) cout &lt;&lt; val(x) &lt;&lt; ' '; if(right(x)) Output(right(x)); }int main() { cin &gt;&gt; n &gt;&gt; cas; for(int i = 0; i &lt;= n + 1; ++i) { Insert(i); } while(cas--) { int l, r; cin &gt;&gt; l &gt;&gt; r; l = getValByRank(l), r = getValByRank(r + 2); Splay(l, 0), Splay(r, l); flag(left(r)) ^= 1; } Output(Root); puts(\"\"); return 0;}","categories":[],"tags":[{"name":"OI","slug":"OI","permalink":"https://ret2libc-pwned.github.io/tags/OI/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://ret2libc-pwned.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"å¹³è¡¡æ ‘","slug":"å¹³è¡¡æ ‘","permalink":"https://ret2libc-pwned.github.io/tags/%E5%B9%B3%E8%A1%A1%E6%A0%91/"},{"name":"BST","slug":"BST","permalink":"https://ret2libc-pwned.github.io/tags/BST/"}]},{"title":"äºŒåˆ†","slug":"äºŒåˆ†","date":"2022-02-20T12:53:53.000Z","updated":"2022-02-20T12:56:05.619Z","comments":true,"path":"2022/02/20/äºŒåˆ†/","link":"","permalink":"https://ret2libc-pwned.github.io/2022/02/20/%E4%BA%8C%E5%88%86/","excerpt":"","text":"äºŒåˆ† äºŒåˆ†æŸ¥æ‰¾ ç»™å®šä¸€ä¸ªåºåˆ—\\(\\{a\\}\\), æŸ¥æ‰¾æŒ‡å®šå…ƒç´ \\(x\\)ä½ç½®. ä»£ç å®ç° 12345678int bsearch(int* a, int x, int l, int r) { while(l &lt; r) { int mid = l + (r - l &gt;&gt; 1); if(a[mid] &gt;= x) r = mid; else l = mid + 1; } return a[l] == x ? l : -1;} äºŒåˆ†ç­”æ¡ˆ å•è°ƒåŒºé—´å†…é«˜æ•ˆåœ°æŸ¥æ‰¾æœ€ä¼˜ç­”æ¡ˆ, å¯ä»¥çœ‹ä½œ\"æšä¸¾\"çš„ä¼˜åŒ–. å¸¸ç”¨æ¥è§£å†³\"æœ€å¤§å€¼æœ€å°åŒ–\"é—®é¢˜. Luogu P1873 ç æ ‘ å¦‚æœæšä¸¾\\([1, 1\\times 10^9]\\)ä¼šè¶…æ—¶, ä½¿ç”¨äºŒåˆ†ç­”æ¡ˆ. 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;typedef long long LL;const int N = 1e6;using namespace std;int n;LL a[N], m;bool isValid(LL height) { LL got = 0; for(int i = 0; i &lt; n; ++i) { got += max(a[i] - height, 0ll); } return got &gt;= m;}int main() { cin &gt;&gt; n &gt;&gt; m; for(int i = 0; i &lt; n; ++i) { cin &gt;&gt; a[i]; } int l = 1, r = 1e9 + 1; //é—­åˆçš„åŒºé—´, 1e9éœ€è¦åŠ ä¸€ while(l + 1 &lt; r) { //l, rä¸èƒ½ç›¸é‚» int mid = l + (r - l &gt;&gt; 1); if(isValid(mid)) { l = mid; } else { r = mid; } } cout &lt;&lt; l &lt;&lt; endl; return 0;}","categories":[],"tags":[{"name":"OI","slug":"OI","permalink":"https://ret2libc-pwned.github.io/tags/OI/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://ret2libc-pwned.github.io/tags/%E7%AE%97%E6%B3%95/"}]},{"title":"FREE-Figurines","slug":"FREE-Figurines","date":"2021-12-04T14:18:52.000Z","updated":"2021-12-04T14:20:43.140Z","comments":true,"path":"2021/12/04/FREE-Figurines/","link":"","permalink":"https://ret2libc-pwned.github.io/2021/12/04/FREE-Figurines/","excerpt":"","text":"1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#include &lt;iostream&gt;const int N = 1e6;using namespace std;/*ä¸¤ç§æ“ä½œ: æ¥åœ¨åé¢ / åˆ é™¤æœ€å‰é¢.æœ€å·®æƒ…å†µ: \"é‡ç»„\", å³å…¨éƒ¨åˆ äº†å†æ‹¼èµ·æ¥. éœ€è¦2næ¬¡æ“ä½œ.ä¼˜åŒ–: å°¾å·´ä¸Šçš„èŠ‚ç‚¹ä¸éœ€è¦æ“ä½œ. å¯ä»¥ç»Ÿè®¡æœ‰å¤šå°‘ä¸ªè¿™ç§èŠ‚ç‚¹, å‡å»èŠ‚ç‚¹æ•° * 2å³å¯.*/int src[N], dest[N], len[N], n, ans;bool vis[N];inline void debug() { printf(\"ans = %d\\n\", ans);}int main() { cin &gt;&gt; n; /*é¢„å¤„ç†, ç»Ÿè®¡æœ€åæƒ…å†µans*/ for(int i = 1; i &lt;= n; i++) { cin &gt;&gt; src[i]; vis[src[i]] = true; if(src[i]) ans++; } for(int i = 1; i &lt;= n; i++) { cin &gt;&gt; dest[i]; vis[dest[i]] = true; if(dest[i]) ans++; } for(int i = 1; i &lt;= n; i++) { if(!vis[i]) { int tmpi = i; while(src[tmpi] * dest[tmpi] &amp;&amp; src[tmpi] == dest[tmpi]) { //ä¸ä¸ºè‡ªç”±çš„ &amp;&amp; ç›¸ç­‰å°±æ˜¯ä¸ç”¨æ–­å¼€çš„é“¾ ans -= 2; tmpi = src[tmpi]; } } } cout &lt;&lt; ans &lt;&lt; endl; return 0;}","categories":[],"tags":[{"name":"OI","slug":"OI","permalink":"https://ret2libc-pwned.github.io/tags/OI/"},{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://ret2libc-pwned.github.io/tags/%E9%A2%98%E8%A7%A3/"}]},{"title":"POI2010 - TESIntelligence Test","slug":"POI2010-TESIntelligence-Test","date":"2021-11-21T13:01:04.000Z","updated":"2021-11-21T13:02:47.638Z","comments":true,"path":"2021/11/21/POI2010-TESIntelligence-Test/","link":"","permalink":"https://ret2libc-pwned.github.io/2021/11/21/POI2010-TESIntelligence-Test/","excerpt":"","text":"12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std;const int N = 1e6;#define YES puts(\"TAK\")#define NO puts(\"NIE\");int len, tc;vector&lt;int&gt; nxt[N];//æ€è·¯ å¼€äºŒç»´vectorå­˜ä¸€å †æŒ‡é’ˆ nxt[x][y]å°±æ˜¯æ•°å­—xå‡ºç°çš„ç¬¬yæ¬¡çš„ä½ç½®.//vectoråŠ¨æ€å¼€å†…å­˜ ä¸ä¼šçˆ†ç©ºé—´.//äºŒåˆ†å»æ‰¾\"æ•°å­—kå‡ºç°ç¬¬xæ¬¡çš„ä½ç½®\", å®ç°\"å¿«é€Ÿè·³è½¬\".int bsearch(int num, int expected_pos) { int l = 0, r = nxt[num].size() - 1, res = len + 1; while(l &lt;= r) { int mid = (l + r) &gt;&gt; 1; if(nxt[num][mid] &gt; expected_pos) { r = mid - 1; res = mid; } else l = mid + 1; } //return nxt[num][res]; return (res == len + 1 ? res : nxt[num][res]);}int main() { ios_base::sync_with_stdio(false); cin.tie(0); cin &gt;&gt; len; for(int i = 1; i &lt;= len; i++) { int tmp; cin &gt;&gt; tmp; nxt[tmp].push_back(i); } cin &gt;&gt; tc; while(tc--) { int l, a[N]; cin &gt;&gt; l; bool flag = true; int pos = 0; for(int i = 1; i &lt;= l; i++) cin &gt;&gt; a[i]; for(int i = 1; i &lt;= l; i++) { pos = bsearch(a[i], pos); //fprintf(stderr, \"a[%d] = %d,\\tpos = %d\\n\", i, a[i], pos); if(pos &gt; len) { flag = 0; break; } } flag ? YES : NO; } return 0;}","categories":[],"tags":[{"name":"OI","slug":"OI","permalink":"https://ret2libc-pwned.github.io/tags/OI/"},{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://ret2libc-pwned.github.io/tags/%E9%A2%98%E8%A7%A3/"}]},{"title":"å¯å‘å¼åˆå¹¶","slug":"å¯å‘å¼åˆå¹¶","date":"2021-11-13T13:10:18.000Z","updated":"2021-11-13T14:49:27.835Z","comments":true,"path":"2021/11/13/å¯å‘å¼åˆå¹¶/","link":"","permalink":"https://ret2libc-pwned.github.io/2021/11/13/%E5%90%AF%E5%8F%91%E5%BC%8F%E5%90%88%E5%B9%B6/","excerpt":"","text":"æ¢¦å¹»å¸ƒä¸(HNOI-2009) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546/*å¯å‘å¼åˆå¹¶ï¼Œæ—¶é—´å¤æ‚åº¦åˆ†æï¼šè€ƒè™‘ç”¨è´¡çŒ®æ³•æ¥åˆ†æï¼Œæ¯æ¬¡åˆå¹¶åï¼Œé˜Ÿåˆ—é•¿åº¦ä¸€å®šå¤§äºç­‰äºåŸæ¥çŸ­çš„é•¿åº¦çš„ä¸¤å€ï¼Œè¿™æ ·ç›¸å½“äºæ¯æ¬¡åˆå¹¶éƒ½ä¼šè®©çŸ­çš„é•¿åº¦æ‰©å¤§ä¸€å€ä»¥ä¸Šï¼Œæœ€å¤šæ‰©å¤§ logN æ¬¡ï¼Œæ‰€ä»¥æ€»å¤æ‚åº¦O(NlogN)ï¼Œæ¯æ¬¡O(logN)ã€‚å¯¹äºè¿™é“é¢˜ç›®ï¼Œæˆ‘ä»¬å…ˆæ±‚å‡ºåŸåºåˆ—çš„ç­”æ¡ˆï¼Œå¯¹äºæ¯ä¸€ç§é¢œè‰²éƒ½ç”¨ç±»ä¼¼é“¾è¡¨çš„æ•°æ®ç»“æ„ä¸²èµ·æ¥ï¼Œå¹¶è®°å½•ä¸‹å°¾èŠ‚ç‚¹ã€‚æ¯æ¬¡ä¿®æ”¹ï¼Œéƒ½æ ¹æ®å¯å‘å¼åˆå¹¶çš„æ–¹æ³•æ¥æš´åŠ›åˆå¹¶ï¼Œç„¶åå¤„ç†ä¸€ä¸‹æ­¤æ¬¡åˆå¹¶å¯¹ç­”æ¡ˆçš„å½±å“ï¼ˆæ˜¾ç„¶ç­”æ¡ˆæ˜¯ä¸å¢çš„ï¼‰ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æŠŠ 1 æŸ“æˆ 2 å¹¶ä¸” hsh[1]&gt;hsh[2]ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æŠŠ 2 æ¥åˆ° 1 çš„åé¢ã€‚è¿™æ ·ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼šæœ¬æ¬¡ä¿®æ”¹åè¿™ä¸ªé“¾çš„é¢œè‰²æ˜¯ 1ï¼ˆé¢œè‰²ä¸º 2 çš„é“¾è¢«åˆ é™¤äº†ï¼‰ï¼Œå¦‚æœæ¥ä¸‹æ¥ä¿®æ”¹é¢œè‰² 2ï¼ˆæ˜¾ç„¶è¿™æ˜¯åˆæ³•çš„ï¼‰ï¼Œä¼šä½¿å¾—æ‰¾ä¸åˆ°é¢œè‰² 2 è€Œåªèƒ½æ‰¾åˆ°é¢œè‰² 1 äº†ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ª f æ•°ç»„ï¼Œè¡¨ç¤ºå½“æˆ‘ä»¬è¦å¯»æ‰¾é¢œè‰² x æ—¶ï¼Œå®é™…ä¸Šéœ€è¦å¯»æ‰¾é¢œè‰²ä¸º color[x] çš„é“¾ã€‚å¦‚æœé‡åˆ°ä¸Šé¢è¿™ç§æƒ…å†µå°±è¦äº¤æ¢äº¤æ¢ color[x] å’Œ color[y]*/ #include&lt;bits/stdc++.h&gt;using namespace std;const int maxn=100005,maxm=1000005;int n,m,c[maxn],hsh[maxm],sta[maxm],color[maxm],pos[maxm],nxt[maxn],ans;int read(){ int ret=0,f=1;char ch=getchar(); while (!isdigit(ch)){if (ch=='-')f=-f;ch=getchar();} while (isdigit(ch)) ret=(ret&lt;&lt;3)+(ret&lt;&lt;1)+ch-'0',ch=getchar(); return ret*f;}void merge(int x,int y) { for (int i=pos[x];i;i=nxt[i]) ans-=(c[i-1]==y)+(c[i+1]==y);//åˆå¹¶æ—¶éœ€è¦æ³¨æ„ç»†èŠ‚ y x y for (int i=pos[x];i;i=nxt[i]) c[i]=y;//æŠŠåŸæœ‰çš„xç»Ÿç»Ÿå˜æˆy nxt[sta[x]]=pos[y],pos[y]=pos[x],hsh[y]+=hsh[x];//å®è´¨å°±æ˜¯å†ä¸é‡æ–°å»ºç«‹å…³ç³»çš„åŒæ—¶ï¼Œä¾æ—§åˆ©ç”¨å·²æœ‰çš„å…³è”å…³ç³»ã€‚æ¢ä¸€ä¸ªè§£é‡Šå°±æ˜¯ä¸‹æ¬¡å¤„ç†é¢œè‰²yæ—¶ pos[x]=sta[x]=hsh[x]=0; //å…ˆæŠŠåŸæœ‰çš„xå¤„ç†æ‰(åˆšåˆšæ”¹å˜æˆçš„yçš„x)ï¼Œç„¶åå†æ¥è§£å†³åŸæœ‰çš„yï¼Œç­‰ä»·äºæŠŠxæ¥åˆ°yçš„å±è‚¡åé¢ //æœ€åæŠŠxåŸæœ‰çš„ä¸éœ€è¦çš„å…³è”å…³ç³»å¹²æ‰ }int main(){ n=read(),m=read(); for (int i=1;i&lt;=n;i++){ c[i]=read(),color[c[i]]=c[i]; ans+=c[i]!=c[i-1]; //ç»Ÿè®¡æ®µæ•° if (!pos[c[i]]) sta[c[i]]=i; hsh[c[i]]++,nxt[i]=pos[c[i]],pos[c[i]]=i; } while (m--){ int opt=read(); if (opt==2) printf(\"%d\\n\",ans);else{ int x=read(),y=read(); if (x==y) continue; if (hsh[color[x]]&gt;hsh[color[y]]) swap(color[x],color[y]); if (!hsh[color[x]]) continue; merge(color[x],color[y]); } } return 0;} 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778#include &lt;iostream&gt;const int N = 1e6;using namespace std;int nxt[N], pos[N], raw[N], a[N], last[N], color[N], cnt[N];int n, m, ans;//int marge(int, int);//çœ‹stdçœ‹ä¸æ‡‚, æ€»ç»“å‡ºä¸€ä¸ªå°æŠ€å·§//åµŒå¥—çš„æ•°ç»„ä¸€ä¸ªä¸ªæ¨¡æ‹Ÿå¤ªéš¾, å¯ä»¥ç”¨ä¸€ä¸‹OOPçš„æ€æƒ³æ–¹ä¾¿ç†è§£//å°±æ¯”å¦‚æ¡¶æ’çš„æ—¶å€™æŠŠcnt[a[i]]ç†è§£ä¸ºa[i].cntå°±èˆ’æœå¾ˆå¤š//é˜…è¯»è¿™ä¸ªä»£ç æ—¶éœ€è¦ç»å¸¸è¿™æ ·æ€è€ƒ. ä¾‹å¦‚color[raw[i]]å¯ä»¥ç†è§£ä¸ºraw[i].color, æŠŠåŒ…åœ¨ä¸­æ‹¬å·é‡Œè¾¹çš„ä¸œè¥¿çœ‹æˆobjectå°±å¥½inline int read() { int x = 0, w = 1; //xæ˜¯æ•°å­—, wæ˜¯ç¬¦å·ä½ char ch = 0; while (ch &lt; '0' || ch &gt; '9') { //!isdigit(ch) if (ch == '-') w = -1; ch = getchar(); } while (ch &gt;= '0' &amp;&amp; ch &lt;= '9') { //isdigit(ch) x = x * 10 + (ch - '0'); ch = getchar(); } return x * w;}//Example://int n = read();inline int marge(int x, int y) { //æŠŠæ‰€æœ‰xå˜æˆy, å°ä¼˜åŒ–è§mainå‡½æ•°è°ƒç”¨çš„margeåœ°æ–¹ //ä¸‹é¢è¿™å‡ è¡Œ, é“¾è¡¨çš„éå†, æ¯”è¾ƒéš¾æ‡‚. //æ³¨æ„åˆ°ç­”æ¡ˆåº”è¯¥æ˜¯åªå‡ä¸å¢çš„, å› ä¸ºä¿®æ”¹çš„æœ¬è´¨æ˜¯\"åˆå¹¶\", \"æ®µæ•°\"è¶Šåˆå¹¶è¶Šå°‘. è¿™ä¹Ÿæ˜¯è¿™é¢˜æœ€éš¾æƒ³çš„åœ°æ–¹, ä¸æ˜¯ä¸€ä¸ªä¸ªä¿®æ”¹å†ç»Ÿè®¡æ®µæ•°, æ˜¯ç”¨é“¾è¡¨å­˜å‚¨åå†æ¨¡æ‹Ÿ\"åˆå¹¶\"æ›´æ–°ç­”æ¡ˆ. //è¿™ä¸ªåŠ æ³•ç”¨å¾—å¾ˆå¥½, å› ä¸ºè·Ÿå‰é¢çš„ä¸€æ ·æ„å‘³ç€å°‘äº†ä¸€æ®µ è·Ÿåé¢çš„ä¸ä¸€æ ·æ„å‘³ç€æœ‰å°‘äº†ä¸€æ®µ for(int i = pos[x]; i; i = nxt[i]) ans -= (raw[i - 1] == y) + (raw[i + 1] == y); //æ›´æ–°ç­”æ¡ˆ //æ¨¡æ‹Ÿ\"åˆå¹¶\"çš„æ“ä½œ for(int i = pos[x]; i; i = nxt[i]) raw[i] = y; //ä¿®æ”¹x ---&gt; y nxt[last[x]] = pos[y]; //æ›´æ–°å°¾èŠ‚ç‚¹, å³æ¯æ®µæœ€åä¸€ä¸ª pos[y] = pos[x]; //æ›´æ–°ä½ç½® cnt[y] += cnt[x]; //åŠ ä¸Šä¸ªæ•° pos[x] = last[x] = cnt[x] = 0; //åˆå¹¶å®Œä¹‹åxæ²¡äº†}int main() { //ios_base::sync_with_stdio(false); cin.tie(0); //cin &gt;&gt; n &gt;&gt; m; n = read(); m = read(); for(int i = 1; i &lt;= n; i ++) { //cin &gt;&gt; raw[i]; raw[i] = read(); color[raw[i]] = raw[i]; //color[x]ç»Ÿè®¡ç¬¬xä¸ªé¢œè‰² ans += (raw[i] != raw[i - 1]); //é¢„å¤„ç†ä¸€ä¸‹\"æ®µæ•°\", è¿™ä¸ªæ–¹æ³•å¾ˆå·§å¦™, è¯»å…¥çš„æ—¶å€™åªè¦è·Ÿå‰é¢çš„ä¸ä¸€æ ·å°±è¡¨ç¤ºåˆæœ‰ä¸€æ®µ cnt[raw[i]] ++; //cntå°±æ˜¯æ¡¶, å³è®¡æ•°æ•°ç»„ if(!pos[i]) last[i] = raw[i]; //æ¯ç§å¸ƒä¸æœ€åä¸€ä¸ªçš„ä½ç½® nxt[i] = pos[raw[i]]; pos[raw[i]] = i; } while(m --) { int op1, op2, op3; //cin &gt;&gt; op1; op1 = read(); if(op1 == 1) { //cin &gt;&gt; op2 &gt;&gt; op3; op2 = read(); op3 = read(); if(cnt[color[op1]] &gt; cnt[color[op2]]) swap(color[op1], color[op2]); //å°ä¼˜åŒ–, æŠŠxå˜æˆyå’ŒæŠŠyå˜æˆx, ä¹‹åçš„ç­”æ¡ˆæ˜¯ä¸å—å½±å“çš„, æ‰€ä»¥æ”¹æ“ä½œæ¬¡æ•°å°‘çš„. if(op2 == op3 || !cnt[color[op2]]) continue; //stdè€ƒè™‘å¾—å¾ˆå‘¨å…¨, èˆå»ä¿®æ”¹æ²¡æœ‰çš„å…ƒç´ å’Œ\"ä¿®æ”¹ä¸ªå¯‚å¯\", é˜²æ­¢è¢«å¡. marge(op2, op3); } else { cout &lt;&lt; ans &lt;&lt; endl; } } return 0;}","categories":[],"tags":[{"name":"OI","slug":"OI","permalink":"https://ret2libc-pwned.github.io/tags/OI/"},{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://ret2libc-pwned.github.io/tags/%E9%A2%98%E8%A7%A3/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://ret2libc-pwned.github.io/tags/%E7%AE%97%E6%B3%95/"}]},{"title":"CSP-J 2021èµ›åæ€»ç»“","slug":"CSP-J-2021èµ›åæ€»ç»“","date":"2021-11-13T10:55:53.000Z","updated":"2021-11-13T13:05:59.535Z","comments":true,"path":"2021/11/13/CSP-J-2021èµ›åæ€»ç»“/","link":"","permalink":"https://ret2libc-pwned.github.io/2021/11/13/CSP-J-2021%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/","excerpt":"","text":"Solution T1 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;using namespace std;#define INF 0x3f3f3f3f#define int long longint l, r, n;inline int brute(int n ,int l, int r) { //bf: æš´åŠ›æšä¸¾k \\in [l, r], 90 pts int ans = -INF; for(int i = l; i &lt;= r; i ++) { ans = max(ans, i % n); } return ans;}inline int ac(int n, int l, int r) { //å…ˆè¦æ˜ç™½ä½™æ•°æ˜¯å¾ªç¯å‡ºç°çš„ //L mod n = l, R mod n = r //åˆ™ä½™æ•°æ˜¯{l, l + 1, l + 2, ..., l + n - 1, ..., 0, 1, 2, ..., n - 1, ..., r} int ans; if(l / n == r / n) ans = r % n; //[l, r]åŒºé—´æ¯”nå° --&gt; æ•°è¶Šå¤§ ä½™æ•°è¶Šå¤§ å› ä¸ºæ²¡æœ‰åˆ°n - 1çš„ else ans = n - 1; //l / n == r / n --&gt; [l, r]åŒºé—´æ¯”nå¤§ --&gt; è‚¯å®šæœ‰èƒ½å–åˆ°n - 1çš„æ•°, å³æœ€å¤§k. return ans;}signed main() { ios_base::sync_with_stdio(false); cin.tie(0); cin &gt;&gt; n &gt;&gt; l &gt;&gt; r; //cout &lt;&lt; brute(n, l, r) &lt;&lt; endl; cout &lt;&lt; ac(n, l, r) &lt;&lt; endl; return 0;} T2 T3 T4","categories":[],"tags":[{"name":"OI","slug":"OI","permalink":"https://ret2libc-pwned.github.io/tags/OI/"},{"name":"èµ›åæ€»ç»“","slug":"èµ›åæ€»ç»“","permalink":"https://ret2libc-pwned.github.io/tags/%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"},{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://ret2libc-pwned.github.io/tags/%E9%A2%98%E8%A7%A3/"}]},{"title":"OIæ¯”èµ›ä¸­çš„é‚£äº›ç„å­¦ä¼˜åŒ–","slug":"OIæ¯”èµ›ä¸­çš„é‚£äº›ç„å­¦ä¼˜åŒ–","date":"2021-10-22T10:07:36.000Z","updated":"2021-10-22T12:19:51.143Z","comments":true,"path":"2021/10/22/OIæ¯”èµ›ä¸­çš„é‚£äº›ç„å­¦ä¼˜åŒ–/","link":"","permalink":"https://ret2libc-pwned.github.io/2021/10/22/OI%E6%AF%94%E8%B5%9B%E4%B8%AD%E7%9A%84%E9%82%A3%E4%BA%9B%E7%8E%84%E5%AD%A6%E4%BC%98%E5%8C%96/","excerpt":"","text":"å‰è¨€ è¿™æ˜¯æˆ‘æš‘å‡é›¶åŸºç¡€å…¥é—¨C++çš„æ—¶å€™æ•´ç†çš„å°æŠ€å·§. ç°åœ¨åˆ°äº†CSP-2021èµ›å‰, æˆ‘åœ¨çœ‹ç¬”è®°çš„æ—¶å€™å‘ç°äº†è¿™ä¸ª, å°±æŠŠå®ƒå‘åœ¨æˆ‘çš„ç½‘ç«™ä¸Š, å¸Œæœ›èƒ½å¸®åˆ°å³å°†å‚åŠ OIçš„ä½ , ä¹Ÿå¸Œæœ›èƒ½å€Ÿæ­¤ç»™è‡ªå·±å¢åŠ Rp. è¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡OIæ¯”èµ›, å¸Œæœ›èƒ½è€ƒå¥½ç‚¹. è¯»å…¥ä¼˜åŒ– freadå¿«è¯»/å¿«å†™ä»£ç æ¥è‡ªoi-wiki å…³é—­åŒæ­¥(æ¨è) 12ios_base::sync_with_stdio(false);cin.tie(0); å…³é—­iostreamä¸stdioä¸­è¾“å…¥è¾“å‡ºæµçš„åŒæ­¥. ä½¿std::cinä¸std::coutæ¥è¿‘äºscanf()ä¸printf()çš„é€Ÿåº¦. æ³¨æ„äº‹é¡¹ è¿™ä¸ªå°ä¼˜åŒ–æ˜¯ç”¨å¾—æœ€å¤šçš„, cinå’Œcoutæ…¢çš„è¦å‘½, åœ¨IOç‰¹åˆ«å¤šçš„é¢˜ä¸­è¦ç”¨cin/coutä¸€å®šè¦åŠ . æ³¨æ„: åŠ äº†ç¬¬ä¸€è¡Œä¹‹åå°†æ— æ³•ä½¿ç”¨printf(), scanf()ç­‰stdio.hä¸­çš„å‡½æ•°, å¦‚æœä½œæ­»ç”¨äº†ä¼šå¯¼è‡´IOæµæ··ä¹±! æ³¨æ„2: cin/coutå†™å…¥æ–‡ä»¶ä¸æ˜¯å³æ—¶çš„, æ‰€ä»¥ä¸€å®šè¦endlåˆ·æ–°ç¼“å†²åŒº(æˆ–è€…\\nä¹‹ç±»çš„) printf()å’Œscanf()(æ¨è) åŒä¸Š, é€Ÿåº¦å—–å—–çš„. ä½†æ˜¯ä¸èƒ½åœ¨å…³é—­åŒæ­¥åä½¿ç”¨. è¿˜èƒ½æ ¼å¼åŒ–å­—ç¬¦ä¸², ä¸é¦™å—?(æ¯”å¦‚è®©ä½ ä¿ç•™8ä½å°æ•°, åªéœ€printf(\"%.8lf\", my_variable)å³å¯, coutè¿˜éœ€å€ŸåŠ©iomanip) å¿«è¯»/å¿«å†™ å¾ˆå¥½ç”¨, getchar()å’Œputchar()å¿«å¦‚é—ªç”µ. 12345678910111213141516int read() { int x = 0, w = 1; //xæ˜¯æ•°å­—, wæ˜¯ç¬¦å·ä½ char ch = 0; while (ch &lt; '0' || ch &gt; '9') { //!isdigit(ch) if (ch == '-') w = -1; ch = getchar(); } while (ch &gt;= '0' &amp;&amp; ch &lt;= '9') { //isdigit(ch) x = x * 10 + (ch - '0'); ch = getchar(); } return x * w;}//Example://int n = read(); 123456789101112inline void write(int x) { static int sta[35]; int top = 0; do { sta[top++] = x % 10, x /= 10; } while (x); while (top) putchar(sta[--top] + 48); //(int)'0'}//Example://int a = 5;//write(a); fread(è¾ƒä¸ºç„å­¦) 12345678910111213141516171819202122232425262728293031namespace IO {const int MAXSIZE = 1 &lt;&lt; 20;char buf[MAXSIZE], *p1, *p2;#define gc() \\ (p1 == p2 &amp;&amp; (p2 = (p1 = buf) + fread(buf, 1, MAXSIZE, stdin), p1 == p2) \\ ? EOF \\ : *p1++)inline int rd() { int x = 0, f = 1; char c = gc(); while (!isdigit(c)) { if (c == '-') f = -1; c = gc(); } while (isdigit(c)) x = x * 10 + (c ^ 48), c = gc(); return x * f;}char pbuf[1 &lt;&lt; 20], *pp = pbuf;inline void push(const char &amp;c) { if (pp - pbuf == 1 &lt;&lt; 20) fwrite(pbuf, 1, 1 &lt;&lt; 20, stdout), pp = pbuf; *pp++ = c;}inline void write(int x) { static int sta[35]; int top = 0; do { sta[top++] = x % 10, x /= 10; } while (x); while (top) push(sta[--top] + '0');}} // namespace IO å¦‚ä¸Šæ˜¯åŸºäºfreadå®ç°çš„å¿«è¯»å¿«å†™, æœ¬è´¨æ˜¯åˆ©ç”¨æ–‡ä»¶çš„ç¼“å†²åŒº. å®ç°æ—¶éœ€è¦å°†getchar()ç¨å¾®æ”¹æ”¹, (ä»£ç ä¸­\\è¡¨ç¤ºæ˜¾ç¤ºä¸ä¸‹, å†™çš„æ—¶å€™ä»è¿™ä¸€è¡Œæ¥ç€å†™å°±è¡Œ, æ— éœ€æ¢è¡Œ) æ³¨æ„äº‹é¡¹ æ•²è¿™ä¸ªæ¿å­å¤ªè´¹æ—¶é—´äº†, è¿˜æ˜¯ç”¨ä¸Šé¢é‚£ä¸ªåŸºäºputchar()å’Œgetchar()çš„é‚£ä¸ªæ€§ä»·æ¯”æœ€é«˜. å¥½åƒè¿™ä¸ªä¸œè¥¿å¾ˆç„å­¦, ä¸€äº›æƒ…å†µä¸‹ä¼šä½¿æ•´ä¸ªç¨‹åºå˜æ…¢(?) æ‰§è¡Œä¼˜åŒ– ++i(è¾ƒä¸ºæ¨è) æœ‰ç ”ç©¶è¡¨æ˜++iæ¯”i++å¿«, è¯´æ˜¯i++ç”¨äº†ä¸€ä¸ªä¸´æ—¶å˜é‡. æ³¨: å¾ˆå¤šäººåœ¨ç½‘ä¸Šç§‘æ™®ä¸¤è€…çš„å…³ç³», ä½†æ˜¯åªæ˜¯çœ‹åç¼–è¯‘ä»£ç , çœ‹åˆ°++iæ¯”i++ç”¨çš„æ±‡ç¼–æŒ‡ä»¤å°‘ä¸€ä¸¤ä¸ª, å°±è¯´++iæ›´å¿«(ç”šè‡³æ¯ä¸€å¥æŒ‡ä»¤çš„æ„æ€éƒ½è¯´ä¸€ä¸‹, å³åˆ°åº•æ…¢åœ¨å“ªäº†)??? å°±ç®—çœŸçš„æ˜¯è¿™æ ·è¿™ç§ä¸æ‡‚è£…æ‡‚çš„æ€åº¦ä¹Ÿä¸æ˜¯å¾ˆå¥½ ++iæ‰§è¡Œå®Œåçš„å€¼è·Ÿiæ˜¯ä¸€æ ·çš„, å¯ä»¥æ‹¿æ¥ç»™å…¶å®ƒå˜é‡èµ‹å€¼. 1int k = ++i; register(å·²ç»æ­»äº†) register, å³ç›´æ¥æ“ä½œå¯„å­˜å™¨. åœ¨C++14é€æ¸è¢«å¼ƒç”¨. åœ¨ä¹‹å‰çš„C++ç‰ˆæœ¬ä¸­éƒ½å¯ä»¥æ”¾åœ¨å¾ªç¯é‡Œé¢æå‡æ€§èƒ½. 1for(register int i = 0; i &lt; n; ++i) inlineå†…è”å‡½æ•°(æ¨è) inlineå¯ä»¥åœ¨è°ƒç”¨å¤„å°±åœ°å±•å¼€å‡½æ•°. 12345678910111213141516using namespace std;inline int lowbit(int x) { return x &amp; (-x);}int main() { int x = 114514; int y = lowbit(x); //ç›¸å½“äºç›´æ¥è¿è¡Œå‡½æ•°, æ²¡æœ‰è°ƒç”¨å…³ç³» //inline int lowbit(int x) { // return x &amp; (-x); //} cout &lt;&lt; y &lt;&lt; endl; return 0;} å¯¹äºä¸€äº›éœ€è¦è°ƒç”¨å¤šæ¬¡çš„å‡½æ•°, å¯ä»¥ä½¿ç”¨inlineå£°æ˜ä»–æ˜¯å†…è”çš„. å¯¹äºinlineå‡½æ•°, è°ƒç”¨æ—¶ä¸åƒæ™®é€šå‡½æ•°é‚£æ ·, å°†åœ°å€, å‚æ•°ç­‰å…³é”®ä¿¡æ¯å‹å…¥æ ˆ(ä¸€ç§å†…å­˜å¸ƒå±€)ä¸­, å†æ‰§è¡ŒcallæŒ‡ä»¤. è¿”å›æ—¶å†æ“ä½œæ ˆ, æœ€året. è¿™æ ·ä¸ä»…è´¹æ—¶é—´, è¿˜æµªè´¹æ ˆç©ºé—´. inlineå‡½æ•°ä¼šåœ¨é¢„å¤„ç†é˜¶æ®µåƒå®(å¦‚#define)åœ¨è°ƒç”¨å¤„åŸåœ°å±•å¼€. æ³¨æ„äº‹é¡¹ å¯¹é€’å½’å‡½æ•°æ²¡ç”¨(æœ‰äººè¯´é€’å½’ç¨‹åºç”¨inlineä¼šçˆ†re, æœ¬äººäº²æµ‹ä¸ä¼š, åº”è¯¥æ˜¯ç¼–è¯‘å™¨ä¼˜åŒ–æ‰äº†) èŠ‚çœäº†æ ˆç©ºé—´å’Œè°ƒç”¨å¼€é”€, ä½†æ˜¯å¢åŠ äº†ç¨‹åºç¼–è¯‘åçš„ä½“ç§¯. åœ¨æ¯”èµ›ä¸­æ²¡å•¥äº‹, ä½†åœ¨å®é™…å¼€å‘ä¸­æ…ç”¨. å°å®éªŒ: æ¢ç©¶inlineå‡½æ•°çš„æ€§è´¨(è¯šæ„æ»¡æ»¡, çœŸçš„ä¸çœ‹çœ‹å—?) åç¼–è¯‘å·¥å…·: IDA Pro 7.5 (32-bit) æµ‹è¯•ç¯å¢ƒ: Windows 10 x64 æˆ‘ä»¬å†™å‡ºå¦‚ä¸‹æµ‹è¯•ä»£ç : 1234567891011121314//test.cpp#include &lt;iostream&gt;inline int my_inline_func(int x) { //lowbit :) return x &amp; (-x);}int main() { int n = 0; scanf(\"%d\", &amp;n); printf(\"%d\\n\", my_inline_func(n)); return 0;} ä½¿ç”¨g++ test.cpp -O -o test.exeå‘½ä»¤(-Oè¡¨ç¤ºå¼€å¯ä¼˜åŒ–, å³ä½¿ç”¨å†…è”å‡½æ•°)ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶. åç¼–è¯‘ä¹‹å: 123456789101112131415161718192021222324252627282930313233; main().text:00401421 ; int __cdecl main(int argc, const char **argv, const char **envp).text:00401421 public _main.text:00401421 _main proc near ; CODE XREF: sub_4011A0+8Eâ†‘p.text:00401421.text:00401421 argc = dword ptr 8.text:00401421 argv = dword ptr 0Ch.text:00401421 envp = dword ptr 10h.text:00401421.text:00401421 ; __unwind {.text:00401421 push ebp.text:00401422 mov ebp, esp.text:00401424 and esp, 0FFFFFFF0h.text:00401427 sub esp, 20h.text:0040142A call ___main.text:0040142F mov dword ptr [esp+1Ch], 0.text:00401437 lea eax, [esp+1Ch].text:0040143B mov [esp+4], eax.text:0040143F mov dword ptr [esp], offset Format ; \"%d\".text:00401446 call _scanf ;è¿™é‡Œåº”è¯¥å°±æ˜¯inlineå‡½æ•°å±•å¼€åçš„æ ·å­äº†, å¯ä»¥çœ‹åˆ°å¹¶æ²¡æœ‰è°ƒç”¨çš„è¿‡ç¨‹.text:0040144B mov edx, [esp+1Ch].text:0040144F mov eax, edx.text:00401451 neg eax.text:00401453 and eax, edx.text:00401455 mov [esp+4], eax.text:00401459 mov dword ptr [esp], offset aD_0 ; \"%d\\n\".text:00401460 call _printf.text:00401465 mov eax, 0.text:0040146A leave.text:0040146B retn.text:0040146B ; } // starts at 401421.text:0040146B _main endp å¯ä»¥çŸ¥é“, inlineå‡½æ•°åªæ˜¯å°±åœ°å±•å¼€, å¹¶æ²¡æœ‰è°ƒç”¨, è¿™ä¸ª\"è°ƒç”¨çš„\"è¿‡ç¨‹åœ¨åœ°å€ä¸Šæ˜¯è¿ç»­çš„, æ²¡æœ‰æ¶‰åŠåˆ°åœ°å€å’Œå‚æ•°çš„push/popæ“ä½œ. çœ‹å¾—è¿˜ä¸å¤Ÿæ¸…æ¥š? è®©æˆ‘ä»¬ç‚¹ä¸€ä¸‹F5 å€ŸåŠ©IDA Proå¼ºå¤§çš„Hex-raysæ’ä»¶, å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°mainå‡½æ•°ç¼–è¯‘åå˜æˆäº†è¿™ä¸ªæ ·å­. 12345678910int __cdecl main(int argc, const char **argv, const char **envp){ int v4; // [esp+1Ch] [ebp-4h] BYREF __main(); //è¿™ä¸ªæ˜¯é¢„å¤„ç†, å³ç¨‹åºçš„å…¥å£ç‚¹, ä¸ç”¨ç®¡. v4 = 0; scanf(\"%d\", &amp;v4); printf(\"%d\\n\", v4 &amp; -v4); //è¿™å°±æ˜¯inlineå‡½æ•°çš„é­…åŠ› :) return 0;} ç°åœ¨, inlineå‡½æ•°çš„ä½œç”¨æˆ‘ä»¬çš„ç†è§£å·²ç»å¾ˆé€å½»äº†. ç®—æ³•ä¼˜åŒ– ç›¸å…³STL æ®è¯´set, mapå¸¸æ•°æ¯”è¾ƒå¤§. ä½†æ˜¯æˆ‘ä¸ä¼šæ‰‹å†™. æ‰€ä»¥ç”¨ç€å§... ä½†æ˜¯std::sort()æ®è¯´å¾ˆé«˜çº§, å¿«æ’, å †æ’, æ’å…¥æ’åºä¸‰ç®¡é½ä¸‹, æ€§èƒ½å¾ˆä¸é”™. åŸºæœ¬ä¸Šåªè¦è‡ªå·±å†™å†™å½’å¹¶, å‰©ä¸‹äº¤ç»™sortå°±å¥½. ä¸è¦ä½œæ­» è¿™æ˜¯åœ¨èµ›å‰åŠ çš„, æ„åœ¨æé†’å¹¿å¤§é€‰æ‰‹ä¸è¦ä¸ºäº†ä¼˜åŒ–è€Œä½œæ­», æƒ³ä¸€ä¸ªæ›´å¥½çš„ç®—æ³•æˆ–è€…æ‰“æš´åŠ›æ‹¿ä¸ªéƒ¨åˆ†åˆ†ä¸é¦™å—? ä»¥ä¸‹å†…å®¹åœ¨NOIç³»åˆ—ç«èµ›ä¸­ä¸èƒ½ç”¨!!! ä¸åŒ…æ‹¬å…¨éƒ¨, åªåŒ…æ‹¬é€‰æ‰‹ä»¬å¯èƒ½ä¼šä½œæ­»ç”¨åˆ°çš„(æˆ‘çŒœçš„). è¿˜æ˜¯ä»¥å®˜æ–¹è¯´æ˜ä¸ºå‡†, è¿™é‡Œåªæ˜¯æé†’ä¸€ä¸‹. pragma(å¦‚ç§è‡ªå¼€O2, æˆ–è€…å¼€æ ˆ) å®˜æ–¹æ˜ä»¤ç¦æ­¢ å¼€æ ˆçš„è¯éœ€è¦åœ¨æœ¬æœºä¿®æ”¹, (æ–¹æ³•è‡ªè¡Œç™¾åº¦). CSPä¸é™åˆ¶æ ˆç©ºé—´. å†…è”æ±‡ç¼– å®˜æ–¹æ˜ä»¤ç¦æ­¢. å†…è”æ±‡ç¼–åˆ†ä¸¤ç§, ä¸€ç§æ˜¯__asm__, ä¸€ç§æ˜¯å¼€ä¸€ä¸ªæ•°ç»„æŠŠæœºå™¨ç æ”¾è¿›å», å†memcpyåˆ°å¯æ‰§è¡Œçš„å†…å­˜åŒºåŸŸä¸Š éƒ½ä¸è¦ç”¨!!! å°¤å…¶æ˜¯ç¬¬äºŒç§, ä½ åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šç©ç©ç®—äº†, å¾ˆå¯èƒ½åœ¨è¿™å°ç”µè„‘ä¸Šèƒ½è¿è¡Œ, å¦ä¸€å°ç”µè„‘ä¸Šå°±å‡ºé”™. è€Œä¸”è¿™ç±»ç¨‹åºéœ€è¦é«˜æƒé™, å¯æ‰§è¡Œçš„å†…å­˜åŒºåŸŸéƒ½ä¸å¤ªå¥½å¾€é‡Œå†™æ•°æ®. æœ€é‡è¦çš„, æ¯”èµ›ç”¨äº†ä¼šçˆ†é›¶!!!","categories":[],"tags":[{"name":"OI","slug":"OI","permalink":"https://ret2libc-pwned.github.io/tags/OI/"},{"name":"å¸¸æ•°ä¼˜åŒ–","slug":"å¸¸æ•°ä¼˜åŒ–","permalink":"https://ret2libc-pwned.github.io/tags/%E5%B8%B8%E6%95%B0%E4%BC%98%E5%8C%96/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://ret2libc-pwned.github.io/tags/%E7%AC%94%E8%AE%B0/"},{"name":"å¥‡æŠ€æ·«å·§","slug":"å¥‡æŠ€æ·«å·§","permalink":"https://ret2libc-pwned.github.io/tags/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/"}]},{"title":"å›½åº†æ¨¡æ‹Ÿèµ›åæ€»ç»“","slug":"å›½åº†æ¨¡æ‹Ÿèµ›åæ€»ç»“","date":"2021-10-17T03:11:30.000Z","updated":"2021-10-17T13:08:44.569Z","comments":true,"path":"2021/10/17/å›½åº†æ¨¡æ‹Ÿèµ›åæ€»ç»“/","link":"","permalink":"https://ret2libc-pwned.github.io/2021/10/17/%E5%9B%BD%E5%BA%86%E6%A8%A1%E6%8B%9F%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/","excerpt":"","text":"èµ›åæ€»ç»“ æ³¨: æ²¡å†™å®Œ, å› ä¸ºæœ‰çš„é¢˜è¿˜æ²¡è¿‡. å‰è¨€ è¿™ä¸ªæ–‡æ¡£ä¸ä¸€å®šåœ¨å†™ç²¾å¦™çš„ç®—æ³•, æœ‰çš„éƒ¨åˆ†ç”šè‡³ä¸æ˜¯åœ¨åˆ†ææ»¡åˆ†è§£æ³•, æ›´å¤šçš„æ˜¯æ€ä¹ˆå¾—è¯¥å¾—çš„åˆ†ä»¥åŠæ€ä¹ˆå‡å°‘ä¸å¿…è¦çš„å¤±åˆ†. å³: ç›®æ ‡æ˜¯åœ¨jç»„å¤èµ›ä¸­åˆ†æ•°æœ€å¤§åŒ–. 2021/10/01 T1 åœ¨è°ƒé”™ä¸Šæµªè´¹å¤ªå¤šæ—¶é—´äº†, æœ€åæ‰å‘ç°ç®—æ³•æ²¡æœ‰é—®é¢˜, æ˜¯switchè¯­å¥çš„é—®é¢˜!!! æ•™è®­: åœ¨å†™ä»£ç ä¹‹å‰æ¨æ€è·¯çš„æ—¶å€™ä¸€å®šè¦æ˜ç¡®å®ƒçš„æ­£ç¡®æ€§! å‘ç°è¿è¡Œçš„ç»“æœä¸ä¸€æ ·æ—¶ä¸è¦è½»æ˜“æ”¹ä»£ç , æ›´ä¸è¦è½»æ˜“æ”¹ç®—æ³•! è°ƒè¯•å°æŠ€å·§: è¾“å‡ºä¸€äº›ä¸œè¥¿ or æ³¨é‡Šæ‰å¤§æ®µä»£ç , è¿™äº›æ–¹æ³•ä¸»è¦æ˜¯å¿«é€Ÿå®šä½å‡ºé”™çš„åœ°æ–¹çš„, å®åœ¨ä¸è¡Œå¯ä»¥ä¸‹æ–­ç‚¹è°ƒè¯•(ç”¨gdbå¯ä»¥çš„, æ³¨æ„åŠ debug symbol). åœ¨æ€€ç–‘ç®—æ³•å‡ºé—®é¢˜çš„æ—¶å€™åœ¨çº¸ä¸Šæ¨, ä¸è¦åŠ¨ä»£ç !!! è¿™é¢˜çš„æ­£è§£æ˜¯æ¨¡è¿ç®—, å¯ä»¥å¿«é€Ÿå®šä½åˆ°å¾ªç¯è¿è¡Œå¤šæ¬¡åçš„æŒ‡ä»¤, ä¸å¿…ä¸€æ¬¡æ¬¡æ¨¡æ‹Ÿäº†. (è€ƒåœºä¸Šå†™çš„æ˜¯ç›´æ¥æ¨¡æ‹Ÿ, æ‹¿æŒ‡é’ˆä¸€ä¸ªä¸€ä¸ªèµ°çš„é‚£ç§, æ‹¿äº†60åˆ†å·²ç»å¾ˆä¸é”™äº†) æ­£è§£: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;iostream&gt;#include &lt;string&gt;using namespace std;const int dx[4] = {1, 0, -1, 0};const int dy[4] = {0, -1, 0, 1};const char cmd[4] = {'E', 'S', 'W', 'N'};string ops;int t, currx, curry, cnt[4];inline void go(int op) { currx += dx[op]; curry += dy[op];}int main() { cin &gt;&gt; ops &gt;&gt; t; //å…ˆè¿è¡Œä¸€éå‘½ä»¤ä¸² int oplen = ops.length(); for(int i = 0; i &lt; oplen; i ++) { char ch = ops[i]; //ä¸çŸ¥é“ä¸ºä»€ä¹ˆswitchä¼šå‡ºé—®é¢˜, æ¯”èµ›å°±æ˜¯åœ¨è¿™é‡Œå¡äº†åŠå°æ—¶ if(ch == 'E') go(0); if(ch == 'S') go(1); if(ch == 'W') go(2); if(ch == 'N') go(3); } int cishu = t / oplen; //æ¯ä¸ªæ“ä½œæ‰§è¡Œcishué, ä½†è¿˜å¯èƒ½æœ‰å¤šä½™ int pos = t % oplen; //æœ€åä¸€ä¸ªæ“ä½œçš„ä½ç½® //åˆ¤æ–­æ¡ä»¶ if(cishu == 0) goto OUTPUT; //æŒ‡ä»¤æ•° &gt;= t --&gt; å·²ç»èµ°å®Œäº†, ç›´æ¥è¾“å‡ºå°±è¡Œ //ç¬¬äºŒç§æƒ…å†µ, å³len &lt; t, è¦å¾ªç¯å¤šæ¬¡ currx *= cishu; curry *= cishu; //èµ°ä¸€æ¬¡èµ°åˆ°äº†å½“å‰çš„(x, y), èµ°cishuæ¬¡å°±æ„å‘³ç€æ¯ä¸ªç‚¹éƒ½èµ°äº†cishuæ¬¡, å¯¹ç»“æœçš„å½±å“æ±‚ç§¯å³å¯ //å¥½ç°åœ¨è¿˜å‰©å‡ æ­¥, èµ°å®Œå®ƒ for(int i = 0; i &lt; pos; i ++) { char ch = ops[i]; if(ch == 'E') go(0); if(ch == 'S') go(1); if(ch == 'W') go(2); if(ch == 'N') go(3); }OUTPUT: cout &lt;&lt; currx &lt;&lt; ' ' &lt;&lt; curry &lt;&lt; endl; return 0;} T2 åœ¨æ¨æ¨¡æ‹Ÿåˆ†è§£è´¨å› æ•°æ—¶æµªè´¹å¤ªå¤šæ—¶é—´äº†, è¿™ç§è€ƒ\"æ¿å­\"çš„æ•°å­¦é¢˜è¦åœ¨å¹³æ—¶å¤šåš. è€ƒåœºä¸Šè¦å‡å°‘æ¨æ¿å­çš„æ—¶é—´. å¦å¤–è¿˜å¥½è¿™é¢˜æ²¡æ‰“è¡¨, \"åªè¦æ˜¯æ•°å­¦é¢˜å°±æ‰“è¡¨\"ç»ˆç©¶æ˜¯ä¸€ç§\"éª—åˆ†\"çš„å¿ƒæ€. è¿˜æ˜¯è¦å¤šæ¨å¼å­. é™„: è®¡ç®—ä¸€ä¸ªæ•°ç´ å› æ•°ä¸ªæ•°çš„ä»£ç  1234567891011int fac(int x) { int res = 0; for(int i = 2; i &lt;= x; i ++) { if(x % i == 0) { res ++; x /= i; i --; //è¿™è¡Œæ˜¯å°è¯•å†æ‹¿è¿™ä¸ªæ•°é™¤ä¸€é, å› ä¸ºä¸€ä¸ªæ•°å¯èƒ½æœ‰å¤šä¸ªç›¸åŒçš„è´¨å› å­. } } return res;} è¿˜æœ‰å°±æ˜¯ç¬¬åä¸ªç‚¹å…·ä½“çš„æ•°æ®ç»™æˆ‘ä»¬äº†, æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°æ®, è¿™ä¸ªO(N*sqrt(N))çš„ç®—æ³•æ˜¾ç„¶è¦ç®—å¾ˆä¹…(åœ¨æˆ‘ç”µè„‘ä¸Šç®—äº†ä¸€ä¸ªåŠå°æ—¶), æ‰€ä»¥åªèƒ½ç”¨ç‰¹åˆ¤. è€ƒè¯•çš„æ—¶å€™å¯ä»¥ä¼˜å…ˆç”¨æš´åŠ›æˆ–æ­£è§£ç®—ç€è¿™ç§æ•°æ®, å¾—åˆ°ç‰¹åˆ¤å°±è¡Œ. æ³¨: è¿™é“æ˜¯æˆ‘ä¸¤å¤©æ¨¡æ‹Ÿèµ›ä¸­å”¯ä¸€è§‰å¾—åšå¾—è¿˜ä¸é”™, æ²¡å•¥å¤ªå¤§é—æ†¾çš„é¢˜. æ³¨2: æˆ‘çš„ç”µè„‘ç®—äº†ä¸€ä¸ªåŠå°æ—¶, ç»ˆäºç®—å‡ºæœ€åä¸€ä¸ªç‚¹çš„ç‰¹åˆ¤æ˜¯564714!!! ä½†æ˜¯ä¸ºä»€ä¹ˆç¬¬å…«ä¸ªç‚¹è¿˜æ²¡è¿‡??? æœ€åæ˜¯90åˆ†. T3 æ¨¡æ‹Ÿé¢˜, å­—å¤ªå¤šè€ƒè¯•çš„æ—¶å€™æ‡’å¾—çœ‹äº†. ä¹‹åè¿™ç§é¢˜è¦å¤šæƒ³æƒ³! è‡³å°‘æŠŠæ ·ä¾‹ç®—ç®—, çŸ¥é“æ¨¡æ‹Ÿçš„è¿‡ç¨‹. ç°åœ¨èµ›åè®¢æ­£çš„æ—¶å€™ä¹Ÿæ‡’å¾—çœ‹ T4 å››è”é€šé—®é¢˜, æŠŠä¸Šä¸‹å·¦å³å½“æˆç›¸é‚»çš„èŠ‚ç‚¹ç”¨bfsè®¿é—® 2021/10/03 T1 ä¸€å®šè¦æ³¨æ„çœ‹æ¸…æ•°æ®èŒƒå›´! å°±æ¯”å¦‚è¿™é“é¢˜è¯´äº† \\[ N &lt; 1,000,000 \\] å°±ä¸€å®šè¦å¼€1e6, å®è‚¯å¼€å¤§ä¸€ç‚¹ä¹Ÿä¸è¦å¼€å°!!! ä¸€ä½æ•°ç»„ä¸ä¼šå› ä¸ºå¼€å¾—è·Ÿé¢˜ä¸­ä¸€æ ·å¤§è€ŒMLE!!! æ•™è®­: 1e5çš„ä»£ç 52åˆ†, 1e6å°±acäº†. çœŸçš„æ˜¯å¾ˆå¯æƒœçš„, æ˜æ˜æ»¡åˆ†ç®—æ³•æƒ³å‡ºæ¥äº†, æ€è·¯å°±æ˜¯æ­£ç¡®çš„, ç”šè‡³ä»£ç å†™å¾—éƒ½æ²¡é—®é¢˜. å°±æ˜¯å› ä¸ºæ•°ç»„æ²¡å¼€å¤§, å¤±åˆ†æƒ¨é‡. æ€è·¯å†è¯´ä¸€ä¸‹å§, å‰ç¼€å’Œ. è¿™ç§åŒºé—´è¯¢é—®æˆ–æ“ä½œä¸€ä½æ•°ç»„é—®é¢˜çš„ç®—æ³•åœ¨æˆ‘ç›®å‰çš„çŸ¥è¯†èŒƒå›´å†…å¤§å¤šåªä¼šæ˜¯å‰ç¼€å’Œ, å·®åˆ†, æ ‘çŠ¶æ•°ç»„, çº¿æ®µæ ‘äº†, æ›´é«˜çº§çš„æ„Ÿè§‰jç»„è€ƒä¸åˆ°, ç°åœ¨ä¹Ÿä¸æ˜¯å­¦è¿™ç§ä¸œè¥¿çš„æ—¶å€™. è™½ç„¶1000ä¸‡ä¸ªæ•°ä¼¼ä¹å¾ˆå¤š, ä½†æ˜¯, å¦‚æœè¿™äº›æ•°æ˜¯8å­—èŠ‚çš„æ•´æ•°, é‚£ä¹ˆå°†å ç”¨å¤§è‡´80MB. Introduction to Algorithms(3rd edition) T2 12const int N = 1e6;int array[N]; //å¤§çº¦å ç”¨4MBç©ºé—´ è¿™é“é¢˜å› ä¸ºå¼€äº†1e8çš„æ•°ç»„, ç”¨äº†memsetå¯¼è‡´å…¨éƒ¨çš„ç‚¹MLE. æ•°ç»„ä¸è¦å¼€å¤ªå¤§!!! (1e8ä¸ªintçº¦ç­‰äº380MB) æœ¬æ¥å¯ä»¥å¾—60åˆ†æš´åŠ›åˆ†, ç»“æœè¿™é¢˜å› ä¸ºè¿™ä¸ªçˆ†é›¶äº†. æœ¬é¢˜çš„æ­£è§£æ˜¯ç¦»çº¿è¯¢é—®, å¹¶è®°å½•æ“ä½œ, ç±»ä¼¼äºåŒ–ç®€åˆ°æœ€åä¸€ä¸ªæ“ä½œ, å°±ä¸å¿…æ¨¡æ‹Ÿäº†. èµ›åè¿˜ä»¥ä¸ºæ˜¯ç”¨äº†å‡ ä¸ªç„å­¦ä¼˜åŒ–å¯¼è‡´çš„é—®é¢˜. è¯´åˆ°ç„å­¦ä¼˜åŒ–, åœ¨è¿™é‡Œè®°å½•å‡ ä¸ªå¥½ç”¨çš„ç„å­¦ä¼˜åŒ–:(å¥½åƒæ‰¯å¾—æœ‰ç‚¹è¿œäº†) cinä¼˜åŒ– 12ios_base::sync_with_stdio(false);cin.tie(0); //cin.tie(nullptr)åœ¨C++11åŠä»¥ä¸Šå¯ç”¨ (è¿™ä¸¤è¡Œçš„æ„æ€æ˜¯å…³é—­ä¸stdioçš„åŒæ­¥, ä»¥æå‡cin, coutçš„é€Ÿåº¦. åœ¨IOæ¯”è¾ƒå¤šçš„æ—¶å€™å¾ˆå¥½ç”¨. æ³¨æ„:ç”¨äº†è¿™ä¸ªä¼˜åŒ–å°±ä¸èƒ½ç”¨stdioå†…çš„å‡½æ•°å¦‚printf()å’Œscanf(). å½“ç„¶printfå’Œscanfçš„é€Ÿåº¦æ˜¯æ›´å¿«çš„, å¦‚æœä¼šå†™å¿«è¯»å¿«å†™é‚£æ›´å¿«, putchar()å’Œgetchar()çš„é€Ÿåº¦ä¸æ˜¯å¹çš„. ) å¯„å­˜å™¨æ“ä½œ 1for(register int i = 0; i &lt; n; i ++) ç›´æ¥æ“ä½œå¯„å­˜å™¨, è¿™æ ·æ›´å¿«. p.s. cspç”¨ä¸äº†å†…è”æ±‡ç¼–, æ‰€ä»¥ä¸è¦ä½œæ­», è¿™ä¸ªç”¨ç”¨å°±è¡Œäº† è¡Œå†…å‡½æ•°(inline) 1234567891011121314inline int add(int x, int y) { return x + y;}int main() { add(1, 1); //ç›´æ¥å°±åœ°å±•å¼€å‡½æ•°, æ²¡æœ‰è°ƒç”¨å…³ç³» /* ç›¸å½“äº inline int add(int x, int y) { return x + y; } */ return 0;} é€‚ç”¨äºä»£ç å°‘, è°ƒç”¨é¢‘ç¹çš„å‡½æ•°. å‡½æ•°è°ƒç”¨æ—¶ä¼šå°†å‚æ•°, åŸºå€è¿™äº›ä¸œè¥¿å‹æ ˆ. æœ€åcall. è¿è¡Œç»“æŸåä¼šå‹å…¥è¿”å›åœ°å€ç­‰ä¿¡æ¯(è¿™äº›ä¸œè¥¿å¿«å¿˜äº†, ä¸å¯¹è¯·æŒ‡æ­£). è¿™æ ·è°ƒç”¨ä¸€æ¬¡æ— ç–‘æµªè´¹äº†å¾ˆå¤šæ—¶é—´ç²¾åŠ›.(æœ‰ç©ºçš„è¯è´´ä¸€ä¸‹åæ±‡ç¼–ä»£ç çœ‹å¾—æ›´æ¸…æ¥š) ç”¨inlineå®šä¹‰ä¼šåœ¨è°ƒç”¨å¤„å°±åœ°å±•å¼€, ä¸ªäººè§‰å¾—æ¯”è¾ƒåƒ#define(?) ä½†æ˜¯è¿™ä¹ˆç”¨ä¼šè®©ä»£ç ç¼–è¯‘åå˜å¾—æ›´å¤§, å®é™…å¼€å‘ä¸­è¦æ…ç”¨. (ç®—æ³•æ¯”èµ›ä¸­æ²¡å…³ç³») T3 è¿™é‡Œå‘ç°äº†ä¸¤è½®æ¸¸æˆä¸­çš„å•è°ƒæ€§è´¨, ä½†æ˜¯ç«Ÿç„¶åœ¨çº ç»“ç”¨å“ªä¸ªæ•°æ®ç»“æ„å®ç°!!! æœ€åæ—¶é—´å…¨æµªè´¹äº†, æš´åŠ›éƒ½æ²¡å†™å®Œ. ä»¥åç®—æ³•è¾ƒä¸ºç®€å•çš„é¢˜, ä¸€å®šè¦å…ˆå†™æš´åŠ›æˆ–è€…åŸºæœ¬æ€è·¯, ä¸è¦å…ˆé»˜æ¿å­æˆ–çº ç»“è¯¥é»˜å“ªä¸ªæ¿å­!!! T4 è¿™ä¸€é¢˜è¦é‡‡ç”¨ç±»ä¼¼å›¾è®ºå­˜å›¾çš„æ–¹æ³•å­˜èƒ½å¼€å“ªé‡Œçš„ç¯, ç„¶åbfs. é¢˜å¹²çš„æ„æ€å…¶å®æ˜¯è¦æ‰¾åˆ°æˆ¿é—´ä¹‹é—´çš„ \"è¿æ¥\" å…³ç³». æƒ³åˆ°è¿™é‡Œå°±èƒ½çŸ¥é“è¦ç”¨ç±»ä¼¼é‚»æ¥è¡¨çš„æ–¹å¼å­˜å›¾äº†. è€ƒåœºä¸Šæˆ‘ä¸»è¦çš„é—®é¢˜åœ¨äºåªæƒ³ç€æ‰“æš´åŠ›å°±ç”¨dfs, å°±èƒ½æ‹¿åˆ†. ä½†æ˜¯è¿™ä¸ªdfsåœ¨æœ¬æœºéƒ½è‚‰çœ¼å¯è§åœ°æ…¢, å°±æ”¾å¼ƒæ²»ç–—, ä¹Ÿä¸æƒ³å‰ªæäº†. æƒ³åˆ°bfsè€Œä¸æ˜¯ç”¨å…¶å®ƒæ–¹æ³•ä¸ªäººç†è§£æ˜¯å› ä¸ºæœ¬é¢˜è¦å…ˆå¼€ç›¸é‚»çš„ç¯, å¦‚æœdfséœ€è¦èµ°å®Œä¸€ä¸ªæ–¹å‘æ‰èƒ½èµ°å¦ä¸€ä¸ªæ–¹å‘, ä¸å‰ªææå…¶æµªè´¹. 2021/10/05 T1 æ¨¡æ‹Ÿèµ›ä¸­ç¬¬ä¸€æ¬¡ac. è€å¸ˆç»™çš„é¢˜è§£: æ•°ç»„æ¨¡æ‹Ÿ (å¯ä»¥ç†è§£ä¸ºæ‰‹å†™åŒç«¯é˜Ÿåˆ—) è‡ªå·±çš„è§£æ³•: stlå¤§æ³•å¥½(ä½¿ç”¨std::deque, å³åŒç«¯é˜Ÿåˆ—, å¯ä»¥ç†è§£ä¸ºå¯æ“ä½œä¸¤ç«¯çš„std::queue) å¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜: ä¸€äº›stlå†…çš„å‡½æ•°å¯èƒ½æ€§èƒ½ä¸å¦‚æ‰‹å†™çš„, ä¾‹å¦‚std::stringé‡Œé¢çš„S.find(P)å°±æ˜¯æš´åŠ›åŒ¹é…çš„, æ€§èƒ½ä¸å¦‚æ‰‹å†™KMP. è¿™æ˜¯ä¸ªé‡å¤§çš„æ—¶åˆ», è´´ä¸ªä»£ç çºªå¿µä¸€ä¸‹, é¡ºä¾¿å¤ä¹ ä¸€ä¸‹dequeçš„ç”¨æ³•. (å¦å¤–åšè¿™é¢˜çš„æ—¶å€™å¥½åƒcinå¿˜åŠ äº†, å¯¼è‡´æµªè´¹äº†äº¿ç‚¹æ—¶é—´è°ƒé”™) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#include &lt;iostream&gt;#include &lt;deque&gt;using namespace std;deque&lt;int&gt; q; //éœ€è¦ä»å‰åæ“ä½œ, åŒç«¯é˜Ÿåˆ—int n, id;inline void clearq() { while(q.size()) { q.pop_front(); }}inline void add(char op, int x) { //op == 'L' å·¦è¾¹å…¥é˜Ÿ //op == 'R' å³è¾¹å…¥é˜Ÿ //cout &lt;&lt; \"add()\" &lt;&lt; op &lt;&lt; ' ' &lt;&lt; x; if(op == 'L') { q.push_front(x); } if(op == 'R') { q.push_back(x); }}inline void kill_people(char op, int x) { if(op == 'L') { for(int i = 0; i &lt; x; i ++) q.pop_front(); } if(op == 'R') { for(int i = 0; i &lt; x; i ++) q.pop_back(); }}inline int popq() { int res; res = q.front(); q.pop_front(); return res;}int main() { //clearq(); ios_base::sync_with_stdio(false); cin.tie(0); cin &gt;&gt; n; for(int i = 1; i &lt;= n; i ++) { //puts(\"LOOP\"); char op, op1; int k; cin &gt;&gt; op &gt;&gt; op1; //cout &lt;&lt; op &lt;&lt; ' ' &lt;&lt; op1; if(op == 'A') { add(op1, ++ id); //åªæœ‰å…¥é˜Ÿæ‰ä¼šæœ‰æ–°çš„ç¼–å·, å•ç‹¬è®°å½• //puts(\"added!!!\") } else { cin &gt;&gt; k; kill_people(op1, k); } } while(q.size()) { cout &lt;&lt; q.front() &lt;&lt; endl; //ä»é˜Ÿé¦–å¼€å§‹pop q.pop_front(); } return 0;} T2 T3 æš´åŠ›è§£æ³•æ˜¯æ¯ä¸ªæ•°è·Ÿå®ƒçš„å·¦è¾¹å’Œä¸Šé¢æ¯”è¾ƒ, ç»Ÿè®¡å‡ºç¬¦åˆæ¡ä»¶çš„, è®¡ç®—æœ€å¤§çš„é¢ç§¯. æ­£è§£æ˜¯dp. é¢„å¤„ç†column[i][j]å’Œcan[i][j][k](ç”¨can[i][j][k]è¡¨ç¤ºä»ç¬¬ i è¡Œåˆ°ç¬¬ j è¡Œä¸­çš„ç¬¬ k åˆ—èƒ½å¦æ¥é“ç¬¬ i è¡Œåˆ°ç¬¬ j è¡Œçš„ k-1 åˆ—ä¸­): \\[ column[i][j]={column[i-1][j]+1(a[i][j]&gt;=a[i- 1][j]),column[i][j]=1} \\] å…¶ä¸­ \\[ can[i][j][k]=(can[i][j-1][k])\\and(column[j][k]&gt;=j-i+1)\\and(a[j][k]&gt;=a[j][k- 1])\\and(coulumn[j][k-1]&gt;=j-i+1 \\] è´´ä¸€ä¸ª70åˆ†è§£æ³•(ç”¨çš„ä¸æ˜¯dp, ä¹Ÿä¸æ˜¯æˆ‘å†™çš„) 123456789101112131415161718192021222324252627282930313233343536#include &lt;bits/stdc++.h&gt;using namespace std;//DP?!ä¸è¿‡æˆ‘ä¸æƒ³ç”¨æ­£å¸¸çš„æ–¹æ³• é‚£å°±å†™ç‚¹ç„å­¦çš„å§ã€‚int n,m,ma[205][205],row[205][205],col[205][205];int main(){ cin&gt;&gt;n&gt;&gt;m; for(int i=1;i&lt;=n;++i) for(int j=1;j&lt;=m;++j)cin&gt;&gt;ma[i][j]; for(int i=1;i&lt;=n;++i) for(int j=1;j&lt;=m;++j){ row[i][j]=1; for(int k=j+1;k&lt;=m;++k){ if(ma[i][k-1]&lt;=ma[i][k])row[i][j]++; else break; } } for(int i=1;i&lt;=m;++i) for(int j=1;j&lt;=n;++j){ col[j][i]=1; for(int k=j+1;k&lt;=n;++k){ if(ma[k-1][i]&lt;=ma[k][i])col[j][i]++; else break; } } //å®Œäº†å®Œäº† ç„å­¦æ–¹æ³•å¼€å§‹äº† int temp=0,ans=0; for(int i=1;i&lt;=n;++i) for(int j=1;j&lt;=m;++j) for(int k=1;k&lt;=row[i][j];++k){//kå°±æ˜¯ä¸€ç§é•¿åº¦ int len=*min_element(col[i]+j,col[i]+j+k); temp=k*len; ans=max(temp,ans); } cout&lt;&lt;ans&lt;&lt;endl; return 0;} T4 è¿™é¢˜ä¸çŸ¥é“ä¸ºä»€ä¹ˆå†™çš„ç®—æ³•æ²¡é—®é¢˜, æ¯”èµ›çš„æ—¶å€™äº¤äº†æ˜¯é›¶åˆ†(èµ›åäº¤äº†ä¸€éå®Œå…¨ä¸€æ ·çš„ä»£ç acäº†). å°±å½“è¿™æ¬¡acäº†å§, ä½†æ˜¯ä¸€å®šè¦æ˜ç™½ä¸ºä»€ä¹ˆä¼šå‡ºè¿™ç§é—®é¢˜, æ¯”èµ›çš„æ—¶å€™è¦æ˜¯è¿˜å‡ºå°±å«å¤©å¤©ä¸çµ, å«åœ°åœ°ä¸åº”äº†. è¿™é¢˜æƒ³äº†è›®ä¹…çš„, ä¸»è¦æ˜¯è¯æ˜ç®—æ³•çš„æ­£ç¡®æ€§. è¦æ³¨æ„çš„å°±æ˜¯å¦‚æœè¿™ç§è´ªå¿ƒé¢˜æœ€åæ¨å‡ºäº†ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„å¼å­ä¸è¦æ€€ç–‘, åªè¦æ¯ä¸€æ­¥éƒ½ç¡®å®šæ˜¯å¯¹çš„å¼å­å°±æ²¡é”™, ä¸è¦åœ¨è¿™é‡Œè¿‡äºçº ç»“, æµªè´¹æ—¶é—´. æ€è·¯å†è¯´ä¸€ä¸‹: è¦è®©ci * tæœ€å¤§, å°±è¦è®©ciè¶Šå¤§çš„è·å¾—æ›´å¤§æ—¶é—´å·®(è¿™ä¸æ˜¯åºŸè¯å—), å³æŠŠciè¿›è¡Œä»å¤§åˆ°å°æ’åº, ä¾æ¬¡æŠŠæœ€å¤§çš„ä¸¤ä¸ªä¸€æ ·çš„æ”¾åˆ°æœ€å‰é¢å’Œæœ€åé¢. éš¾ç‚¹æ˜¯æ¨¡æ‹Ÿè¿™ä¸ªæ”¾åœ¨æœ€å‰å’Œæœ€åçš„è¿‡ç¨‹. è´´ä¸€ä¸‹è€ƒåœºä¸Šçš„ä»£ç , å‰é¢æ˜¯æ’åº. 123456789101112131415//å®‰æ’ä½ç½® int n1 = 1, n2 = n; //[1, n] //n1: å¼€å§‹æ—¶é—´åç§»é‡ //n2: ç»“æŸæ—¶é—´åç§»é‡ for(int i = 1; i &lt;= k, n1 &lt;= n2; i ++, n1 ++, n2 --) { //ä¸¤ä¸¤ä¸€å¯¹åœ°æ’å…¥ //if(c[i] == c[i + 1]) //cout &lt;&lt; (c[i] == c[i + 1]) &lt;&lt; ' ' &lt;&lt; c[i] &lt;&lt; ' ' &lt;&lt; n1 &lt;&lt; ' ' &lt;&lt; c[i - 1] &lt;&lt; ' ' &lt;&lt; n2 &lt;&lt; endl; //æŠŠå¤§(c[i])çš„æ”¾åœ¨æœ€å å°çš„(c[i + 1])æ”¾åœ¨æœ€å‰ æ—¶é—´å·®æœ€å¤§ //ç¬¬ä¸€æ¬¡ä¸å¾—åˆ† æ±‚æ—¶é—´å·®ä¹˜ä»¥æœ€å¤§çš„(å³c[i])å³å¯ //ans += ((n2 - n1) * c[i] + 0); ans += (n2 - n1) * c[i]; }","categories":[],"tags":[{"name":"OI","slug":"OI","permalink":"https://ret2libc-pwned.github.io/tags/OI/"},{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"https://ret2libc-pwned.github.io/tags/%E6%A8%A1%E6%8B%9F%E8%B5%9B/"},{"name":"èµ›åæ€»ç»“","slug":"èµ›åæ€»ç»“","permalink":"https://ret2libc-pwned.github.io/tags/%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"},{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://ret2libc-pwned.github.io/tags/%E9%A2%98%E8%A7%A3/"}]},{"title":"Hello World","slug":"hello-world","date":"2021-10-06T06:53:59.209Z","updated":"2021-10-17T09:07:02.605Z","comments":true,"path":"2021/10/06/hello-world/","link":"","permalink":"https://ret2libc-pwned.github.io/2021/10/06/hello-world/","excerpt":"","text":"å¦‚é¢˜, è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« .","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"OI","slug":"OI","permalink":"https://ret2libc-pwned.github.io/tags/OI/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://ret2libc-pwned.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"å¹³è¡¡æ ‘","slug":"å¹³è¡¡æ ‘","permalink":"https://ret2libc-pwned.github.io/tags/%E5%B9%B3%E8%A1%A1%E6%A0%91/"},{"name":"BST","slug":"BST","permalink":"https://ret2libc-pwned.github.io/tags/BST/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://ret2libc-pwned.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://ret2libc-pwned.github.io/tags/%E9%A2%98%E8%A7%A3/"},{"name":"èµ›åæ€»ç»“","slug":"èµ›åæ€»ç»“","permalink":"https://ret2libc-pwned.github.io/tags/%E8%B5%9B%E5%90%8E%E6%80%BB%E7%BB%93/"},{"name":"å¸¸æ•°ä¼˜åŒ–","slug":"å¸¸æ•°ä¼˜åŒ–","permalink":"https://ret2libc-pwned.github.io/tags/%E5%B8%B8%E6%95%B0%E4%BC%98%E5%8C%96/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"https://ret2libc-pwned.github.io/tags/%E7%AC%94%E8%AE%B0/"},{"name":"å¥‡æŠ€æ·«å·§","slug":"å¥‡æŠ€æ·«å·§","permalink":"https://ret2libc-pwned.github.io/tags/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/"},{"name":"æ¨¡æ‹Ÿèµ›","slug":"æ¨¡æ‹Ÿèµ›","permalink":"https://ret2libc-pwned.github.io/tags/%E6%A8%A1%E6%8B%9F%E8%B5%9B/"}]}